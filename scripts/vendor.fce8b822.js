!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.4",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;
if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),
e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):_.isFunction(a)?this.each(function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===za||"boolean"===c)&&(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return _.isFunction(a)?this.each(function(b){_(this).wrapInner(a.call(this,b))}):this.each(function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?sa(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.4.0/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(sa(f[d]));return new b(h)}}function e(a){if(null==a||B(a))return!1;var b="length"in Object(a)&&a.length;return a.nodeType===Ud&&b?!0:w(a)||Ld(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(z(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Ld(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(v(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)ud.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Jd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(u(g)||z(g))for(var h=Object.keys(g),i=0,l=h.length;l>i;i++){var m=h[i],n=g[m];c&&u(n)?(u(a[m])||(a[m]=Ld(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,Cd.call(arguments,1),!1)}function m(a){return k(a,Cd.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return"undefined"==typeof a}function t(a){return"undefined"!=typeof a}function u(a){return null!==a&&"object"==typeof a}function v(a){return null!==a&&"object"==typeof a&&!Gd(a)}function w(a){return"string"==typeof a}function x(a){return"number"==typeof a}function y(a){return"[object Date]"===Fd.call(a)}function z(a){return"function"==typeof a}function A(a){return"[object RegExp]"===Fd.call(a)}function B(a){return a&&a.window===a}function C(a){return a&&a.$evalAsync&&a.$watch}function D(a){return"[object File]"===Fd.call(a)}function E(a){return"[object FormData]"===Fd.call(a)}function F(a){return"[object Blob]"===Fd.call(a)}function G(a){return"boolean"==typeof a}function H(a){return a&&z(a.then)}function I(a){return Md.test(Fd.call(a))}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return td(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b,c,d){function e(a,b,c,d,e){var f=N(b,null,d,e);u(b)&&(d.push(b),e.push(f)),c[a]=f}if(B(a)||C(a))throw Hd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(I(b))throw Hd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(b){if(a===b)throw Hd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],u(a)){var g=c.indexOf(a);if(-1!==g)return d[g];c.push(a),d.push(b)}var h,i;if(Ld(a)){b.length=0;for(var k=0;k<a.length;k++)h=N(a[k],null,c,d),u(a[k])&&(c.push(a[k]),d.push(h)),b.push(h)}else{var l=b.$$hashKey;if(Ld(b)?b.length=0:f(b,function(a,c){delete b[c]}),v(a))for(i in a)e(i,a[i],b,c,d);else if(a&&"function"==typeof a.hasOwnProperty)for(i in a)a.hasOwnProperty(i)&&e(i,a[i],b,c,d);else for(i in a)ud.call(a,i)&&e(i,a[i],b,c,d);j(b,l)}}else if(b=a,a)if(Ld(a))b=N(a,[],c,d);else if(I(a))b=new a.constructor(a);else if(y(a))b=new Date(a.getTime());else if(A(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(u(a)){var m=Object.create(Gd(a));b=N(a,m,c,d)}return b}function O(a,b){if(Ld(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(u(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function P(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Ld(a)){if(y(a))return y(b)?P(a.getTime(),b.getTime()):!1;if(A(a))return A(b)?a.toString()==b.toString():!1;if(C(a)||C(b)||B(a)||B(b)||Ld(b)||y(b)||A(b))return!1;f=pa();for(e in a)if("$"!==e.charAt(0)&&!z(a[e])){if(!P(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!(e in f||"$"===e.charAt(0)||b[e]===c||z(b[e])))return!1;return!0}if(!Ld(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!P(a[e],b[e]))return!1;return!0}}return!1}function Q(a,b,c){return a.concat(Cd.call(b,c))}function R(a,b){return Cd.call(a,b||0)}function S(a,b){var c=arguments.length>2?R(arguments,2):[];return!z(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,Q(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function T(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:B(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":C(d)&&(e="$SCOPE"),e}function U(a,b){return"undefined"==typeof a?c:(x(b)||(b=b?2:null),JSON.stringify(a,T,b))}function V(a){return w(a)?JSON.parse(a):a}function W(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function X(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Y(a,b,c){c=c?-1:1;var d=W(b,a.getTimezoneOffset());return X(a,c*(d-a.getTimezoneOffset()))}function Z(a){a=zd(a).clone();try{a.empty()}catch(b){}var c=zd("<div>").append(a).html();try{return a[0].nodeType===Wd?td(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+td(b)})}catch(b){return td(c)}}function $(a){try{return decodeURIComponent(a)}catch(b){}}function _(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=$(b[0]),t(c))){var e=t(b[1])?$(b[1]):!0;ud.call(d,c)?Ld(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function aa(a){var b=[];return f(a,function(a,c){Ld(a)?f(a,function(a){b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}),b.length?b.join("&"):""}function ba(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function da(a,b){var c,d,e=Rd.length;for(d=0;e>d;++d)if(c=Rd[d]+b,w(c=a.getAttribute(c)))return c;return null}function ea(a,b){var c,d,e={};f(Rd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(Rd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==da(c,"strict-di"),b(c,d?[d]:[],e))}function fa(c,d,e){u(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=zd(c),c.injector()){var a=c[0]===b?"document":Z(c);throw Hd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=Ya(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),Id.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(z(Id.resumeDeferredBootstrap)&&Id.resumeDeferredBootstrap()))}function ga(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ha(a){var b=Id.element(a).injector();if(!b)throw Hd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ia(a,b){return b=b||"_",a.replace(Sd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ja(){var b;if(!Td){var d=Qd();Ad=a.jQuery,t(d)&&(Ad=null===d?c:a[d]),Ad&&Ad.fn.on?(zd=Ad,l(Ad.fn,{scope:me.scope,isolateScope:me.isolateScope,controller:me.controller,injector:me.injector,inheritedData:me.inheritedData}),b=Ad.cleanData,Ad.cleanData=function(a){var c;if(Kd)Kd=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=Ad._data(d,"events"),c&&c.$destroy&&Ad(d).triggerHandler("$destroy");b(a)}):zd=Aa,Id.element=zd,Td=!0}}function ka(a,b,c){if(!a)throw Hd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function la(a,b,c){return c&&Ld(a)&&(a=a[a.length-1]),ka(z(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ma(a,b){if("hasOwnProperty"===a)throw Hd("badname","hasOwnProperty is not a valid {0} name",b)}function na(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&z(a)?S(f,a):a}function oa(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return zd(d)}function pa(){return Object.create(null)}function qa(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d,e){return e||(e=b),function(){return e[d||"push"]([a,c,arguments]),j}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=[],i=a("$injector","invoke","push",e),j={_invokeQueue:b,_configBlocks:e,_runBlocks:h,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:a("$provide","decorator"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:i,run:function(a){return h.push(a),this}};return g&&i(g),j})}})}function ra(a){var b=[];return JSON.stringify(a,function(a,c){if(c=T(a,c),u(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function sa(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?ra(a):a}function ta(b){l(b,{bootstrap:fa,copy:N,extend:l,merge:m,equals:P,element:zd,forEach:f,injector:Ya,noop:p,bind:S,toJson:U,fromJson:V,identity:q,isUndefined:s,isDefined:t,isString:w,isFunction:z,isObject:u,isNumber:x,isElement:J,isArray:Ld,version:$d,isDate:y,lowercase:td,uppercase:vd,callbacks:{counter:0},getTestability:ha,$$minErr:d,$$csp:Pd,reloadWithDebugInfo:ga}),Bd=qa(a);try{Bd("ngLocale")}catch(c){Bd("ngLocale",[]).provider("$locale",Eb)}Bd("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:pc}),a.provider("$compile",hb).directive({a:jf,input:Af,textarea:Af,form:of,script:sg,select:vg,style:xg,option:wg,ngBind:Df,ngBindHtml:Ff,ngBindTemplate:Ef,ngClass:Hf,ngClassEven:Jf,ngClassOdd:If,ngCloak:Kf,ngController:Lf,ngForm:pf,ngHide:mg,ngIf:Of,ngInclude:Pf,ngInit:Rf,ngNonBindable:dg,ngPluralize:hg,ngRepeat:ig,ngShow:lg,ngStyle:ng,ngSwitch:og,ngSwitchWhen:pg,ngSwitchDefault:qg,ngOptions:gg,ngTransclude:rg,ngModel:ag,ngList:Sf,ngChange:Gf,pattern:zg,ngPattern:zg,required:yg,ngRequired:yg,minlength:Bg,ngMinlength:Bg,maxlength:Ag,
ngMaxlength:Ag,ngValue:Cf,ngModelOptions:cg}).directive({ngInclude:Qf}).directive(kf).directive(Mf),a.provider({$anchorScroll:Za,$animate:Be,$$animateQueue:Ae,$$AnimateRunner:ze,$browser:eb,$cacheFactory:fb,$controller:mb,$document:nb,$exceptionHandler:ob,$filter:Dc,$interpolate:Cb,$interval:Db,$http:yb,$httpParamSerializer:qb,$httpParamSerializerJQLike:rb,$httpBackend:Ab,$location:Sb,$log:Tb,$parse:jc,$rootScope:oc,$q:kc,$$q:lc,$sce:tc,$sceDelegate:sc,$sniffer:uc,$templateCache:gb,$templateRequest:vc,$$testability:wc,$timeout:xc,$window:Ac,$$rAF:nc,$$asyncCallback:cb,$$jqLite:Ta,$$HashMap:qe,$$cookieReader:Cc})}])}function ua(){return++ae}function va(a){return a.replace(de,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ee,"Moz$1")}function wa(a){return!ie.test(a)}function xa(a){var b=a.nodeType;return b===Ud||!b||b===Yd}function ya(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(wa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(je.exec(a)||["",""])[1].toLowerCase(),e=le[d]||le._default,c.innerHTML=e[1]+a.replace(ke,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=Q(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function za(a,c){c=c||b;var d;return(d=he.exec(a))?[c.createElement(d[1])]:(d=ya(a,c))?d.childNodes:[]}function Aa(a){if(a instanceof Aa)return a;var b;if(w(a)&&(a=Nd(a),b=!0),!(this instanceof Aa)){if(b&&"<"!=a.charAt(0))throw ge("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Aa(a)}b?Ka(this,za(a)):Ka(this,a)}function Ba(a){return a.cloneNode(!0)}function Ca(a,b){if(b||Ea(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ea(c[d])}function Da(a,b,c,d){if(t(d))throw ge("offargs","jqLite#off() does not support the `selector` argument");var e=Fa(a),g=e&&e.events,h=e&&e.handle;if(h)if(b)f(b.split(" "),function(b){if(t(c)){var d=g[b];if(M(d||[],c),d&&d.length>0)return}ce(a,b,h),delete g[b]});else for(b in g)"$destroy"!==b&&ce(a,b,h),delete g[b]}function Ea(a,b){var d=a.ng339,e=d&&_d[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Da(a)),delete _d[d],a.ng339=c}}function Fa(a,b){var d=a.ng339,e=d&&_d[d];return b&&!e&&(a.ng339=d=ua(),e=_d[d]={events:{},data:{},handle:c}),e}function Ga(a,b,c){if(xa(a)){var d=t(c),e=!d&&b&&!u(b),f=!b,g=Fa(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ha(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ia(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Nd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Nd(b)+" "," ")))})}function Ja(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Nd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Nd(c))}}function Ka(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function La(a,b){return Ma(a,"$"+(b||"ngController")+"Controller")}function Ma(a,b,d){a.nodeType==Yd&&(a=a.documentElement);for(var e=Ld(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=zd.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===Zd&&a.host}}function Na(a){for(Ca(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Oa(a,b){b||Ca(a);var c=a.parentNode;c&&c.removeChild(a)}function Pa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):zd(c).on("load",b)}function Qa(a,b){var c=ne[b.toLowerCase()];return c&&oe[L(a)]&&c}function Ra(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&pe[b]}function Sa(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(s(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=O(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Ta(){this.$get=function(){return l(Aa,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ha(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ja(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ia(a,b)}})}}function Ua(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function Va(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Wa(a){var b=a.toString().replace(ue,""),c=b.match(re);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Xa(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw w(c)&&c||(c=a.name||Wa(a)),ve("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(ue,""),g=e.match(re),f(g[1].split(se),function(a){a.replace(te,function(a,b,c){d.push(c)})})}a.$inject=d}}else Ld(a)?(h=a.length-1,la(a[h],"fn"),d=a.slice(0,h)):la(a,"fn",!0);return d}function Ya(a,b){function d(a){return function(b,c){return u(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(ma(a,"service"),(z(b)||Ld(b))&&(b=A.instantiate(b)),!b.$get)throw ve("pget","Provider '{0}' must define $get factory method.",a);return y[a+t]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(s(c))throw ve("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function i(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return i(a,r(b),!1)}function l(a,b){ma(a,"constant"),y[a]=b,B[a]=b}function m(a,b){var c=A.get(a+t),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=A.get(d[0]);e[d[1]].apply(e,d[2])}}if(!x.get(a)){x.put(a,!0);try{w(a)?(b=Bd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):z(a)?c.push(A.invoke(a)):Ld(a)?c.push(A.invoke(a)):la(a,"module")}catch(e){throw Ld(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),ve("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function o(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===q)throw ve("cdep","Circular dependency found: {0}",b+" <- "+v.join(" <- "));return a[b]}try{return v.unshift(b),a[b]=q,a[b]=c(b,d)}catch(e){throw a[b]===q&&delete a[b],e}finally{v.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Ya.$$annotate(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw ve("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return Ld(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((Ld(a)?a[a.length-1]:a).prototype||null),f=e(a,d,b,c);return u(f)||z(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:Ya.$$annotate,has:function(b){return y.hasOwnProperty(b+t)||a.hasOwnProperty(b)}}}b=b===!0;var q={},t="Provider",v=[],x=new Va([],!0),y={$provide:{provider:d(e),factory:d(i),service:d(j),value:d(k),constant:d(l),decorator:m}},A=y.$injector=o(y,function(a,b){throw Id.isString(b)&&v.push(b),ve("unpr","Unknown provider: {0}",v.join(" <- "))}),B={},C=B.$injector=o(B,function(a,b){var d=A.get(a+t,b);return C.invoke(d.$get,d,c,a)});return f(n(a),function(a){C.invoke(a||p)}),C}function Za(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===L(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(z(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else x(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=w(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Pa(function(){d.$evalAsync(h)})}),h}]}function $a(a,b){return a||b?a?b?(Ld(a)&&(a=a.join(" ")),Ld(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function _a(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===xe)return c}}function ab(a){w(a)&&(a=a.split(" "));var b=pa();return f(a,function(a){a.length&&(b[a]=!0)}),b}function bb(a){return u(a)?a:{}}function cb(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function db(a,b,c,d){function e(a){try{a.apply(null,R(arguments,1))}finally{if(t--,0===t)for(;u.length;)try{u.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b+1)}function h(){j(),k()}function i(){try{return n.state}catch(a){}}function j(){v=i(),v=s(v)?null:v,P(v,C)&&(v=C),C=v}function k(){(x!==l.url()||w!==v)&&(x=l.url(),w=v,f(A,function(a){a(l.url(),v)}))}var l=this,m=(b[0],a.location),n=a.history,o=a.setTimeout,q=a.clearTimeout,r={};l.isMock=!1;var t=0,u=[];l.$$completeOutstandingRequest=e,l.$$incOutstandingRequestCount=function(){t++},l.notifyWhenNoOutstandingRequests=function(a){0===t?a():u.push(a)};var v,w,x=m.href,y=b.find("base"),z=null;j(),w=v,l.url=function(b,c,e){if(s(e)&&(e=null),m!==a.location&&(m=a.location),n!==a.history&&(n=a.history),b){var f=w===e;if(x===b&&(!d.history||f))return l;var h=x&&Jb(x)===Jb(b);return x=b,w=e,!d.history||h&&f?(h||(z=b),c?m.replace(b):h?m.hash=g(b):m.href=b):(n[c?"replaceState":"pushState"](e,"",b),j(),w=v),l}return z||m.href.replace(/%27/g,"'")},l.state=function(){return v};var A=[],B=!1,C=null;l.onUrlChange=function(b){return B||(d.history&&zd(a).on("popstate",h),zd(a).on("hashchange",h),B=!0),A.push(b),b},l.$$applicationDestroyed=function(){zd(a).off("hashchange popstate",h)},l.$$checkUrlChange=k,l.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(a,b){var c;return t++,c=o(function(){delete r[c],e(a)},b||0),r[c]=!0,c},l.defer.cancel=function(a){return r[a]?(delete r[a],q(a),e(p),!0):!1}}function eb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new db(a,d,b,c)}]}function fb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(!s(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function gb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function hb(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){var g=a.match(d);if(!g)throw Ce("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(u(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),u(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),u(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Ce("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!lb(d,f))throw Ce("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function i(a){var b=a.charAt(0);if(!b||b!==td(b))throw Ce("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Ce("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var j={},k="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,n=/(([\w\-]+)(?:\:([^;]+))?;?)/,s=K("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function A(b,c){return ma(b,"directive"),w(b)?(i(b),ka(c,"directiveFactory"),j.hasOwnProperty(b)||(j[b]=[],a.factory(b+k,["$injector","$exceptionHandler",function(a,c){var d=[];return f(j[b],function(e,f){try{var h=a.invoke(e);z(h)?h={compile:r(h)}:!h.compile&&h.link&&(h.compile=r(h.link)),h.priority=h.priority||0,h.index=f,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var i=h.$$bindings=g(h,h.name);u(i.isolateScope)&&(h.$$isolateBindings=i.isolateScope),d.push(h)}catch(j){c(j)}}),d}])),j[b].push(c)):f(b,h(A)),this},this.aHrefSanitizationWhitelist=function(a){return t(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var y=!0;this.debugInfoEnabled=function(a){return t(a)?(y=a,this):y},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,g,h,i,r,t,A,B,D){function E(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof zd||(a=zd(a)),f(a,function(b,c){b.nodeType==Wd&&b.nodeValue.match(/\S+/)&&(a[c]=zd(b).wrap("<span></span>").parent()[0])});var g=H(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){ka(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=G(i));var j;if(j="html"!==h?zd($(h,zd("<div>").append(a).html())):c?me.clone.call(a):a,f)for(var k in f)j.data("$"+k+"Controller",f[k].instance);return F.$$addScopeInfo(j,b),c&&c(j,b),g&&g(b,j,j,e),j}}function G(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&b.toString().match(/SVG/)?"svg":"html"}function H(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)if(i=q[p[k++]],g=p[k++],h=p[k++],g){if(g.scope){j=a.$new(),F.$$addScopeInfo(zd(i),j);var s=g.$$destroyBindings;s&&(g.$$destroyBindings=null,j.$on("$destroyed",s))}else j=a;n=g.transcludeOnThisElement?I(a,g.transclude,f,g.elementTranscludeOnThisElement):!g.templateOnThisElement&&f?f:!f&&b?I(a,b):null,g(h,j,i,e,n,g)}else h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new fa,j=J(a[q],[],i,0===q?e:c,f),k=j.length?O(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&F.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:H(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function I(a,b,c,d){var e=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return e}function J(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case Ud:S(b,ib(L(a)),"E",d,e);for(var j,k,l,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var v=!1,x=!1;j=r[s],k=j.name,p=Nd(j.value),o=ib(k),(q=la.test(o))&&(k=k.replace(De,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.replace(/(Start|End)$/,"");T(y)&&o===y+"Start"&&(v=k,x=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=ib(k.toLowerCase()),i[l]=k,(q||!c.hasOwnProperty(l))&&(c[l]=p,Qa(a,l)&&(c[l]=!0)),aa(a,b,p,l,q),S(b,l,"A",d,e,v,x)}if(g=a.className,u(g)&&(g=g.animVal),w(g)&&""!==g)for(;f=n.exec(g);)l=ib(f[2]),S(b,l,"C",d,e)&&(c[l]=Nd(f[3])),g=g.substr(f.index+f[0].length);break;case Wd:Y(b,a.nodeValue);break;case Xd:try{f=m.exec(a.nodeValue),f&&(l=ib(f[1]),S(b,l,"M",d,e)&&(c[l]=Nd(f[2])))}catch(z){}}return b.sort(W),b}function K(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Ce("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==Ud&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return zd(d)}function N(a,b,c){return function(d,e,f,g,h){return e=K(e[0],b,c),a(d,e,f,g,h)}}function O(a,d,f,g,h,j,k,l,m){function n(a,b,c,d){a&&(c&&(a=N(a,c,d)),a.require=s.require,a.directiveName=t,(E===s||s.$$isolateScope)&&(a=ca(a,{isolateScope:!0})),k.push(a)),b&&(c&&(b=N(b,c,d)),b.require=s.require,b.directiveName=t,(E===s||s.$$isolateScope)&&(b=ca(b,{isolateScope:!0})),l.push(b))}function o(a,b,c,d){var e;if(w(b)){var f=b.match(v),g=b.substring(f[0].length),h=f[1]||f[3],i="?"===f[2];if("^^"===h?c=c.parent():(e=d&&d[g],e=e&&e.instance),!e){var j="$"+g+"Controller";e=h?c.inheritedData(j):c.data(j)}if(!e&&!i)throw Ce("ctreq","Controller '{0}', required by directive '{1}', can't be found!",g,a)}else if(Ld(b)){e=[];for(var k=0,l=b.length;l>k;k++)e[k]=o(a,b[k],c,d)}return e||null}function p(a,b,c,d,e,f){var g=pa();for(var h in d){var j=d[h],k={$scope:j===E||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=i(l,k,!0,j.controllerAs);g[j.name]=m,M||a.data("$"+j.name+"Controller",m.instance)}return g}function q(a,b,e,g,h,i){function j(a,b,d){var e;return C(a)||(d=b,b=a,a=c),M&&(e=v),d||(d=M?x.parent():x),h(a,b,e,d,I)}var m,n,q,t,u,v,w,x,y;if(d===e?(y=f,x=f.$$element):(x=zd(e),y=new fa(x,f)),E&&(u=b.$new(!0)),h&&(w=j,w.$$boundTransclude=h),D&&(v=p(x,y,w,D,u,b)),E&&(F.$$addScopeInfo(x,u,!0,!(G&&(G===E||G===E.$$originalDirective))),F.$$addScopeClass(x,!0),u.$$isolateBindings=E.$$isolateBindings,ea(b,y,u,u.$$isolateBindings,E,u)),v){var z,A,B=E||r;B&&v[B.name]&&(z=B.$$bindings.bindToController,t=v[B.name],t&&t.identifier&&z&&(A=t,i.$$destroyBindings=ea(b,y,t.instance,z,B)));for(m in v){t=v[m];var H=t();H!==t.instance&&(t.instance=H,x.data("$"+s.name+"Controller",H),t===A&&(i.$$destroyBindings(),i.$$destroyBindings=ea(b,y,H,z,B)))}}for(m=0,n=k.length;n>m;m++)q=k[m],da(q,q.isolateScope?u:b,x,y,q.require&&o(q.directiveName,q.require,x,v),w);var I=b;for(E&&(E.template||null===E.templateUrl)&&(I=u),a&&a(I,e.childNodes,c,h),m=l.length-1;m>=0;m--)q=l[m],da(q,q.isolateScope?u:b,x,y,q.require&&o(q.directiveName,q.require,x,v),w)}m=m||{};for(var r,s,t,x,y,A,B=-Number.MAX_VALUE,D=m.controllerDirectives,E=m.newIsolateScopeDirective,G=m.templateDirective,H=m.nonTlbTranscludeDirective,I=!1,L=!1,M=m.hasElementTranscludeDirective,O=f.$$element=zd(d),P=j,S=g,T=0,W=a.length;W>T;T++){s=a[T];var Y=s.$$start,_=s.$$end;if(Y&&(O=K(d,Y,_)),x=c,B>s.priority)break;if((A=s.scope)&&(s.templateUrl||(u(A)?(X("new/isolated scope",E||r,s,O),E=s):X("new/isolated scope",E,s,O)),r=r||s),t=s.name,!s.templateUrl&&s.controller&&(A=s.controller,D=D||pa(),X("'"+t+"' controller",D[t],s,O),D[t]=s),(A=s.transclude)&&(I=!0,s.$$tlb||(X("transclusion",H,s,O),H=s),"element"==A?(M=!0,B=s.priority,x=O,O=f.$$element=zd(b.createComment(" "+t+": "+f[t]+" ")),d=O[0],ba(h,R(x),d),S=F(x,g,B,P&&P.name,{nonTlbTranscludeDirective:H})):(x=zd(Ba(d)).contents(),O.empty(),S=F(x,g))),s.template)if(L=!0,X("template",G,s,O),G=s,A=z(s.template)?s.template(O,f):s.template,A=ja(A),s.replace){if(P=s,x=wa(A)?[]:kb($(s.templateNamespace,Nd(A))),d=x[0],1!=x.length||d.nodeType!==Ud)throw Ce("tplrt","Template for directive '{0}' must have exactly one root element. {1}",t,"");ba(h,O,d);var aa={$attr:{}},ga=J(d,[],aa),ha=a.splice(T+1,a.length-(T+1));E&&Q(ga),a=a.concat(ga).concat(ha),U(f,aa),W=a.length}else O.html(A);if(s.templateUrl)L=!0,X("template",G,s,O),G=s,s.replace&&(P=s),q=V(a.splice(T,a.length-T),O,f,h,I&&S,k,l,{controllerDirectives:D,newIsolateScopeDirective:E,templateDirective:G,nonTlbTranscludeDirective:H}),W=a.length;else if(s.compile)try{y=s.compile(O,f,S),z(y)?n(null,y,Y,_):y&&n(y.pre,y.post,Y,_)}catch(ia){e(ia,Z(O))}s.terminal&&(q.terminal=!0,B=Math.max(B,s.priority))}return q.scope=r&&r.scope===!0,q.transcludeOnThisElement=I,q.elementTranscludeOnThisElement=M,q.templateOnThisElement=L,q.transclude=S,m.hasElementTranscludeDirective=M,q}function Q(a){for(var b=0,c=a.length;c>b;b++)a[b]=o(a[b],{$$isolateScope:!0})}function S(b,d,f,g,h,i,l){if(d===h)return null;var m=null;if(j.hasOwnProperty(d))for(var n,p=a.get(d+k),q=0,r=p.length;r>q;q++)try{n=p[q],(g===c||g>n.priority)&&-1!=n.restrict.indexOf(f)&&(i&&(n=o(n,{$$start:i,$$end:l})),b.push(n),m=n)}catch(s){e(s)}return m}function T(b){if(j.hasOwnProperty(b))for(var c,d=a.get(b+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function U(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function V(a,b,c,d,e,h,i,j){var k,l,m=[],n=b[0],p=a.shift(),q=o(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=z(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),g(A.getTrustedResourceUrl(r)).then(function(g){var o,t,v,w;if(g=ja(g),p.replace){if(v=wa(g)?[]:kb($(s,Nd(g))),o=v[0],1!=v.length||o.nodeType!==Ud)throw Ce("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);t={$attr:{}},ba(d,b,o);var x=J(o,[],t);u(p.scope)&&Q(x),a=x.concat(a),U(c,t)}else o=n,b.html(g);for(a.unshift(q),k=O(a,o,c,e,b,p,h,i,j),f(d,function(a,c){a==o&&(d[c]=b[0])}),l=H(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==n){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ba(o)),ba(A,zd(z),C),E(zd(C),D)}w=k.transcludeOnThisElement?I(y,k.transclude,B):B,k(l,y,C,d,w,k)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=I(b,k.transclude,e)),k(l,b,c,d,f,k)))}}function W(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){if(b)throw Ce("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,Z(d))}function Y(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&F.$$addBindingClass(b),function(a,b){var e=b.parent();d||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function $(a,c){switch(a=td(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function _(a,b){if("srcdoc"==b)return A.HTML;var c=L(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?A.RESOURCE_URL:void 0}function aa(a,b,c,e,f){var g=_(a,e);f=s[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===L(a))throw Ce("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(x.test(e))throw Ce("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ba(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),zd(d).data(zd(g).data()),Ad?(Kd=!0,Ad.cleanData([g])):delete zd.cache[g[zd.expando]];for(var n=1,o=c.length;o>n;n++){var p=c[n];zd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function ca(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function da(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,Z(c))}}function ea(a,b,c,e,g,i){var j;f(e,function(e,f){var i,k,l,m,n=e.attrName,o=e.optional,q=e.mode;switch(q){case"@":b.$observe(n,function(a){c[f]=a}),b.$$observers[n].$$scope=a,b[n]&&(c[f]=d(b[n])(a));break;case"=":if(o&&!b[n])return;k=h(b[n]),m=k.literal?P:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw i=c[f]=k(a),Ce("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",b[n],g.name)},i=c[f]=k(a);var r=function(b){return m(b,c[f])||(m(b,i)?l(a,b=c[f]):c[f]=b),i=b};r.$stateful=!0;var s;s=e.collection?a.$watchCollection(b[n],r):a.$watch(h(b[n],r),null,k.literal),j=j||[],j.push(s);break;case"&":if(!b.hasOwnProperty(n)&&o)break;if(k=h(b[n]),k===p&&o)break;c[f]=function(b){return k(a,b)}}});var k=j?function(){for(var a=0,b=j.length;b>a;++a)j[a]()}:p;return i&&k!==p?(i.$on("$destroy",k),p):k}var fa=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};fa.prototype={$normalize:ib,$addClass:function(a){a&&a.length>0&&B.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&B.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=jb(a,b);c&&c.length&&B.addClass(this.$$element,c);var d=jb(b,a);d&&d.length&&B.removeClass(this.$$element,d)},$set:function(a,b,d,g){var h,i=this.$$element[0],j=Qa(i,a),k=Ra(i,a),l=a;if(j?(this.$$element.prop(a,b),g=j):k&&(this[k]=b,l=k),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a],g||(this.$attr[a]=g=ia(a,"-"))),h=L(this.$$element),"a"===h&&"href"===a||"img"===h&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===h&&"srcset"===a){for(var m="",n=Nd(b),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(n)?o:/(,)/,q=n.split(p),r=Math.floor(q.length/2),s=0;r>s;s++){var t=2*s;m+=D(Nd(q[t]),!0),m+=" "+Nd(q[t+1])}var u=Nd(q[2*s]).split(/\s/);m+=D(Nd(u[0]),!0),2===u.length&&(m+=" "+Nd(u[1])),this[a]=b=m}d!==!1&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b));var v=this.$$observers;v&&f(v[l],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=pa()),e=d[a]||(d[a]=[]);return e.push(b),r.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){M(e,b)}}};var ga=d.startSymbol(),ha=d.endSymbol(),ja="{{"==ga||"}}"==ha?q:function(a){return a.replace(/\{\{/g,ga).replace(/}}/g,ha)},la=/^ngAttr[A-Z]/;return F.$$addBindingInfo=y?function(a,b){var c=a.data("$binding")||[];Ld(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,F.$$addBindingClass=y?function(a){E(a,"ng-binding")}:p,F.$$addScopeInfo=y?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,F.$$addScopeClass=y?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:p,F}]}function ib(a){return va(a.replace(De,""))}function jb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function kb(a){a=zd(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===Xd&&Dd.call(a,b,1)}return a}function lb(a,b){if(b&&w(b))return b;if(w(a)){var c=Fe.exec(a);if(c)return c[3]}}function mb(){var a={},b=!1;this.register=function(b,c){ma(b,"controller"),u(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!u(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,m,n,o;if(i=i===!0,j&&w(j)&&(o=j),w(d)){if(m=d.match(Fe),!m)throw Ee("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:na(h.$scope,n,!0)||(b?na(f,n,!0):c),la(d,n,!0)}if(i){var p=(Ld(d)?d[d.length-1]:d).prototype;k=Object.create(p||null),o&&g(h,o,k,n||d.name);var q;return q=l(function(){var a=e.invoke(d,k,h,n);return a!==k&&(u(a)||z(a))&&(k=a,o&&g(h,o,k,n||d.name)),k},{instance:k,identifier:o})}return k=e.instantiate(d,h,n),o&&g(h,o,k,n||d.name),k}}]}function nb(){this.$get=["$window",function(a){return zd(a.document)}]}function ob(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function pb(a){return u(a)?y(a)?a.toISOString():U(a):a}function qb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||s(a)||(Ld(a)?f(a,function(a,d){b.push(ca(c)+"="+ca(pb(a)))}):b.push(ca(c)+"="+ca(pb(a))))}),b.join("&")}}}function rb(){this.$get=function(){return function(a){function b(a,d,e){null===a||s(a)||(Ld(a)?f(a,function(a){b(a,d+"[]")}):u(a)&&!y(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(ca(d)+"="+ca(pb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function sb(a,b){if(w(a)){var c=a.replace(Ke,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Ge)||tb(c))&&(a=V(c))}}return a}function tb(a){var b=a.match(Ie);return b&&Je[b[0]].test(a)}function ub(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=pa();return w(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(td(Nd(a.substr(0,c))),Nd(a.substr(c+1)))}):u(a)&&f(a,function(a,c){b(td(c),Nd(a))}),d}function vb(a){var b;return function(c){if(b||(b=ub(a)),c){var d=b[td(c)];return void 0===d&&(d=null),d}return b}}function wb(a,b,c,d){return z(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function xb(a){return a>=200&&300>a}function yb(){var a=this.defaults={transformResponse:[sb],transformRequest:[function(a){return!u(a)||D(a)||F(a)||E(a)?a:U(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(He),put:O(He),patch:O(He)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return t(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,j,k,m){function n(b){function e(a){var b=l({},a);return a.data?b.data=wb(a.data,a.headers,a.status,i.transformResponse):b.data=a.data,xb(a.status)?b:k.reject(b)}function g(a,b){var c,d={};return f(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function h(b){var c,d,e,f=a.headers,h=l({},b.headers);f=l({},f.common,f[td(b.method)]);a:for(c in f){d=td(c);for(e in h)if(td(e)===d)continue a;h[c]=f[c]}return g(h,O(b))}if(!Id.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var i=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);i.headers=h(b),i.method=vd(i.method),i.paramSerializer=w(i.paramSerializer)?m.get(i.paramSerializer):i.paramSerializer;
var j=function(b){var d=b.headers,g=wb(b.data,vb(d),c,b.transformRequest);return s(g)&&f(d,function(a,b){"content-type"===td(b)&&delete d[b]}),s(b.withCredentials)&&!s(a.withCredentials)&&(b.withCredentials=a.withCredentials),q(b,g).then(e,e)},n=[j,c],o=k.when(i);for(f(x,function(a){(a.request||a.requestError)&&n.unshift(a.request,a.requestError),(a.response||a.responseError)&&n.push(a.response,a.responseError)});n.length;){var p=n.shift(),r=n.shift();o=o.then(p,r)}return o.success=function(a){return la(a,"fn"),o.then(function(b){a(b.data,b.status,b.headers,i)}),o},o.error=function(a){return la(a,"fn"),o.then(null,function(b){a(b.data,b.status,b.headers,i)}),o},o}function o(a){f(arguments,function(a){n[a]=function(b,c){return n(l({},c||{},{method:a,url:b}))}})}function p(a){f(arguments,function(a){n[a]=function(b,c,d){return n(l({},d||{},{method:a,url:b,data:c}))}})}function q(d,e){function f(a,c,d,e){function f(){i(c,a,d,e)}o&&(xb(a)?o.put(y,[a,c,ub(d),e]):o.remove(y)),b?j.$applyAsync(f):(f(),j.$$phase||j.$apply())}function i(a,b,c,e){b=Math.max(b,0),(xb(b)?q.resolve:q.reject)({data:a,status:b,headers:vb(c),config:d,statusText:e})}function l(a){i(a.data,a.status,O(a.headers()),a.statusText)}function m(){var a=n.pendingRequests.indexOf(d);-1!==a&&n.pendingRequests.splice(a,1)}var o,p,q=k.defer(),w=q.promise,x=d.headers,y=r(d.url,d.paramSerializer(d.params));if(n.pendingRequests.push(d),w.then(m,m),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(o=u(d.cache)?d.cache:u(a.cache)?a.cache:v),o&&(p=o.get(y),t(p)?H(p)?p.then(l,l):Ld(p)?i(p[1],p[0],O(p[2]),p[3]):i(p,200,{},"OK"):o.put(y,w)),s(p)){var z=zc(d.url)?h()[d.xsrfCookieName||a.xsrfCookieName]:c;z&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=z),g(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)}return w}function r(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var v=i("$http");a.paramSerializer=w(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var x=[];return f(e,function(a){x.unshift(w(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=a,n}]}function zb(){return new a.XMLHttpRequest}function Ab(){this.$get=["$browser","$window","$document",function(a,b,c){return Bb(a,zb,a.defer,b.angular.callbacks,c[0])}]}function Bb(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){ce(d,"load",f),ce(d,"error",f),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},be(d,"load",f),be(d,"error",f),g.body.appendChild(d),f}return function(g,i,j,k,l,m,n,o){function q(){u&&u(),v&&v.abort()}function r(b,e,f,g,h){y!==c&&d.cancel(y),u=v=null,b(e,f,g,h),a.$$completeOutstandingRequest(p)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==td(g)){var s="_"+(e.counter++).toString(36);e[s]=function(a){e[s].data=a,e[s].called=!0};var u=h(i.replace("JSON_CALLBACK","angular.callbacks."+s),s,function(a,b){r(k,a,e[s].data,"",b),e[s]=p})}else{var v=b();v.open(g,i,!0),f(l,function(a,b){t(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==yc(i).protocol?404:0),r(k,c,b,v.getAllResponseHeaders(),a)};var w=function(){r(k,-1,null,null,"")};if(v.onerror=w,v.onabort=w,n&&(v.withCredentials=!0),o)try{v.responseType=o}catch(x){if("json"!==o)throw x}v.send(j)}if(m>0)var y=d(q,m);else H(m)&&m.then(q)}}function Cb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(n,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=U(a)}return a}function i(f,i,m,n){function o(a){try{return a=C(a),n&&!t(a)?a:h(a)}catch(b){d(Le.interr(f,b))}}n=!!n;for(var p,q,r,u=0,v=[],w=[],x=f.length,y=[],A=[];x>u;){if(-1==(p=f.indexOf(a,u))||-1==(q=f.indexOf(b,p+j))){u!==x&&y.push(g(f.substring(u)));break}u!==p&&y.push(g(f.substring(u,p))),r=f.substring(p+j,q),v.push(r),w.push(c(r,o)),u=q+k,A.push(y.length),y.push("")}if(m&&y.length>1&&Le.throwNoconcat(f),!i||v.length){var B=function(a){for(var b=0,c=v.length;c>b;b++){if(n&&s(a[b]))return;y[A[b]]=a[b]}return y.join("")},C=function(a){return m?e.getTrusted(m,a):e.valueOf(a)};return l(function(a){var b=0,c=v.length,e=new Array(c);try{for(;c>b;b++)e[b]=w[b](a);return B(e)}catch(g){d(Le.interr(f,g))}},{exp:f,expressions:v,$$watchDelegate:function(a,b){var c;return a.$watchGroup(w,function(d,e){var f=B(d);z(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var j=a.length,k=b.length,m=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return i.startSymbol=function(){return a},i.endSymbol=function(){return b},i}]}function Db(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=arguments.length>4,k=j?R(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=t(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=t(h)?h:0,q.then(null,null,j?function(){e.apply(null,k)}:e),q.$$intervalId=l(function(){p.notify(n++),h>0&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete f[q.$$intervalId]),o||a.$apply()},g),f[q.$$intervalId]=p,q}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function Eb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(a){return 1===a?"one":"other"}}}}function Fb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ba(b[c]);return b.join("/")}function Gb(a,b){var c=yc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||Ne[c.protocol]||null}function Hb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=yc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=_(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ib(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Jb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Kb(a){return a.replace(/(#.+)|#$/,"$1")}function Lb(a){return a.substr(0,Jb(a).lastIndexOf("/")+1)}function Mb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Nb(a,b){this.$$html5=!0,b=b||"";var d=Lb(a);Gb(a,this),this.$$parse=function(a){var b=Ib(d,a);if(!w(b))throw Oe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,d);Hb(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=aa(this.$$search),b=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Fb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=Ib(a,e))!==c?(h=g,i=(g=Ib(b,g))!==c?d+(Ib("/",g)||g):a+h):(g=Ib(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function Ob(a,b){var c=Lb(a);Gb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Ib(a,d)||Ib(c,d);"#"===g.charAt(0)?(f=Ib(b,g),s(f)&&(f=g)):f=this.$$html5?g:"",Hb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var c=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Fb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Jb(a)==Jb(b)?(this.$$parse(b),!0):!1}}function Pb(a,b){this.$$html5=!0,Ob.apply(this,arguments);var c=Lb(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Jb(d)?f=d:(g=Ib(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Fb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function Qb(a){return function(){return this[a]}}function Rb(a,b){return function(c){return s(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Sb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return t(b)?(a=b,this):a},this.html5Mode=function(a){return G(a)?(b.enabled=a,this):u(a)?(G(a.enabled)&&(b.enabled=a.enabled),G(a.requireBase)&&(b.requireBase=a.requireBase),G(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw Oe("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Mb(n)+(m||"/"),k=e.history?Nb:Pb}else l=Jb(n),k=Ob;j=new k(l,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=zd(a.target);"a"!==L(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");u(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=yc(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Kb(j.absUrl())!=Kb(n)&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(p=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=Kb(d.url()),b=Kb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Tb(){var a=!0,b=this;this.debugEnabled=function(b){return t(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Ub(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw Qe("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Vb(a,b){if(a){if(a.constructor===a)throw Qe("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw Qe("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw Qe("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw Qe("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function Wb(a,b){if(a){if(a.constructor===a)throw Qe("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===Re||a===Se||a===Te)throw Qe("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function Xb(a,b){return"undefined"!=typeof a?a:b}function Yb(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Zb(a,b){var c=a(b);return!c.$stateful}function $b(a,b){var c,d;switch(a.type){case Xe.Program:c=!0,f(a.body,function(a){$b(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case Xe.Literal:a.constant=!0,a.toWatch=[];break;case Xe.UnaryExpression:$b(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case Xe.BinaryExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case Xe.LogicalExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case Xe.ConditionalExpression:$b(a.test,b),$b(a.alternate,b),$b(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case Xe.Identifier:a.constant=!1,a.toWatch=[a];break;case Xe.MemberExpression:$b(a.object,b),a.computed&&$b(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case Xe.CallExpression:c=a.filter?Zb(b,a.callee.name):!1,d=[],f(a.arguments,function(a){$b(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&Zb(b,a.callee.name)?d:[a];break;case Xe.AssignmentExpression:$b(a.left,b),$b(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case Xe.ArrayExpression:c=!0,d=[],f(a.elements,function(a){$b(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case Xe.ObjectExpression:c=!0,d=[],f(a.properties,function(a){$b(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case Xe.ThisExpression:a.constant=!1,a.toWatch=[]}}function _b(a){if(1==a.length){var b=a[0].expression,d=b.toWatch;return 1!==d.length?d:d[0]!==b?d:c}}function ac(a){return a.type===Xe.Identifier||a.type===Xe.MemberExpression}function bc(a){return 1===a.body.length&&ac(a.body[0].expression)?{type:Xe.AssignmentExpression,left:a.body[0].expression,right:{type:Xe.NGValueParameter},operator:"="}:void 0}function cc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===Xe.Literal||a.body[0].expression.type===Xe.ArrayExpression||a.body[0].expression.type===Xe.ObjectExpression)}function dc(a){return a.constant}function ec(a,b){this.astBuilder=a,this.$filter=b}function fc(a,b){this.astBuilder=a,this.$filter=b}function gc(a,b,c,d){Vb(a,d);for(var e,f=b.split("."),g=0;f.length>1;g++){e=Ub(f.shift(),d);var h=Vb(a[e],d);h||(h={},a[e]=h),a=h}return e=Ub(f.shift(),d),Vb(a[e],d),a[e]=c,c}function hc(a){return"constructor"==a}function ic(a){return z(a.valueOf)?a.valueOf():Ze.call(a)}function jc(){var a=pa(),b=pa();this.$get=["$filter","$sniffer",function(d,e){function g(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=ic(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,d,e,f){var h,i=e.inputs;if(1===i.length){var j=g;return i=i[0],a.$watch(function(a){var b=i(a);return g(b,j)||(h=e(a,c,c,[b]),j=b&&ic(b)),h},b,d,f)}for(var k=[],l=[],m=0,n=i.length;n>m;m++)k[m]=g,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,f=i.length;f>d;d++){var j=i[d](a);(b||(b=!g(j,k[d])))&&(l[d]=j,k[d]=j&&ic(j))}return b&&(h=e(a,c,c,l)),h},b,d,f)}function i(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),t(a)&&d.$$postDigest(function(){t(f)&&e()})},c)}function j(a,b,c,d){function e(a){var b=!0;return f(a,function(a){t(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function k(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){z(b)&&b.apply(this,arguments),e()},c)}function l(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==j&&c!==i,e=d?function(c,d,e,f){var g=a(c,d,e,f);return b(g,c,d)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return t(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==h?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=h,e.inputs=a.inputs?a.inputs:[a]),e}var m={csp:e.csp,expensiveChecks:!1},n={csp:e.csp,expensiveChecks:!0};return function(c,e,f){var g,o,q;switch(typeof c){case"string":c=c.trim(),q=c;var r=f?b:a;if(g=r[q],!g){":"===c.charAt(0)&&":"===c.charAt(1)&&(o=!0,c=c.substring(2));var s=f?n:m,t=new We(s),u=new Ye(t,d,s);g=u.parse(c),g.constant?g.$$watchDelegate=k:o?g.$$watchDelegate=g.literal?j:i:g.inputs&&(g.$$watchDelegate=h),r[q]=g}return l(g,e);case"function":return l(c,e);default:return p}}}]}function kc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return mc(function(b){a.$evalAsync(b)},b)}]}function lc(){this.$get=["$browser","$exceptionHandler",function(a,b){return mc(function(b){a.defer(b)},b)}]}function mc(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{z(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function l(a){var b=new k,c=0,d=Ld(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){return new k};g.prototype={then:function(a,b,c){var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}},k.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(u(a)||z(a))&&(c=a&&a.then),z(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(h){b(h)}}})}};var o=function(a){var b=new k;return b.reject(a),b.promise},p=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return p(e,!1)}return H(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},s=function t(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!z(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof t))return new t(a);var d=new k;return a(b,c),d.promise};return s.defer=n,s.reject=o,s.when=r,s.all=l,s}function nc(){this.$get=["$window","$timeout",function(a,b){function c(){for(var a=0;a<k.length;a++){var b=k[a];b&&(k[a]=null,b())}j=k.length=0}function d(a){var b=k.length;return j++,k.push(a),0===b&&(i=h(c)),function(){b>=0&&(k[b]=null,b=null,0===--j&&i&&(i(),i=null,k.length=0))}}var e=a.requestAnimationFrame||a.webkitRequestAnimationFrame,f=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};d.supported=g;var i,j=0,k=[];return d}]}function oc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,j,k,l){function m(a){a.currentScope.$$destroyed=!0}function n(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function o(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function r(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function t(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){j(a)}h=null}function x(){null===h&&(h=l.defer(function(){y.$apply(w)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",m),d},$watch:function(a,b,c,d){var e=k(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return g=null,z(b)||(i.fn=p),h||(h=f.$$watchers=[]),h.unshift(i),r(this,1),function(){M(h,i)>=0&&r(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!s(f)){if(u(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)f.hasOwnProperty(c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)f.hasOwnProperty(c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),j)if(u(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)ud.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,j=b.length>1,l=0,m=k(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,d,e,f,i,k,m,n,p,r,s=b,t=this,u=[];o("$digest"),l.$$checkUrlChange(),this===y&&null!==h&&(l.defer.cancel(h),w()),g=null;do{for(k=!1,n=t;A.length;){try{r=A.shift(),r.scope.$eval(r.expression,r.locals)}catch(x){j(x)}g=null}a:do{if(f=n.$$watchers)for(i=f.length;i--;)try{if(a=f[i])if((d=a.get(n))===(e=a.last)||(a.eq?P(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){k=!1;break a}}else k=!0,g=a,a.last=a.eq?N(d,null):d,a.fn(d,e===v?d:e,n),5>s&&(p=4-s,u[p]||(u[p]=[]),u[p].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(x){j(x)}if(!(m=n.$$watchersCount&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(m=n.$$nextSibling);)n=n.$parent}while(n=m);if((k||A.length)&&!s--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,u)}while(k||A.length);for(q();B.length;)try{B.shift()()}catch(x){j(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&l.$$applicationDestroyed(),r(this,-this.$$watchersCount);for(var b in this.$$listenerCount)t(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(a,b){return k(a)(this,b)},$evalAsync:function(a,b){y.$$phase||A.length||l.defer(function(){A.length&&y.$digest()}),A.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{return o("$apply"),this.$eval(a)}catch(b){j(b)}finally{q();try{y.$digest()}catch(b){throw j(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,t(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,i={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},k=Q([i],arguments,1);do{for(c=g.$$listeners[a]||f,i.currentScope=g,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){j(l)}else c.splice(d,1),d--,e--;if(h)return i.currentScope=null,i;g=g.$parent}while(g);return i.currentScope=null,i},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;for(var g,h,i,k=Q([f],arguments,1);d=e;){for(f.currentScope=d,g=d.$$listeners[a]||[],h=0,i=g.length;i>h;h++)if(g[h])try{g[h].apply(null,k)}catch(l){j(l)}else g.splice(h,1),h--,i--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return f.currentScope=null,f}};var y=new n,A=y.$$asyncQueue=[],B=y.$$postDigestQueue=[],C=y.$$applyAsyncQueue=[];return y}]}function pc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return t(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=yc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function qc(a){if("self"===a)return a;if(w(a)){if(a.indexOf("***")>-1)throw $e("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Od(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(A(a))return new RegExp("^"+a.source+"$");throw $e("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function rc(a){var b=[];return t(a)&&f(a,function(a){b.push(qc(a))}),b}function sc(){this.SCE_CONTEXTS=_e;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=rc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=rc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?zc(b):!!a.exec(b.href)}function f(c){var d,f,g=yc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw $e("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw $e("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===_e.RESOURCE_URL){if(f(b))return b;throw $e("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===_e.HTML)return k(b);throw $e("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw $e("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[_e.HTML]=g(l),m[_e.CSS]=g(l),m[_e.URL]=g(l),m[_e.JS]=g(l),m[_e.RESOURCE_URL]=g(m[_e.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function tc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>yd)throw $e("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=O(_e);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(_e,function(a,b){var c=td(b);d[va("parse_as_"+c)]=function(b){return e(a,b)},d[va("get_trusted_"+c)]=function(b){return g(a,b)},d[va("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function uc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=n((/android (\d+)/.exec(td((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var m in j)if(d=i.exec(m)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=w(j.webkitTransition),l=w(j.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=yd)return!1;if(s(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Pd(),vendorPrefix:c,transitions:k,animations:l,android:f
}}]}function vc(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){function g(a){if(!f)throw Ce("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,a.status,a.statusText);return c.reject(a)}d.totalPendingRequests++;var h=b.defaults&&b.defaults.transformResponse;Ld(h)?h=h.filter(function(a){return a!==sb}):h===sb&&(h=null);var i={cache:a,transformResponse:h};return b.get(e,i)["finally"](function(){d.totalPendingRequests--}).then(function(b){return a.put(e,b.data),b.data},g)}return d.totalPendingRequests=0,d}]}function wc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=Id.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Od(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function xc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){z(f)||(i=h,h=f,f=p);var j,k=R(arguments,3),l=t(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function yc(a){var b=a;return yd&&(af.setAttribute("href",b),b=af.href),af.setAttribute("href",b),{href:af.href,protocol:af.protocol?af.protocol.replace(/:$/,""):"",host:af.host,search:af.search?af.search.replace(/^\?/,""):"",hash:af.hash?af.hash.replace(/^#/,""):"",hostname:af.hostname,port:af.port,pathname:"/"===af.pathname.charAt(0)?af.pathname:"/"+af.pathname}}function zc(a){var b=w(a)?yc(a):a;return b.protocol===bf.protocol&&b.host===bf.host}function Ac(){this.$get=r(a)}function Bc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},e={},f="";return function(){var a,g,h,i,j,k=d.cookie||"";if(k!==f)for(f=k,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],i=g.indexOf("="),i>0&&(j=b(g.substring(0,i)),e[j]===c&&(e[j]=b(g.substring(i+1))));return e}}function Cc(){this.$get=Bc}function Dc(a){function b(d,e){if(u(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Jc),b("date",Wc),b("filter",Ec),b("json",Xc),b("limitTo",Yc),b("lowercase",gf),b("number",Kc),b("orderBy",Zc),b("uppercase",hf)}function Ec(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Ic(b);switch(h){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Gc(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Fc(a){return z(a.toString)&&a.toString!==Object.prototype.toString}function Gc(a,b,c){var d,e=u(a)&&"$"in a;return b===!0?b=P:z(b)||(b=function(a,b){return s(a)?!1:null===a||null===b?a===b:u(b)||u(a)&&!Fc(a)?!1:(a=td(""+a),b=td(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!u(d)?Hc(d,a.$,b,!1):Hc(d,a,b,c)}}function Hc(a,b,c,d,e){var f=Ic(a),g=Ic(b);if("string"===g&&"!"===b.charAt(0))return!Hc(a,b.substring(1),c,d);if(Ld(a))return a.some(function(a){return Hc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Hc(a[h],b,c,!0))return!0;return e?!1:Hc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!z(i)&&!s(i)){var j="$"===h,k=j?a:a[h];if(!Hc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Ic(a){return null===a?"null":typeof a}function Jc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return s(c)&&(c=b.CURRENCY_SYM),s(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Lc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Kc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Lc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Lc(a,b,c,d,e){if(u(a))return"";var f=0>a;a=Math.abs(a);var g=a===1/0;if(!g&&!isFinite(a))return"";var h=a+"",i="",j=!1,k=[];if(g&&(i="∞"),!g&&-1!==h.indexOf("e")){var l=h.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>e+1?a=0:(i=h,j=!0)}if(g||j)e>0&&1>a&&(i=a.toFixed(e),a=parseFloat(i));else{var m=(h.split(cf)[1]||"").length;s(e)&&(e=Math.min(Math.max(b.minFrac,m),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var n=(""+a).split(cf),o=n[0];n=n[1]||"";var p,q=0,r=b.lgSize,t=b.gSize;if(o.length>=r+t)for(q=o.length-r,p=0;q>p;p++)(q-p)%t===0&&0!==p&&(i+=c),i+=o.charAt(p);for(p=q;p<o.length;p++)(o.length-p)%r===0&&0!==p&&(i+=c),i+=o.charAt(p);for(;n.length<e;)n+="0";e&&"0"!==e&&(i+=d+n.substr(0,e))}return 0===a&&(f=!1),k.push(f?b.negPre:b.posPre,i,f?b.negSuf:b.posSuf),k.join("")}function Mc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Nc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Mc(f,b,d)}}function Oc(a,b){return function(c,d){var e=c["get"+a](),f=vd(b?"SHORT"+a:a);return d[f][e]}}function Pc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Mc(Math[d>0?"floor":"ceil"](d/60),2)+Mc(Math.abs(d%60),2)}function Qc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Rc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Sc(a){return function(b){var c=Qc(b.getFullYear()),d=Rc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Mc(f,a)}}function Tc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Uc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function Vc(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function Wc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,w(c)&&(c=ff.test(c)?n(c):b(c)),x(c)&&(c=new Date(c)),!y(c)||!isFinite(c.getTime()))return c;for(;d;)h=ef.exec(d),h?(j=Q(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=W(e,c.getTimezoneOffset()),c=Y(c,e,!0)),f(j,function(b){g=df[b],i+=g?g(c,a.DATETIME_FORMATS,k):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function Xc(){return function(a,b){return s(b)&&(b=2),U(a,b)}}function Yc(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),isNaN(b)?a:(x(a)&&(a=a.toString()),Ld(a)||w(a)?(c=!c||isNaN(c)?0:n(c),c=0>c&&c>=-a.length?a.length+c:c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function Zc(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return b?function(b,c){return a(c,b)}:a}function h(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function i(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),h(a))?a:"function"==typeof a.toString&&(a=a.toString(),h(a))?a:""}function j(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=i(a),b=i(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=Ld(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||q;if(w(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(j,c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return j(a[e],b[e])},c)}}return g(function(a,b){return j(d(a),d(b))},c)}),Cd.call(b).sort(g(f,d))):b}}function $c(a){return z(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function _c(a,b){a.$name=b}function ad(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||lf;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){ma(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),M(i,a)},pd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,Vf),e.addClass(a,Wf),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,Vf,Wf+" "+mf),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,mf),h.$submitted=!0,j.$setSubmitted()}}function bd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function cd(a,b,c,d,e,f){dd(a,b,c,d,e,f),bd(d)}function dd(a,b,c,d,e,f){var g=td(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Nd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function ed(a,b){if(y(a))return a;if(w(a)){wf.lastIndex=0;var c=wf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Qc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function fd(a,b){return function(c,d){var e,g;if(y(c))return c;if(w(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),qf.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function gd(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return t(a)?y(a)?a:d(a):c}hd(f,g,h,i),dd(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return p&&(e=Y(e,p)),e}return c}),i.$formatters.push(function(a){if(a&&!y(a))throw $f("datefmt","Expected `{0}` to be a date",a);return m(a)?(o=a,o&&p&&(o=Y(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),t(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||s(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(t(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||s(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function hd(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=u(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(sd)||{};return d.badInput&&!d.typeMismatch?c:a})}function id(a,b,d,e,f,g){if(hd(a,b,d,e),dd(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:tf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!x(a))throw $f("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),t(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||s(h)||a>=h},d.$observe("min",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),h=x(a)&&!isNaN(a)?a:c,e.$validate()})}if(t(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||s(i)||i>=a},d.$observe("max",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),i=x(a)&&!isNaN(a)?a:c,e.$validate()})}}function jd(a,b,c,d,e,f){dd(a,b,c,d,e,f),bd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||rf.test(c)}}function kd(a,b,c,d,e,f){dd(a,b,c,d,e,f),bd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||sf.test(c)}}function ld(a,b,c,d){s(c.name)&&b.attr("name",i());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function md(a,b,c,e,f){var g;if(t(e)){if(g=a(e),!g.constant)throw d("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,e);return g(b)}return f}function nd(a,b,c,d,e,f,g,h){var i=md(h,a,"ngTrueValue",c.ngTrueValue,!0),j=md(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return P(a,i)}),d.$parsers.push(function(a){return a?i:j})}function od(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return Ld(a)?(f(a,function(a){b=b.concat(e(a))}),b):w(a)?a.split(" "):u(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||pa(),d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!P(a,o)){var d=e(o);m(d,c)}}else j(c)}o=O(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function pd(a){function b(a,b,i){b===c?d("$pending",a,i):e("$pending",a,i),G(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(Zf,!0),h.$valid=h.$invalid=c,g("",null)):(f(Zf,!1),h.$valid=qd(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),m.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),qd(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(n.addClass(i,a),j[a]=!0):!b&&j[a]&&(n.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ia(a,"-"):"",f(Tf+a,b===!0),f(Uf+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.parentForm,n=a.$animate;j[Uf]=!(j[Tf]=i.hasClass(Tf)),h.$setValidity=b}function qd(a){if(a)for(var b in a)return!1;return!0}var rd=/^\/(.+)\/([a-z]*)$/,sd="validity",td=function(a){return w(a)?a.toLowerCase():a},ud=Object.prototype.hasOwnProperty,vd=function(a){return w(a)?a.toUpperCase():a},wd=function(a){return w(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},xd=function(a){return w(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(td=wd,vd=xd);var yd,zd,Ad,Bd,Cd=[].slice,Dd=[].splice,Ed=[].push,Fd=Object.prototype.toString,Gd=Object.getPrototypeOf,Hd=d("ng"),Id=a.angular||(a.angular={}),Jd=0;yd=b.documentMode,p.$inject=[],q.$inject=[];var Kd,Ld=Array.isArray,Md=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Nd=function(a){return w(a)?a.trim():a},Od=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Pd=function(){if(t(Pd.isActive_))return Pd.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return Pd.isActive_=a},Qd=function(){if(t(Qd.name_))return Qd.name_;var a,c,d,e,f=Rd.length;for(c=0;f>c;++c)if(d=Rd[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return Qd.name_=e},Rd=["ng-","data-ng-","ng:","x-ng-"],Sd=/[A-Z]/g,Td=!1,Ud=1,Vd=2,Wd=3,Xd=8,Yd=9,Zd=11,$d={full:"1.4.0",major:1,minor:4,dot:0,codeName:"jaracimrman-existence"};Aa.expando="ng339";var _d=Aa.cache={},ae=1,be=function(a,b,c){a.addEventListener(b,c,!1)},ce=function(a,b,c){a.removeEventListener(b,c,!1)};Aa._data=function(a){return this.cache[a[this.expando]]||{}};var de=/([\:\-\_]+(.))/g,ee=/^moz([A-Z])/,fe={mouseleave:"mouseout",mouseenter:"mouseover"},ge=d("jqLite"),he=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ie=/<|&#?\w+;/,je=/<([\w:]+)/,ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,le={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var me=Aa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),Aa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return zd(a>=0?this[a]:this[this.length+a])},length:0,push:Ed,sort:[].sort,splice:[].splice},ne={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){ne[td(a)]=a});var oe={};f("input,select,option,textarea,button,form,details".split(","),function(a){oe[a]=!0});var pe={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Ga,removeData:Ea},function(a,b){Aa[b]=a}),f({data:Ga,inheritedData:Ma,scope:function(a){return zd.data(a,"$scope")||Ma(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return zd.data(a,"$isolateScope")||zd.data(a,"$isolateScopeNoTemplate")},controller:La,injector:function(a){return Ma(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ha,css:function(a,b,c){return b=va(b),t(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==Wd&&e!==Vd&&e!==Xd){var f=td(b);if(ne[f]){if(!t(d))return a[b]||(a.attributes.getNamedItem(b)||p).specified?f:c;d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f))}else if(t(d))a.setAttribute(b,d);else if(a.getAttribute){var g=a.getAttribute(b,2);return null===g?c:g}}},prop:function(a,b,c){return t(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(s(b)){var c=a.nodeType;return c===Ud||c===Wd?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(s(b)){if(a.multiple&&"select"===L(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return s(b)?a.innerHTML:(Ca(a,!0),void(a.innerHTML=b))},empty:Na},function(a,b){Aa.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Na&&(2==a.length&&a!==Ha&&a!==La?b:d)===c){if(u(b)){for(e=0;g>e;e++)if(a===Ga)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:Ea,on:function Cg(a,b,c,d){if(t(d))throw ge("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xa(a)){var e=Fa(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Sa(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Cg(a,fe[b],function(a){var c=this,d=a.relatedTarget;(!d||d!==c&&!c.contains(d))&&g(a,b)}):"$destroy"!==b&&be(a,b,g),j=f[b]),j.push(c)}}},off:Da,one:function(a,b,c){a=zd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Ca(a),f(new Aa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===Ud&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===Ud||c===Zd){b=new Aa(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===Ud){var c=a.firstChild;f(new Aa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=zd(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Oa,detach:function(a){Oa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Aa(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ja,removeClass:Ia,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;s(d)&&(d=!Ha(a,b)),(d?Ja:Ia)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==Zd?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ba,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Fa(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=O(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Aa.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)s(e)?(e=a(this[f],b,c,d),t(e)&&(e=zd(e))):Ka(e,a(this[f],b,c,d));return t(e)?e:this},Aa.prototype.bind=Aa.prototype.on,Aa.prototype.unbind=Aa.prototype.off}),Va.prototype={put:function(a,b){this[Ua(a,this.nextUid)]=b},get:function(a){return this[Ua(a,this.nextUid)]},remove:function(a){var b=this[a=Ua(a,this.nextUid)];return delete this[a],b}};var qe=[function(){this.$get=[function(){return Va}]}],re=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,se=/,/,te=/^\s*(_?)(\S+?)\1\s*$/,ue=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ve=d("$injector");Ya.$$annotate=Xa;var we=d("$animate"),xe=1,ye="ng-animate",ze=function(){this.$get=["$q","$$rAF",function(a,b){function c(){}return c.all=p,c.chain=p,c.prototype={end:p,cancel:p,resume:p,pause:p,complete:p,then:function(c,d){return a(function(a){b(function(){a()})}).then(c,d)}},c}]},Ae=function(){var a=new Va,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(c,e,g){var h=a.get(c);h||(a.put(c,h={}),b.push(c)),e&&f(e.split(" "),function(a){a&&(h[a]=!0)}),g&&f(g.split(" "),function(a){a&&(h[a]=!1)}),b.length>1||d.$$postDigest(function(){f(b,function(b){var c=a.get(b);if(c){var d=ab(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&Ja(a,e),g&&Ia(a,g)}),a.remove(b)}}),b.length=0})}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,f){return f&&f(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&e(a,d.addClass,d.removeClass),new c}}}]},Be=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw we("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+ye+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw we("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ye)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=_a(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&zd(d),e=e&&zd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",bb(f))},move:function(c,d,e,f){return d=d&&zd(d),e=e&&zd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",bb(f))},leave:function(b,c){return a.push(b,"leave",bb(c),function(){b.remove()})},addClass:function(b,c,d){return d=bb(d),d.addClass=$a(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=bb(d),d.removeClass=$a(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=bb(e),e.addClass=$a(e.addClass,c),e.removeClass=$a(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=bb(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=$a(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ce=d("$compile");hb.$inject=["$provide","$$sanitizeUriProvider"];var De=/^((?:x|data)[\:\-_])/i,Ee=d("$controller"),Fe=/^(\S+)(\s+as\s+(\w+))?$/,Ge="application/json",He={"Content-Type":Ge+";charset=utf-8"},Ie=/^\[|^\{(?!\{)/,Je={"[":/]$/,"{":/}$/},Ke=/^\)\]\}',?\n/,Le=Id.$interpolateMinErr=d("$interpolate");Le.throwNoconcat=function(a){throw Le("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},Le.interr=function(a,b){return Le("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var Me=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ne={http:80,https:443,ftp:21},Oe=d("$location"),Pe={$$html5:!1,$$replace:!1,absUrl:Qb("$$absUrl"),url:function(a){if(s(a))return this.$$url;var b=Me.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Qb("$$protocol"),host:Qb("$$host"),port:Qb("$$port"),path:Rb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(w(a)||x(a))a=a.toString(),this.$$search=_(a);else{if(!u(a))throw Oe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:s(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Rb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Pb,Ob,Nb],function(a){a.prototype=Object.create(Pe),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Nb||!this.$$html5)throw Oe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=s(b)?null:b,this}});var Qe=d("$parse"),Re=Function.prototype.call,Se=Function.prototype.apply,Te=Function.prototype.bind,Ue=pa();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ue[a]=!0});var Ve={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},We=function(a){this.options=a};We.prototype={constructor:We,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=Ue[b],f=Ue[c],g=Ue[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=t(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw Qe("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=td(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=Ve[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Xe=function(a,b){this.lexer=a,this.options=b};Xe.Program="Program",Xe.ExpressionStatement="ExpressionStatement",Xe.AssignmentExpression="AssignmentExpression",Xe.ConditionalExpression="ConditionalExpression",Xe.LogicalExpression="LogicalExpression",Xe.BinaryExpression="BinaryExpression",Xe.UnaryExpression="UnaryExpression",Xe.CallExpression="CallExpression",Xe.MemberExpression="MemberExpression",Xe.Identifier="Identifier",Xe.Literal="Literal",Xe.ArrayExpression="ArrayExpression",Xe.Property="Property",Xe.ObjectExpression="ObjectExpression",Xe.ThisExpression="ThisExpression",Xe.NGValueParameter="NGValueParameter",Xe.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),
!this.expect(";"))return{type:Xe.Program,body:a}},expressionStatement:function(){return{type:Xe.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:Xe.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:Xe.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:Xe.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Xe.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:Xe.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:Xe.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:Xe.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:Xe.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Xe.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=N(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:Xe.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:Xe.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:Xe.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:Xe.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:Xe.Identifier,name:a.text}},constant:function(){return{type:Xe.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Xe.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:Xe.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:Xe.ObjectExpression,properties:b}},throwError:function(a,b){throw Qe("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Qe("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Qe("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},constants:{"true":{type:Xe.Literal,value:!0},"false":{type:Xe.Literal,value:!1},"null":{type:Xe.Literal,value:null},undefined:{type:Xe.Literal,value:c},"this":{type:Xe.ThisExpression}}},ec.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$b(e,d.$filter);var g,h="";if(this.stage="assign",g=bc(e)){this.state.computing="assign";var i=this.nextId();this.recurse(g,i),h="fn.assign="+this.generateFunction("assign","s,v,l")}var j=_b(e.body);d.stage="inputs",f(j,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var k='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",k)(this.$filter,Ub,Vb,Wb,Xb,Yb,a);return this.state=this.stage=c,l.literal=cc(e),l.constant=dc(e),l},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||p,!h&&t(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));switch(a.type){case Xe.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case Xe.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case Xe.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case Xe.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case Xe.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case Xe.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case Xe.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ub(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||hc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case Xe.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){a.computed?(j=m.nextId(),m.recurse(a.property,j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):(Ub(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||hc(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name)),e(b)})},!!g);break;case Xe.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l),e(b)})}));break;case Xe.AssignmentExpression:if(j=this.nextId(),i={},!ac(a.left))throw Qe("lval","Trying to assing a value to a non l-value");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case Xe.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case Xe.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===Xe.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case Xe.ThisExpression:this.assign(b,"s"),e("s");break;case Xe.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(w(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw Qe("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},fc.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,$b(d,c.$filter);var e,g;(e=bc(d))&&(g=this.recurse(e));var h,i=_b(d.body);i&&(h=[],f(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];f(d.body,function(a){j.push(c.recurse(a.expression))});var k=0===d.body.length?function(){}:1===d.body.length?j[0]:function(a,b){var c;return f(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=cc(d),k.constant=dc(d),k},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Xe.Literal:return this.value(a.value,b);case Xe.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case Xe.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case Xe.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case Xe.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Xe.Identifier:return Ub(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||hc(a.name),b,d,i.expression);case Xe.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Ub(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case Xe.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));var k=g.apply(c,i,f);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){Vb(j.context,i.expression),Wb(j.value,i.expression);for(var k=[],l=0;l<h.length;++l)k.push(Vb(h[l](a,c,d,e),i.expression));f=Vb(j.value.apply(j.context,k),i.expression)}return b?{value:f}:f};case Xe.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f),j=g(a,c,d,f);return Vb(h.value,i.expression),h.context[h.name]=j,b?{value:j}:j};case Xe.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case Xe.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===Xe.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case Xe.ThisExpression:return function(a){return b?{value:a}:a};case Xe.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=t(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=t(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=Yb(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(t(h)?h:0)-(t(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&1!==e&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&Vb(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),Ub(j,e),d&&1!==d&&l&&!l[j]&&(l[j]={}),k=l[j],Vb(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&1!==f&&l&&!l[b]&&(l[b]={});var m=null!=l?l[b]:c;return(d||hc(b))&&Vb(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var Ye=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new Xe(this.lexer),this.astCompiler=c.csp?new fc(this.ast,b):new ec(this.ast,b)};Ye.prototype={constructor:Ye,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var Ze=(pa(),pa(),Object.prototype.valueOf),$e=d("$sce"),_e={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ce=d("$compile"),af=b.createElement("a"),bf=yc(a.location.href);Bc.$inject=["$document"],Dc.$inject=["$provide"],Jc.$inject=["$locale"],Kc.$inject=["$locale"];var cf=".",df={yyyy:Nc("FullYear",4),yy:Nc("FullYear",2,0,!0),y:Nc("FullYear",1),MMMM:Oc("Month"),MMM:Oc("Month",!0),MM:Nc("Month",2,1),M:Nc("Month",1,1),dd:Nc("Date",2),d:Nc("Date",1),HH:Nc("Hours",2),H:Nc("Hours",1),hh:Nc("Hours",2,-12),h:Nc("Hours",1,-12),mm:Nc("Minutes",2),m:Nc("Minutes",1),ss:Nc("Seconds",2),s:Nc("Seconds",1),sss:Nc("Milliseconds",3),EEEE:Oc("Day"),EEE:Oc("Day",!0),a:Tc,Z:Pc,ww:Sc(2),w:Sc(1),G:Uc,GG:Uc,GGG:Uc,GGGG:Vc},ef=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ff=/^\-?\d+$/;Wc.$inject=["$locale"];var gf=r(td),hf=r(vd);Zc.$inject=["$parse"];var jf=r({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Fd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),kf={};f(ne,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=ib("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),kf[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(pe,function(a,b){kf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(rd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=ib("ng-"+a);kf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Fd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(yd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var lf={$addControl:p,$$renameControl:_c,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},mf="ng-submitted";ad.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var nf=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:ad,compile:function(d,e){d.addClass(Vf).addClass(Tf);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,d,e,g){if(!("action"in e)){var h=function(b){a.$apply(function(){g.$commitViewValue(),g.$setSubmitted()}),b.preventDefault()};be(d[0],"submit",h),d.on("$destroy",function(){b(function(){ce(d[0],"submit",h)},0,!1)})}var i=g.$$parentForm;f&&(gc(a,g.$name,g,g.$name),e.$observe(f,function(b){g.$name!==b&&(gc(a,g.$name,c,g.$name),i.$$renameControl(g,b),gc(a,g.$name,g,g.$name))})),d.on("$destroy",function(){i.$removeControl(g),f&&gc(a,e[f],c,g.$name),l(g,lf)})}}}};return d}]},of=nf(),pf=nf(!0),qf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,rf=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,sf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,tf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,uf=/^(\d{4})-(\d{2})-(\d{2})$/,vf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,wf=/^(\d{4})-W(\d\d)$/,xf=/^(\d{4})-(\d\d)$/,yf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zf={text:cd,date:gd("date",uf,fd(uf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gd("datetimelocal",vf,fd(vf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gd("time",yf,fd(yf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gd("week",wf,ed,"yyyy-Www"),month:gd("month",xf,fd(xf,["yyyy","MM"]),"yyyy-MM"),number:id,url:jd,email:kd,radio:ld,checkbox:nd,hidden:p,button:p,submit:p,reset:p,file:p},Af=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(zf[td(g.type)]||zf.text)(e,f,g,h[0],b,a,c,d)}}}}],Bf=/^(true|false|\d+)$/,Cf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Bf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Df=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],Ef=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],Ff=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Gf=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Hf=od("",!0),If=od("Odd",0),Jf=od("Even",1),Kf=$c({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),Lf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Mf={},Nf={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=ib("ng-"+a);Mf[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};Nf[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Of=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=oa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],Pf=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Id.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,q=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!t(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a;var i=l(b,function(a){q(),c.enter(a,null,f).then(g)});m=b,o=i,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(q(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(q(),k.template=null)})}}}}],Qf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(ya(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],Rf=$c({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Sf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Nd(g):g,j=function(a){if(!s(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Nd(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return Ld(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},Tf="ng-valid",Uf="ng-invalid",Vf="ng-pristine",Wf="ng-dirty",Xf="ng-untouched",Yf="ng-touched",Zf="ng-pending",$f=new d("ngModel"),_f=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var m,n=g(d.ngModel),o=n.assign,q=n,r=o,u=null,v=this;this.$$setOptions=function(a){if(v.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return z(c)&&(c=b(a)),c},r=function(a,b){z(n(a))?c(a,{$$$p:v.$modelValue}):o(a,v.$modelValue)}}else if(!n.assign)throw $f("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,Z(e))},this.$render=p,this.$isEmpty=function(a){return s(a)||""===a||null===a||a!==a};var w=e.inheritedData("$formController")||lf,y=0;pd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:w,$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,Wf),h.addClass(e,Vf)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,Vf),h.addClass(e,Wf),w.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,Xf,Yf)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,Yf,Xf)},this.$rollbackViewValue=function(){i.cancel(u),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!x(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$lastCommittedViewValue,b=v.$$rawModelValue,d=v.$valid,e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$runValidators(b,a,function(a){f||d===a||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=v.$$parserName||"parse";return m!==c?(m||(f(v.$validators,function(a,b){i(b,null)}),f(v.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m):(i(a,null),!0)}function g(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(v.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var h=f(a,b);if(!H(h))throw $f("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},p):j(!0)}function i(a,b){l===y&&v.$setValidity(a,b)}function j(a){l===y&&d(a)}y++;var l=y;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(u),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){v.$modelValue!==g&&v.$$writeModelToScope()}var d=v.$$lastCommittedViewValue,e=d;if(m=s(e)?c:!0)for(var f=0;f<v.$parsers.length;f++)if(e=v.$parsers[f](e),s(e)){m=!1;break}x(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var g=v.$modelValue,h=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=e,h&&(v.$modelValue=e,b()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(a){h||(v.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){v.$viewValue=a,(!v.$options||v.$options.updateOnDefault)&&v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=v.$options;e&&t(e.debounce)&&(c=e.debounce,x(c)?d=c:x(c[b])?d=c[b]:x(c["default"])&&(d=c["default"])),i.cancel(u),d?u=i(function(){v.$commitViewValue()},d):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,p))}return b})}],ag=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_f,priority:1,compile:function(b){return b.addClass(Vf).addClass(Xf).addClass(Tf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||lf;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],bg=/(\s+|^)default(\s+|$)/,cg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=N(a.$eval(b.ngModelOptions)),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=Nd(this.$options.updateOn.replace(bg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},dg=$c({terminal:!0,priority:1e3}),eg=d("ngOptions"),fg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,gg=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}var g=a.match(fg);if(!g)throw eg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Z(b));
var h=g[5]||g[7],i=g[6],j=/ as /.test(g[0])&&g[1],k=g[9],l=c(g[2]?g[1]:h),m=j&&c(j),n=m||l,o=k&&c(k),p=k?function(a,b){return o(d,b)}:function(a){return Ua(a)},q=function(a,b){return p(a,w(a,b))},r=c(g[2]||g[1]),s=c(g[3]||""),t=c(g[4]||""),u=c(g[8]),v={},w=i?function(a,b){return v[i]=b,v[h]=a,v}:function(a){return v[h]=a,v};return{trackBy:k,getTrackByValue:q,getWatchables:c(u,function(a){var b=[];return a=a||[],Object.keys(a).forEach(function(c){var e=w(a[c],c),f=p(a[c],e);if(b.push(f),g[2]||g[1]){var h=r(d,e);b.push(h)}if(g[4]){var i=t(d,e);b.push(i)}}),b}),getOptions:function(){var a,b=[],c={},g=u(d)||[];if(!i&&e(g))a=g;else{a=[];for(var h in g)g.hasOwnProperty(h)&&"$"!==h.charAt(0)&&a.push(h)}for(var j=a.length,l=0;j>l;l++){var m=g===a?l:a[l],o=g[m],v=w(o,m),x=n(d,v),y=p(x,v),z=r(d,v),A=s(d,v),B=t(d,v),C=new f(y,x,z,A,B);b.push(C),c[y]=C}return{items:b,selectValueMap:c,getOptionFromViewValue:function(a){return c[q(a)]},getViewValueFromOption:function(a){return k?Id.copy(a.viewValue):a.viewValue}}}}}var g=b.createElement("option"),h=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(b,c,e,i){function j(a,b){a.element=b,b.disabled=a.disabled,a.value!==b.value&&(b.value=a.selectValue),a.label!==b.label&&(b.label=a.label,b.textContent=a.label)}function k(a,b,c,d){var e;return b&&td(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function l(a){for(var b;a;)b=a.nextSibling,Oa(a),a=b}function m(a){var b=p&&p[0],c=w&&w[0];if(b||c)for(;a&&(a===b||a===c);)a=a.nextSibling;return a}function n(){var a=x&&q.readValue();x=y.getOptions();var b={},d=c[0].firstChild;if(v&&c.prepend(p),d=m(d),x.items.forEach(function(a){var e,f,i;a.group?(e=b[a.group],e||(f=k(c[0],d,"optgroup",h),d=f.nextSibling,f.label=a.group,e=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),i=k(e.groupElement,e.currentOptionElement,"option",g),j(a,i),e.currentOptionElement=i.nextSibling):(i=k(c[0],d,"option",g),j(a,i),d=i.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),o.$render(),!o.$isEmpty(a)){var e=q.readValue();(y.trackBy&&!P(a,e)||a!==e)&&(o.$setViewValue(e),o.$render())}}var o=i[1];if(o){for(var p,q=i[0],r=e.multiple,s=0,t=c.children(),u=t.length;u>s;s++)if(""===t[s].value){p=t.eq(s);break}var v=!!p,w=zd(g.cloneNode(!1));w.val("?");var x,y=d(e.ngOptions,c,b),z=function(){v||c.prepend(p),c.val(""),p.prop("selected",!0),p.attr("selected",!0)},A=function(){v||p.remove()},B=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},C=function(){w.remove()};r?(o.$isEmpty=function(a){return!a||0===a.length},q.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},q.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){var c=x.selectValueMap[a];c.disabled||b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&b.$watchCollection(function(){return Ld(o.$viewValue)?o.$viewValue.map(function(a){return y.getTrackByValue(a)}):void 0},function(){o.$render()})):(q.writeValue=function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled?c[0].value!==b.selectValue&&(C(),A(),c[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||v?(C(),z()):(A(),B())},q.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(A(),C(),x.getViewValueFromOption(a)):null},y.trackBy&&b.$watch(function(){return y.getTrackByValue(o.$viewValue)},function(){o.$render()})),v?(p.remove(),a(p)(b),p.removeClass("ng-scope")):p=zd(g.cloneNode(!1)),n(),b.$watchCollection(y.getWatchables,n)}}}}],hg=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),t=b.endSymbol(),u=r+l+"-"+n+t,v=Id.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+td(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-n)),d!==k&&!(e&&x(k)&&isNaN(k))){v();var f=q[d];s(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],ig=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:Ua};return t?w=a(t):(y=function(a,b){return Ua(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=pa();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=pa();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)d.hasOwnProperty(K)&&"$"!==K.charAt(0)&&E.push(K)}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=oa(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(oa(F.clone),null,zd(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,zd(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],jg="ng-hide",kg="ng-hide-animate",lg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,jg,{tempClasses:kg})})}}}],mg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,jg,{tempClasses:kg})})}}}],ng=$c(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),og=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=oa(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],pg=$c({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),qg=$c({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),rg=$c({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(b));f(function(a){b.empty(),b.append(a)})}}),sg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],tg={$setViewValue:p,$render:p},ug=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new Va;f.ngModelCtrl=tg,f.unknownOption=zd(b.createElement("option")),f.renderUnknownOption=function(b){var c="? "+Ua(b)+" ?";f.unknownOption.val(c),a.prepend(f.unknownOption),a.val(c)},d.$on("$destroy",function(){f.renderUnknownOption=p}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){ma(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1)},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)}}],vg=function(){return{restrict:"E",require:["select","?ngModel"],controller:ug,link:function(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,e.$render=function(){g.writeValue(e.$viewValue)},b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new Va(a);f(b.find("option"),function(a){a.selected=t(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||P(h,e.$viewValue)||(h=O(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}}},wg=["$interpolate",function(a){function b(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}return{restrict:"E",priority:100,compile:function(c,d){if(s(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.ngModelCtrl&&(e?a.$watch(e,function(a,e){d.$set("value",a),e!==a&&h.removeOption(e),h.addOption(a,c),h.ngModelCtrl.$render(),b(c)}):(h.addOption(d.value,c),h.ngModelCtrl.$render(),b(c)),c.on("$destroy",function(){h.removeOption(d.value),h.ngModelCtrl.$render()}))}}}}],xg=r({restrict:"E",terminal:!1}),yg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},zg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(w(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,Z(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||s(g)||g.test(a)}}}}},Ag=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=n(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Bg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=n(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ja(),ta(Id),void zd(b).ready(function(){ea(b,fa)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return N(new(N(function(){},{prototype:a})),b)}function e(a){return M(arguments,function(b){b!==a&&M(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return M(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return N({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return M(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return M(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=L(a),d=c?[]:{};return M(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=L(a)?[]:{};return M(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=N(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,J(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);M(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return K(a)&&a.then&&a.$$promises}if(!K(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return M(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!H(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;M(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!K(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=N({},d),u=1+q.length/3,v=!1;if(H(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),N(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return H(a.template)?this.fromString(a.template,b):H(a.templateUrl)?this.fromUrl(a.templateUrl,b):H(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return I(a)?a(b):a},this.fromUrl=function(c,d){return I(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new P.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=P.type(h||"string")||d(P.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=N({params:{}},K(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new P.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){N(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return I(a)||L(a)&&I(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){N(this,a||{})}P=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!H(a)||"string"==typeof a},pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return H(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return H(a)&&(m=a),m},this.strictMode=function(a){return H(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!H(a))return q;if(a!==!0&&a!==!1&&!J(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,N(f(),b))},this.isMatcher=function(a){if(!K(a))return!1;var b=!0;return M(r.prototype,function(c,d){I(c)&&(b=b&&H(a[d])&&I(a[d]))}),b},this.type=function(a,b,c){if(!H(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(N({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},M(x,function(a,b){u[b]=new s(N({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),M(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=K(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof s?b.type:new s(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return N(b,c,d).array}function m(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!H(c)||null==c)return q;if(c===!0||J(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=L(a.replace)?a.replace:[],J(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function r(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function t(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),H(a)?w.type.$normalize(a):r()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=m(d,y),A=p(d,x,y,z);N(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:t,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,N(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),M(b,function(b){M(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return M(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return M(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return H(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(J(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){o&&d.url()===o;o=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!I(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(J(a)){var b=a;a=function(){return b}}else if(!I(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=J(b);if(J(a)&&(a=d.compile(a)),!h&&!I(b)&&!L(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),N(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:J(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),N(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=J(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!J(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):J(b.parent)?b.parent:K(b.parent)&&J(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)I(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return J(a)&&!H(b)?C[a]:I(b)&&J(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return K(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return M(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(I(d.controllerProvider)||L(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,N({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!H(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!H(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,I=[];if(f.reload){if(J(f.reload)||K(f.reload)){if(K(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var L=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!L)throw new Error("No such reload state '"+(J(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==L;)G=I[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=I[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,O(y.params,n),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),p.update(),C;for(var M=e.when(G),P=D;P<z.length;P++,F=z[P])G=I[P]=d(G),M=v(F,c,F===b,M,G,f);var Q=y.transition=M.then(function(){var d,e,g;if(y.transition!==Q)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),y.transition!==Q?A:(y.$current=b,y.current=b.self,y.params=c,O(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==Q?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return Q},y.is=function(a,b,d){d=N({relative:y.$current},d||{});var e=m(a,d.relative);return H(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=N({relative:y.$current},d||{}),J(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return H(e)?H(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=N({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!H(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{
absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new P.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(H(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=N({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(J(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new P.ParamSet;return M(a.params||{},function(a,c){b[c]||(b[c]=new P.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?N(a.parent.params.$$new(),a.ownParams):new P.ParamSet},views:function(a){var b={};return M(H(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?N({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=N(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=B(g.uiSref,a.current.name),j=null,k=C(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function E(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,C(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function F(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function G(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var H=b.isDefined,I=b.isFunction,J=b.isString,K=b.isObject,L=b.isArray,M=b.forEach,N=b.extend,O=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var P;r.prototype.concat=function(a,b){var c={caseInsensitive:P.caseInsensitive(),strict:P.strictMode(),squash:P.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,N(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},r.prototype.parameters=function(a){return H(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=L(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else J(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;L(r)||(r=[r]),r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return L(a)?a:H(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),D.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),F.$inject=["$state"],G.$inject=["$state"],b.module("ui.router.state").filter("isState",F).filter("includedByState",G)}(window,window.angular),function(a,b,c){"use strict";function d(a,b,c){if(!a)throw ngMinErr("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function e(a,b){return a||b?a?b?(M(a)&&(a=a.join(" ")),M(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function f(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function g(a,b,c){var d="";return a=M(a)?a:a&&N(a)&&a.length?a.split(/\s+/):[],L(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function h(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function i(a){if(a instanceof K)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===T)return a;break;default:return K(j(a))}return a.nodeType===T?K(a):void 0}function j(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==T)return c}}function k(a,b,c){L(b,function(b){a.addClass(b,c)})}function l(a,b,c){L(b,function(b){a.removeClass(b,c)})}function m(a){return function(b,c){c.addClass&&(k(a,b,c.addClass),c.addClass=null),c.removeClass&&(l(a,b,c.removeClass),c.removeClass=null)}}function n(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||I;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=I},a.$$prepared=!0}return a}function o(a,b){p(a,b),q(a,b)}function p(a,b){b.from&&(a.css(b.from),b.from=null)}function q(a,b){b.to&&(a.css(b.to),b.to=null)}function r(a,b,c){var d=(b.addClass||"")+" "+(c.addClass||""),e=(b.removeClass||"")+" "+(c.removeClass||""),f=s(a.attr("class"),d,e);return J(b,c),f.addClass?b.addClass=f.addClass:b.addClass=null,f.removeClass?b.removeClass=f.removeClass:b.removeClass=null,b}function s(a,b,c){function d(a){N(a)&&(a=a.split(" "));var b={};return L(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),L(b,function(a,b){g[b]=e}),c=d(c),L(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return L(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]):b===f&&(d="removeClass",g=a[c]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function t(a){return a instanceof b.element?a[0]:a}function u(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return L(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=v(c)),0===c&&(c=null),d[b]=c}}),d}function v(a){var b=0,c=a.split(/\s*,\s*/);return L(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function w(a){return 0===a||null!=a}function x(a,b){var c=E,d=a+"s";return b?c+=Z:d+=" linear all",[c,d]}function y(a){return[ia,a+"s"]}function z(a,b){var c=b?ha:ja;return[c,a+"s"]}function A(a,b){var c=b?"-"+b+"s":"";return C(a,[ja,c]),[ja,c]}function B(a,b){var c=b?"paused":"",d=G+ca;return C(a,[d,c]),[d,c]}function C(a,b){var c=b[0],d=b[1];a.style[c]=d}function D(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}var E,F,G,H,I=b.noop,J=b.extend,K=b.element,L=b.forEach,M=b.isArray,N=b.isString,O=b.isObject,P=b.isUndefined,Q=b.isDefined,R=b.isFunction,S=b.isElement,T=1,U="ng-animate",V="$$ngAnimateChildren",W=["$$rAF",function(a){function b(a){f.push([].concat(a)),c()}function c(){if(f.length){for(var b=[],g=0;g<f.length;g++){var h=f[g];d(h),h.length&&b.push(h)}f=b,e||a(function(){e||c()})}}function d(a){var b=a.shift();b()}var e,f=[];return b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],X=[function(){return function(a,c,d){var e=d.ngAnimateChildren;b.isString(e)&&0===e.length?c.data(V,!0):d.$observe("ngAnimateChildren",function(a){a="on"===a||"true"===a,c.data(V,a)})}}],Y="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(Y="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(Y="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var Z="Duration",$="Property",_="Delay",aa="TimingFunction",ba="IterationCount",ca="PlayState",da=3,ea=1.5,fa=1e3,ga=9999,ha=G+_,ia=G+Z,ja=E+_,ka=E+Z,la={transitionDuration:ka,transitionDelay:ja,transitionProperty:E+$,animationDuration:ia,animationDelay:ha,animationIterationCount:G+ba},ma={transitionDuration:ka,transitionDelay:ja,animationDuration:ia,animationDelay:ha},na=["$animateProvider",function(a){var b=D(),c=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(a,d,e,i,j,k,l){function r(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++N);return e+"-"+a.getAttribute("class")+"-"+b}function s(c,d,e,f){var g=b.get(e);return g||(g=u(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function v(e,f,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=g(f,"-stagger");d.addClass(e,k),j=u(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function D(a){P.push(a),l.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=O.offsetWidth+1,d=0;d<P.length;d++)P[d](a);P.length=0})}function I(a,b,c){var d=s(a,b,c,la),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}function J(a,c){function j(){m()}function l(){m(!0)}function m(b){O||Q&&P||(O=!0,P=!1,d.removeClass(a,ia),d.removeClass(a,ka),B(N,!1),A(N,!1),L(X,function(a){N.style[a[0]]=""}),K(a,c),o(a,c),c.onDone&&c.onDone(),R&&R.complete(!b))}function s(a){ya.blockTransition&&A(N,a),ya.blockKeyframeAnimation&&B(N,!!a)}function u(){return R=new e({end:j,cancel:l}),m(),{$$willAnimate:!1,start:function(){return R},end:j}}function J(){function b(){if(!O){if(s(!1),L(X,function(a){var b=a[0],c=a[1];N.style[b]=c}),K(a,c),d.addClass(a,ka),ya.recalculateTimingStyles){if(ja=N.className+" "+ia,na=r(N,ja),wa=I(N,ja,na),xa=wa.maxDelay,T=Math.max(xa,0),V=wa.maxDuration,0===V)return void m();ya.hasTransitions=wa.transitionDuration>0,ya.hasAnimations=wa.animationDuration>0}if(ya.applyTransitionDelay||ya.applyAnimationDelay){xa="boolean"!=typeof c.delay&&w(c.delay)?parseFloat(c.delay):xa,T=Math.max(xa,0);var b;ya.applyTransitionDelay&&(wa.transitionDelay=xa,b=z(xa),X.push(b),N.style[b[0]]=b[1]),ya.applyAnimationDelay&&(wa.animationDelay=xa,b=z(xa,!0),X.push(b),N.style[b[0]]=b[1])}if(U=T*fa,W=V*fa,c.easing){var h,k=c.easing;ya.hasTransitions&&(h=E+aa,X.push([h,k]),N.style[h]=k),ya.hasAnimations&&(h=G+aa,X.push([h,k]),N.style[h]=k)}wa.transitionDuration&&j.push(F),wa.animationDuration&&j.push(H),g=Date.now(),a.on(j.join(" "),f),i(e,U+ea*W),q(a,c)}}function e(){m()}function f(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(da));Math.max(c-g,0)>=U&&d>=V&&(Q=!0,m())}if(!O){var g,j=[],k=function(a){if(Q)P&&a&&(P=!1,m());else if(P=!a,wa.animationDuration){var b=B(N,P);P?X.push(b):h(X,b)}},l=ua>0&&(wa.transitionDuration&&0===oa.transitionDuration||wa.animationDuration&&0===oa.animationDuration)&&Math.max(oa.animationDelay,oa.transitionDelay);l?i(b,Math.floor(l*ua*fa),!1):b(),S.resume=function(){k(!0)},S.pause=function(){k(!1)}}}var N=t(a);c=n(c);var O,P,Q,R,S,T,U,V,W,X=[],Y=a.attr("class"),Z=f(c);if(0===c.duration||!k.animations&&!k.transitions)return u();var _=c.event&&M(c.event)?c.event.join(" "):c.event,ba=_&&c.structural,ca="",ha="";ba?ca=g(_,"ng-",!0):_&&(ca=_),c.addClass&&(ha+=g(c.addClass,"-add")),c.removeClass&&(ha.length&&(ha+=" "),ha+=g(c.removeClass,"-remove")),c.applyClassesEarly&&ha.length&&(K(a,c),ha="");var ia=[ca,ha].join(" ").trim(),ja=Y+" "+ia,ka=g(ia,"-active"),la=Z.to&&Object.keys(Z.to).length>0;if(!la&&!ia)return u();var na,oa;if(c.stagger>0){var pa=parseFloat(c.stagger);oa={transitionDelay:pa,animationDelay:pa,transitionDuration:0,animationDuration:0}}else na=r(N,ja),oa=v(N,ia,na,ma);d.addClass(a,ia);var qa;if(c.transitionStyle){var ra=[E,c.transitionStyle];C(N,ra),X.push(ra)}if(c.duration>=0){qa=N.style[E].length>0;var sa=x(c.duration,qa);C(N,sa),X.push(sa)}if(c.keyframeStyle){var ta=[G,c.keyframeStyle];C(N,ta),X.push(ta)}var ua=oa?c.staggerIndex>=0?c.staggerIndex:b.count(na):0,va=0===ua;va&&A(N,ga);var wa=I(N,ja,na),xa=wa.maxDelay;T=Math.max(xa,0),V=wa.maxDuration;var ya={};return ya.hasTransitions=wa.transitionDuration>0,ya.hasAnimations=wa.animationDuration>0,ya.hasTransitionAll=ya.hasTransitions&&"all"==wa.transitionProperty,ya.applyTransitionDuration=la&&(ya.hasTransitions&&!ya.hasTransitionAll||ya.hasAnimations&&!ya.hasTransitions),ya.applyAnimationDuration=c.duration&&ya.hasAnimations,ya.applyTransitionDelay=w(c.delay)&&(ya.applyTransitionDuration||ya.hasTransitions),ya.applyAnimationDelay=w(c.delay)&&ya.hasAnimations,ya.recalculateTimingStyles=ha.length>0,(ya.applyTransitionDuration||ya.applyAnimationDuration)&&(V=c.duration?parseFloat(c.duration):V,ya.applyTransitionDuration&&(ya.hasTransitions=!0,wa.transitionDuration=V,qa=N.style[E+$].length>0,X.push(x(V,qa))),ya.applyAnimationDuration&&(ya.hasAnimations=!0,wa.animationDuration=V,X.push(y(V)))),0!==V||ya.recalculateTimingStyles?(null==c.duration&&wa.transitionDuration>0&&(ya.recalculateTimingStyles=ya.recalculateTimingStyles||va),U=T*fa,W=V*fa,c.skipBlocking||(ya.blockTransition=wa.transitionDuration>0,ya.blockKeyframeAnimation=wa.animationDuration>0&&oa.animationDelay>0&&0===oa.animationDuration),p(a,c),ya.blockTransition||A(N,!1),s(V),{$$willAnimate:!0,end:j,start:function(){return O?void 0:(S={end:j,cancel:l,resume:null,pause:null},R=new e(S),D(J),R)}}):u()}var K=m(d),N=0,O=t(j).body,P=[];return J}]}],oa=["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");var b="ng-animate-shim",c="ng-anchor",d="ng-anchor-out",e="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(a,f,g,h,i,j){function k(a){return a.replace(/\bng-\S+\b/g,"")}function l(a,b){return N(a)&&(a=a.split(" ")),N(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function m(f,h,i){function j(a){var b={},c=t(a).getBoundingClientRect();return L(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=p.scrollTop;break;case"left":d+=p.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function m(){var b=a(s,{addClass:d,delay:!0,from:j(h)});return b.$$willAnimate?b:null}function n(a){return a.attr("class")||""}function o(){var b=k(n(i)),c=l(b,u),f=l(u,b),g=a(s,{to:j(i),addClass:e+" "+c,removeClass:d+" "+f,delay:!0});return g.$$willAnimate?g:null}function q(){s.remove(),h.removeClass(b),i.removeClass(b)}var s=K(t(h).cloneNode(!0)),u=k(n(s));h.addClass(b),i.addClass(b),s.addClass(c),r.append(s);var v,w=m();if(!w&&(v=o(),!v))return q();var x=w||v;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!v&&(v=o())?(c=v.start(),c.done(function(){c=null,q(),b.complete()}),c):(q(),void b.complete())}),b=new g({end:a,cancel:a})}}}function n(a,b,c,d){var e=o(a),f=o(b),h=[];return L(d,function(a){var b=a.out,d=a["in"],e=m(c,b,d);e&&h.push(e)}),e||f||0!==h.length?{start:function(){function a(){L(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),L(h,function(a){b.push(a.start())});var c=new g({end:a,cancel:a});return g.all(b,function(a){c.complete(a)}),c}}:void 0}function o(b){var c=b.element,d=b.options||{};b.structural?(d.structural=d.applyClassesEarly=!0,d.event=b.event,"leave"===d.event&&(d.onDone=d.domOperation)):d.event=null;var e=a(c,d);return e.$$willAnimate?e:null}if(!j.animations&&!j.transitions)return I;var p=t(i).body,q=t(h),r=K(p.parentNode===q?p:q);return function(a){return a.from&&a.to?n(a.from,a.to,a.classes,a.anchors):o(a)}}]}],pa=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(b,c,d,e){function f(c){c=M(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var g=m(e);return function(a,b,d,e){function h(){e.domOperation(),g(a,e)}function i(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,p,q,f];break;case"addClass":g=[b,p,f];break;case"removeClass":g=[b,q,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(R(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(R(h))return h;return I}function j(a,b,d,e,f){var g=[];return L(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,j=function(a){g||(g=!0,(f||I)(a),e.complete(!a))};return e=new c({end:function(){j()},cancel:function(){j(!0)}}),f=i(h,a,b,d,function(a){var b=a===!1;j(b)}),e})}),g}function k(a,b,d,e,f){var g=j(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=j(a,"removeClass",d,e,"beforeRemoveClass"),i=j(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=j(a,"removeClass",d,e,"removeClass"),i=j(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&L(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){L(b,function(b){a?b.cancel():b.end()})}}}3===arguments.length&&O(d)&&(e=d,d=null),e=n(e),d||(d=a.attr("class")||"",e.addClass&&(d+=" "+e.addClass),e.removeClass&&(d+=" "+e.removeClass));var l,m,p=e.addClass,q=e.removeClass,r=f(d);if(r.length){var s,t;"leave"==b?(t="leave",s="afterLeave"):(t="before"+b.charAt(0).toUpperCase()+b.substr(1),s=b),"enter"!==b&&"move"!==b&&(l=k(a,b,e,r,t)),m=k(a,b,e,r,s)}return l||m?{start:function(){function b(b){i=!0,h(),o(a,e),j.complete(b)}function d(a){i||((f||I)(a),b(a))}var f,g=[];l&&g.push(function(a){f=l(a)}),g.length?g.push(function(a){h(),a(!0)}):h(),m&&g.push(function(a){f=m(a)});var i=!1,j=new c({end:function(){d()},cancel:function(){d(!0)}});return c.chain(g,b),j}}:void 0}}]}],qa=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){L(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],ra="data-ng-animate",sa="$ngAnimatePin",ta=["$animateProvider",function(a){function b(a,b,c,d){return g[a].some(function(a){return a(b,c,d)})}function c(a,b){a=a||{};var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var e=1,f=2,g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(a,b,d){return!b.structural&&c(b.options)}),g.skip.push(function(a,b,d){return!b.structural&&!c(b.options)}),g.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),g.skip.push(function(a,b,c){return c.structural&&!b.structural}),g.cancel.push(function(a,b,c){return c.structural&&b.structural}),g.cancel.push(function(a,b,c){return c.state===f&&b.structural}),g.cancel.push(function(a,b,c){var d=b.options,e=c.options;return d.addClass&&d.addClass===e.removeClass||d.removeClass&&d.removeClass===e.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(g,h,k,l,p,q,s,u,v){function w(a,b){return r(a,b,{})}function x(a,b){var c=t(a),d=[],e=U[b];return e&&L(e,function(a){a.node.contains(c)&&d.push(a.callback)}),d}function y(a,b,c,d){g(function(){L(x(b,a),function(a){a(b,c,d)})})}function z(a,d,g){function j(b,c,d,e){y(c,a,d,e),b.progress(c,d,e)}function k(b){Y(a,g),o(a,g),g.domOperation(),p.complete(!b)}var l,m;a=i(a),a&&(l=t(a),m=a.parent()),g=n(g);var p=new s;if(!l)return k(),p;M(g.addClass)&&(g.addClass=g.addClass.join(" ")),M(g.removeClass)&&(g.removeClass=g.removeClass.join(" ")),g.from&&!O(g.from)&&(g.from=null),g.to&&!O(g.to)&&(g.to=null);var u=[l.className,g.addClass,g.removeClass].join(" ");if(!X(u))return k(),p;var v=["enter","move","leave"].indexOf(d)>=0,x=!I||H.get(l),z=!x&&G.get(l)||{},C=!!z.state;if(x||C&&z.state==e||(x=!E(a,m,d)),x)return k(),p;v&&A(a);var J={structural:v,element:a,event:d,close:k,options:g,runner:p};if(C){var K=b("skip",a,J,z);if(K)return z.state===f?(k(),p):(r(a,z.options,g),z.runner);var L=b("cancel",a,J,z);if(L)z.state===f?z.runner.end():z.structural?z.close():r(a,J.options,z.options);else{var N=b("join",a,J,z);if(N){if(z.state!==f)return d=J.event=z.event,g=r(a,z.options,J.options),p;w(a,g)}}}else w(a,g);var P=J.structural;if(P||(P="animate"===J.event&&Object.keys(J.options.to||{}).length>0||c(J.options)),!P)return k(),B(a),p;v&&D(m);var Q=(z.counter||0)+1;return J.counter=Q,F(a,e,J),h.$$postDigest(function(){var b=G.get(l),e=!b;b=b||{};var h=a.parent()||[],i=h.length>0&&("animate"===b.event||b.structural||c(b.options));if(e||b.counter!==Q||!i)return e&&(Y(a,g),o(a,g)),(e||v&&b.event!==d)&&(g.domOperation(),p.end()),void(i||B(a));d=!b.structural&&c(b.options,!0)?"setClass":b.event,b.structural&&D(h),F(a,f);var m=q(a,d,b.options);m.done(function(b){k(!b);var c=G.get(l);c&&c.counter===Q&&B(t(a)),j(p,d,"close",{})}),p.setHost(m),j(p,d,"start",{})}),p}function A(a){var b=t(a),c=b.querySelectorAll("["+ra+"]");L(c,function(a){var b=parseInt(a.getAttribute(ra)),c=G.get(a);switch(b){case f:c.runner.end();case e:c&&G.remove(a)}})}function B(a){var b=t(a);b.removeAttribute(ra),G.remove(b)}function C(a,b){return t(a)===t(b)}function D(a){function b(a,b){!b.structural&&c(b.options)&&(b.state===f&&b.runner.end(),B(a))}for(var d=t(a);;){if(!d||d.nodeType!==T)break;var e=G.get(d);e&&b(d,e),d=d.parentNode}}function E(a,b,c){var d,e=!1,f=!1,g=!1,h=a.data(sa);for(h&&(b=h);b&&b.length;){f||(f=C(b,k));var i=b[0];if(i.nodeType!==T)break;var j=G.get(i)||{};if(g||(g=j.structural||H.get(i)),P(d)||d===!0){var l=b.data(V);Q(l)&&(d=l)}if(g&&d===!1)break;f||(f=C(b,k),f||(h=b.data(sa),h&&(b=h))),e||(e=C(b,R)),b=b.parent()}var m=!g||d;return m&&f&&e}function F(a,b,c){c=c||{},c.state=b;var d=t(a);d.setAttribute(ra,b);var e=G.get(d),f=e?J(e,c):c;G.put(d,f)}var G=new p,H=new p,I=null,N=h.$watch(function(){return 0===u.totalPendingRequests},function(a){a&&(N(),h.$$postDigest(function(){h.$$postDigest(function(){null===I&&(I=!0)})}))}),R=K(l[0].body),U={},W=a.classNameFilter(),X=W?function(a){return W.test(a)}:function(){return!0},Y=m(v);return{on:function(a,b,c){var d=j(b);U[a]=U[a]||[],U[a].push({node:d,callback:c})},off:function(a,b,c){function d(a,b,c){var d=j(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}var e=U[a];e&&(U[a]=1===arguments.length?null:d(e,b,c))},pin:function(a,b){d(S(a),"element","not an element"),d(S(b),"parentElement","not an element"),a.data(sa,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,z(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!I;else{var d=S(a);if(d){var e=t(a),f=H.get(e);1===c?b=!f:(b=!!b,b?f&&H.remove(e):H.put(e,!0))}else b=I=!!a}return b}}}]}],ua=["$$rAF",function(a){return function(){var b=!1;return a(function(){b=!0}),function(c){b?c():a(c)}}}],va=["$q","$$rAFMutex",function(a,b){function c(a){this.setHost(a),this._doneCallbacks=[],this._runInAnimationFrame=b(),this._state=0}var d=0,e=1,f=2;return c.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},c.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;L(a,function(a){a.done(c)})},c.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===f?a():this._doneCallbacks.push(a)},progress:I,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===d&&(b._state=e,b._runInAnimationFrame(function(){b._resolve(a)}))},_resolve:function(a){this._state!==f&&(L(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=f)}},c}],wa=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function d(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(a,h,i,j,k){var l=[],p=m(a),q=0,r=0,s=[];return function(m,u,v){function w(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return L(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function x(a){var b=[],c={};L(a,function(a,d){var e=a.element,g=t(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?w(g):[];if(j.length){var k=i?"to":"from";L(j,function(a){
var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:K(a)}})}else b.push(a)});var d={},e={};return L(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:y(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function y(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function z(a){for(var b=g.length-1;b>=0;b--){var c=g[b];if(i.has(c)){var d=i.get(c),e=d(a);if(e)return e}}}function A(){m.addClass(U),H&&a.addClass(m,H)}function B(a,b){function c(a){d(a).setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function C(){var a=d(m);!a||"leave"===u&&v.$$domOperationFired||a.end()}function D(b){m.off("$destroy",C),c(m),p(m,v),o(m,v),v.domOperation(),H&&a.removeClass(m,H),m.removeClass(U),F.complete(!b)}v=n(v);var E=["enter","move","leave"].indexOf(u)>=0,F=new j({end:function(){D()},cancel:function(){D(!0)}});if(!g.length)return D(),F;b(m,F);var G=e(m.attr("class"),e(v.addClass,v.removeClass)),H=v.tempClasses;H&&(G+=" "+H,v.tempClasses=null);var I;return E||(I=q,q+=1),l.push({element:m,classes:G,event:u,classBasedIndex:I,structural:E,options:v,beforeStart:A,close:D}),m.on("$destroy",C),l.length>1?F:(h.$$postDigest(function(){r=q,q=0,s.length=0;var a=[];L(l,function(b){d(b.element)&&a.push(b)}),l.length=0,L(x(a),function(a){function b(){a.beforeStart();var b,c=a.close,e=a.anchors?a.from.element||a.to.element:a.element;if(d(e)){var f=z(a);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),B(a,g)}else c()}a.structural?b():(s.push({node:t(a.element),fn:b}),a.classBasedIndex===r-1&&(s=s.sort(function(a,b){return b.node.contains(a.node)}).map(function(a){return a.fn}),k(s)))})}),F)}}]}];b.module("ngAnimate",[]).directive("ngAnimateChildren",X).factory("$$rAFMutex",ua).factory("$$rAFScheduler",W).factory("$$AnimateRunner",va).provider("$$animateQueue",ta).provider("$$animation",wa).provider("$animateCss",na).provider("$$animateCssDriver",oa).provider("$$animateJs",pa).provider("$$animateJsDriver",qa)}(window,window.angular),function(a,b,c){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var a=this.defaults={offsetTop:"auto",inlineStyles:!0};this.$get=["$window","debounce","dimensions",function(b,c,d){function e(e,h){function i(a,b,c){var d=j(),e=k();return s>=d?"top":null!==a&&d+a<=b.top?"middle":null!==t&&b.top+c+q>=e-t?"bottom":"middle"}function j(){return n[0]===b?b.pageYOffset:n[0].scrollTop}function k(){return n[0]===b?b.document.body.scrollHeight:n[0].scrollHeight}var l={},m=angular.extend({},a,h),n=m.target,o="affix affix-top affix-bottom",p=!1,q=0,r=0,s=0,t=0,u=null,v=null,w=e.parent();if(m.offsetParent)if(m.offsetParent.match(/^\d+$/))for(var x=0;x<1*m.offsetParent-1;x++)w=w.parent();else w=angular.element(m.offsetParent);return l.init=function(){this.$parseOffsets(),r=d.offset(e[0]).top+q,p=!e[0].style.width,n.on("scroll",this.checkPosition),n.on("click",this.checkPositionWithEventLoop),g.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},l.destroy=function(){n.off("scroll",this.checkPosition),n.off("click",this.checkPositionWithEventLoop),g.off("resize",this.$debouncedOnResize)},l.checkPositionWithEventLoop=function(){setTimeout(l.checkPosition,1)},l.checkPosition=function(){var a=j(),b=d.offset(e[0]),c=d.height(e[0]),g=i(v,b,c);u!==g&&(u=g,e.removeClass(o).addClass("affix"+("middle"!==g?"-"+g:"")),"top"===g?(v=null,p&&e.css("width",""),m.inlineStyles&&(e.css("position",m.offsetParent?"":"relative"),e.css("top",""))):"bottom"===g?(v=m.offsetUnpin?-(1*m.offsetUnpin):b.top-a,p&&e.css("width",""),m.inlineStyles&&(e.css("position",m.offsetParent?"":"relative"),e.css("top",m.offsetParent?"":f[0].offsetHeight-t-c-r+"px"))):(v=null,p&&e.css("width",e[0].offsetWidth+"px"),m.inlineStyles&&(e.css("position","fixed"),e.css("top",q+"px"))))},l.$onResize=function(){l.$parseOffsets(),l.checkPosition()},l.$debouncedOnResize=c(l.$onResize,50),l.$parseOffsets=function(){var a=e.css("position");m.inlineStyles&&e.css("position",m.offsetParent?"":"relative"),m.offsetTop&&("auto"===m.offsetTop&&(m.offsetTop="+0"),m.offsetTop.match(/^[-+]\d+$/)?(q=1*-m.offsetTop,s=m.offsetParent?d.offset(w[0]).top+1*m.offsetTop:d.offset(e[0]).top-d.css(e[0],"marginTop",!0)+1*m.offsetTop):s=1*m.offsetTop),m.offsetBottom&&(t=m.offsetParent&&m.offsetBottom.match(/^[-+]\d+$/)?k()-(d.offset(w[0]).top+d.height(w[0]))+1*m.offsetBottom+1:1*m.offsetBottom),m.inlineStyles&&e.css("position",a)},l.init(),l}var f=angular.element(b.document.body),g=angular.element(b);return e}]}).directive("bsAffix",["$affix","$window",function(a,b){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(c,d,e,f){var g={scope:c,target:f?f.$element:angular.element(b)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles"],function(a){if(angular.isDefined(e[a])){var b=e[a];/true/i.test(b)&&(b=!0),/false/i.test(b)&&(b=!1),g[a]=b}});var h=a(d,g);c.$on("$destroy",function(){h&&h.destroy(),g=null,h=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(a){this.$element=a}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var a=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(b,c){function d(d){var e={},f=angular.extend({},a,d);e=b(f),e.$scope.dismissable=!!f.dismissable,f.type&&(e.$scope.type=f.type);var g=e.show;return f.duration&&(e.show=function(){g(),c(function(){e.hide()},1e3*f.duration)}),e}return d}]}).directive("bsAlert",["$window","$sce","$alert",function(a,b,c){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,d,e,f){var g={scope:a,element:d,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),a.hasOwnProperty("title")||(a.title=""),angular.forEach(["title","content","type"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsAlert&&a.$watch(e.bsAlert,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=c(g);d.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var a=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(b){function c(c){var d={},e=angular.extend({},a,c);return d=b(e)}return c}]}).directive("bsAside",["$window","$sce","$aside",function(a,b,c){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,d,e,f){var g={scope:a,element:d,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsAside&&a.$watch(e.bsAside,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=c(g);d.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var a=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},b=this.controller=function(b,c,d){function e(a){for(var b=i.$targets.$active,c=0;c<b.length;c++)a<b[c]&&(b[c]=b[c]-1),b[c]===i.$targets.length&&(b[c]=i.$targets.length-1)}function f(a){var b=i.$targets.$active;return-1===b.indexOf(a)?!1:!0}function g(a){var b=i.$targets.$active.indexOf(a);-1!==b&&i.$targets.$active.splice(b,1)}function h(a){i.$options.allowMultiple||i.$targets.$active.splice(0,1),-1===i.$targets.$active.indexOf(a)&&i.$targets.$active.push(a)}var i=this;i.$options=angular.copy(a),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(a){angular.isDefined(d[a])&&(i.$options[a]=d[a])});var j=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(a){angular.isDefined(d[a])&&j.test(d[a])&&(i.$options[a]=!1)}),i.$toggles=[],i.$targets=[],i.$viewChangeListeners=[],i.$registerToggle=function(a){i.$toggles.push(a)},i.$registerTarget=function(a){i.$targets.push(a)},i.$unregisterToggle=function(a){var b=i.$toggles.indexOf(a);i.$toggles.splice(b,1)},i.$unregisterTarget=function(a){var b=i.$targets.indexOf(a);i.$targets.splice(b,1),i.$options.allowMultiple&&g(a),e(b),i.$viewChangeListeners.forEach(function(a){a()})},i.$targets.$active=i.$options.startCollapsed?[]:[0],i.$setActive=b.$setActive=function(a){angular.isArray(a)?i.$targets.$active=a:i.$options.disallowToggle?h(a):f(a)?g(a):h(a),i.$viewChangeListeners.forEach(function(a){a()})},i.$activeIndexes=function(){return i.$options.allowMultiple?i.$targets.$active:1===i.$targets.$active.length?i.$targets.$active[0]:-1}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsCollapse",["$window","$animate","$collapse",function(a,b,c){c.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",c.controller],link:function(a,b,c,d){var e=d[0],f=d[1];e&&(f.$viewChangeListeners.push(function(){e.$setViewValue(f.$activeIndexes())}),e.$formatters.push(function(a){if(angular.isArray(a))f.$setActive(a);else{var b=f.$activeIndexes();angular.isArray(b)?-1===b.indexOf(1*a)&&f.$setActive(1*a):b!==1*a&&f.$setActive(1*a)}return a}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(a,b,c,d){var e=(d[0],d[1]);b.attr("data-toggle","collapse"),e.$registerToggle(b),a.$on("$destroy",function(){e.$unregisterToggle(b)}),b.on("click",function(){var d=c.bsCollapseToggle||e.$toggles.indexOf(b);e.$setActive(1*d),a.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(a){return{require:["^?ngModel","^bsCollapse"],link:function(b,c,d,e){function f(){var b=g.$targets.indexOf(c),d=g.$activeIndexes(),e="removeClass";angular.isArray(d)?-1!==d.indexOf(b)&&(e="addClass"):b===d&&(e="addClass"),a[e](c,g.$options.activeClass)}var g=(e[0],e[1]);c.addClass("collapse"),g.$options.animation&&c.addClass(g.$options.animation),g.$registerTarget(c),b.$on("$destroy",function(){g.$unregisterTarget(c)}),g.$viewChangeListeners.push(function(){f()}),f()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a){a.selected=j.$isSelected(a.date)}function f(){b[0].focus()}var j=h(b,angular.extend({},a,d)),m=d.scope,n=j.$options,o=j.$scope;n.startView&&(n.startView-=n.minView);var p=g(j);j.$views=p.views;var q=p.viewDate;o.$mode=n.startView,o.$iconLeft=n.iconLeft,o.$iconRight=n.iconRight;var r=j.$views[o.$mode];o.$select=function(a){j.select(a)},o.$selectPane=function(a){j.$selectPane(a)},o.$toggleMode=function(){j.setMode((o.$mode+1)%j.$views.length)},j.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())&&(j.$date=a,r.update.call(r,a)),j.$build(!0)},j.updateDisabledDates=function(a){n.disabledDateRanges=a;for(var b=0,c=o.rows.length;c>b;b++)angular.forEach(o.rows[b],j.$setDisabledEl)},j.select=function(a,b){angular.isDate(c.$dateValue)||(c.$dateValue=new Date(a)),!o.$mode||b?(c.$setViewValue(angular.copy(a)),c.$render(),n.autoclose&&!b&&i(function(){j.hide(!0)})):(angular.extend(q,{year:a.getFullYear(),month:a.getMonth(),date:a.getDate()}),j.setMode(o.$mode-1),j.$build())},j.setMode=function(a){o.$mode=a,r=j.$views[o.$mode],j.$build()},j.$build=function(a){a===!0&&r.built||(a!==!1||r.built)&&r.build.call(r)},j.$updateSelected=function(){for(var a=0,b=o.rows.length;b>a;a++)angular.forEach(o.rows[a],e)},j.$isSelected=function(a){return r.isSelected(a)},j.$setDisabledEl=function(a){a.disabled=r.isDisabled(a.date)},j.$selectPane=function(a){var b=r.steps,c=new Date(Date.UTC(q.year+(b.year||0)*a,q.month+(b.month||0)*a,1));angular.extend(q,{year:c.getUTCFullYear(),month:c.getUTCMonth(),date:c.getUTCDate()}),j.$build()},j.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),l){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},j.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return o.$mode?o.$apply(function(){j.setMode(o.$mode-1)}):j.hide(!0);r.onKeyDown(a),m.$digest()}};var s=j.init;j.init=function(){return k&&n.useNative?(b.prop("type","date"),void b.css("-webkit-appearance","textfield")):(l&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",f)),void s())};var t=j.destroy;j.destroy=function(){k&&n.useNative&&b.off("click",f),t()};var u=j.show;j.show=function(){u(),i(function(){j.$isShown&&(j.$element.on(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.on("keydown",j.$onKeyDown))},0,!1)};var v=j.hide;return j.hide=function(a){j.$isShown&&(j.$element.off(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.off("keydown",j.$onKeyDown),v(a))},j}var k=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),l="createTouch"in b.document&&k;return a.lang||(a.lang=f.getDefaultLocale()),j.defaults=a,j}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(a,b,c,d,e,f){var g=(f.defaults,/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(a,b,c,h){function i(a){return a&&a.length?a:null}function j(a){if(angular.isDate(a)){var b=isNaN(n.$options.minDate)||a.getTime()>=n.$options.minDate,c=isNaN(n.$options.maxDate)||a.getTime()<=n.$options.maxDate,d=b&&c;h.$setValidity("date",d),h.$setValidity("min",b),h.$setValidity("max",c),d&&(h.$dateValue=a)}}function k(){return!h.$dateValue||isNaN(h.$dateValue.getTime())?"":p(h.$dateValue,l.dateFormat)}var l={scope:a,controller:h};angular.forEach(["placement","container","delay","trigger","html","animation","template","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent"],function(a){angular.isDefined(c[a])&&(l[a]=c[a])});var m=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative"],function(a){angular.isDefined(c[a])&&m.test(c[a])&&(l[a]=!1)}),c.bsShow&&a.$watch(c.bsShow,function(a,b){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(datepicker),?/i)),a===!0?n.show():n.hide())});var n=f(b,h,l);l=n.$options,g&&l.useNative&&(l.dateFormat="yyyy-MM-dd");var o=l.lang,p=function(a,b){return d.formatDate(a,b,o)},q=e({format:l.dateFormat,lang:o,strict:l.strictFormat});angular.forEach(["minDate","maxDate"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){n.$options[a]=q.getDateForAttribute(a,b),!isNaN(n.$options[a])&&n.$build(!1),j(h.$dateValue)})}),a.$watch(c.ngModel,function(a,b){n.update(h.$dateValue)},!0),angular.isDefined(c.disabledDates)&&a.$watch(c.disabledDates,function(a,b){a=i(a),b=i(b),a&&n.updateDisabledDates(a)}),h.$parsers.unshift(function(a){var b;if(!a)return h.$setValidity("date",!0),null;var c=q.parse(a,h.$dateValue);return!c||isNaN(c.getTime())?void h.$setValidity("date",!1):(j(c),"string"===l.dateType?(b=q.timezoneOffsetAdjust(c,l.timezone,!0),p(b,l.modelDateFormat||l.dateFormat)):(b=q.timezoneOffsetAdjust(h.$dateValue,l.timezone,!0),"number"===l.dateType?b.getTime():"unix"===l.dateType?b.getTime()/1e3:"iso"===l.dateType?b.toISOString():new Date(b)))}),h.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?NaN:angular.isDate(a)?a:"string"===l.dateType?q.parse(a,null,l.modelDateFormat):"unix"===l.dateType?new Date(1e3*a):new Date(a),h.$dateValue=q.timezoneOffsetAdjust(b,l.timezone),k()}),h.$render=function(){b.val(k())},a.$on("$destroy",function(){n&&n.destroy(),l=null,n=null})}}}]).provider("datepickerViews",function(){function a(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function b(a,b){return(a%b+b)%b}this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$dateFormatter","$dateParser","$sce",function(c,d,e){return function(f){var g=f.$scope,h=f.$options,i=h.lang,j=function(a,b){return c.formatDate(a,b,i)},k=d({format:h.dateFormat,lang:i,strict:h.strictFormat}),l=c.weekdaysShort(i),m=l.slice(h.startWeek).concat(l.slice(0,h.startWeek)),n=e.trustAsHtml('<th class="dow text-center">'+m.join('</th><th class="dow text-center">')+"</th>"),o=f.$date||(h.startDate?k.getDateForAttribute("startDate",h.startDate):new Date),p={year:o.getFullYear(),month:o.getMonth(),date:o.getDate()},q=[{format:h.dayFormat,split:7,steps:{month:1},update:function(a,b){!this.built||b||a.getFullYear()!==p.year||a.getMonth()!==p.month?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):(a.getDate()!==p.date||1===a.getDate())&&(p.date=f.$date.getDate(),f.$updateSelected())},build:function(){var c=new Date(p.year,p.month,1),d=c.getTimezoneOffset(),e=new Date(+c-864e5*b(c.getDay()-h.startWeek,7)),i=e.getTimezoneOffset(),l=k.timezoneOffsetAdjust(new Date,h.timezone).toDateString();i!==d&&(e=new Date(+e+6e4*(i-d)));for(var m,o=[],q=0;42>q;q++)m=k.daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()+q)),o.push({date:m,isToday:m.toDateString()===l,label:j(m,this.format),selected:f.$date&&this.isSelected(m),muted:m.getMonth()!==p.month,disabled:this.isDisabled(m)});g.title=j(c,h.monthTitleFormat),g.showLabels=!0,g.labels=n,g.rows=a(o,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()&&a.getDate()===f.$date.getDate()},isDisabled:function(a){var b=a.getTime();if(b<h.minDate||b>h.maxDate)return!0;if(-1!==h.daysOfWeekDisabled.indexOf(a.getDay()))return!0;if(h.disabledDateRanges)for(var c=0;c<h.disabledDateRanges.length;c++)if(b>=h.disabledDateRanges[c].start&&b<=h.disabledDateRanges[c].end)return!0;return!1},onKeyDown:function(a){if(f.$date){var b,c=f.$date.getTime();37===a.keyCode?b=new Date(c-864e5):38===a.keyCode?b=new Date(c-6048e5):39===a.keyCode?b=new Date(c+864e5):40===a.keyCode&&(b=new Date(c+6048e5)),this.isDisabled(b)||f.select(b,!0)}}},{name:"month",format:h.monthFormat,split:4,steps:{year:1},update:function(a,b){this.built&&a.getFullYear()===p.year?a.getMonth()!==p.month&&(angular.extend(p,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){for(var b,c=(new Date(p.year,0,1),[]),d=0;12>d;d++)b=new Date(p.year,d,1),c.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=j(b,h.yearTitleFormat),g.showLabels=!1,g.rows=a(c,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()},isDisabled:function(a){var b=+new Date(a.getFullYear(),a.getMonth()+1,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getMonth(),c=new Date(f.$date);37===a.keyCode?c.setMonth(b-1):38===a.keyCode?c.setMonth(b-4):39===a.keyCode?c.setMonth(b+1):40===a.keyCode&&c.setMonth(b+4),this.isDisabled(c)||f.select(c,!0)}}},{name:"year",format:h.yearFormat,split:4,steps:{year:12},update:function(a,b){!this.built||b||parseInt(a.getFullYear()/20,10)!==parseInt(p.year/20,10)?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getFullYear()!==p.year&&(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var b,c=p.year-p.year%(3*this.split),d=[],e=0;12>e;e++)b=new Date(c+e,0,1),d.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=d[0].label+"-"+d[d.length-1].label,g.showLabels=!1,g.rows=a(d,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()},isDisabled:function(a){var b=+new Date(a.getFullYear()+1,0,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getFullYear(),c=new Date(f.$date);37===a.keyCode?c.setYear(b-1):38===a.keyCode?c.setYear(b-4):39===a.keyCode?c.setYear(b+1):40===a.keyCode&&c.setYear(b+4),this.isDisabled(c)||f.select(c,!0)}}}];return{views:h.minView?Array.prototype.slice.call(q,h.minView):q,viewDate:p}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var a=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(b,c,d,e){function f(b,f){function i(a){return a.target!==b[0]?a.target!==b[0]&&j.hide():void 0}var j={},k=angular.extend({},a,f);j.$scope=k.scope&&k.scope.$new()||c.$new();j=d(b,k);var l=b.parent();j.$onKeyDown=function(a){if(/(38|40)/.test(a.keyCode)){a.preventDefault(),a.stopPropagation();var b=angular.element(j.$element[0].querySelectorAll("li:not(.divider) a"));if(b.length){var c;angular.forEach(b,function(a,b){h&&h.call(a,":focus")&&(c=b)}),38===a.keyCode&&c>0?c--:40===a.keyCode&&c<b.length-1?c++:angular.isUndefined(c)&&(c=0),b.eq(c)[0].focus()}}};var m=j.show;j.show=function(){m(),e(function(){k.keyboard&&j.$element&&j.$element.on("keydown",j.$onKeyDown),g.on("click",i)},0,!1),l.hasClass("dropdown")&&l.addClass("open")};var n=j.hide;j.hide=function(){j.$isShown&&(k.keyboard&&j.$element&&j.$element.off("keydown",j.$onKeyDown),g.off("click",i),l.hasClass("dropdown")&&l.removeClass("open"),n())};var o=j.destroy;return j.destroy=function(){g.off("click",i),o()},j}var g=angular.element(b.document.body),h=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return f}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,b,d,e){var f={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","id"],function(a){angular.isDefined(d[a])&&(f[a]=d[a])});var g=/^(false|0|)$/i;angular.forEach(["html","container"],function(a){angular.isDefined(d[a])&&g.test(d[a])&&(f[a]=!1)}),d.bsDropdown&&a.$watch(d.bsDropdown,function(b,c){a.content=b},!0),d.bsShow&&a.$watch(d.bsShow,function(a,b){h&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(dropdown),?/i)),a===!0?h.show():h.hide())});var h=c(b,f);a.$on("$destroy",function(){h&&h.destroy(),f=null,h=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var a=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:a}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="checkbox"]');angular.forEach(c,function(a){var c=angular.element(a);c.attr("bs-checkbox",""),c.attr("ng-model",b.ngModel+"."+c.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=angular.isDefined(f.trueValue)?f.trueValue:!0;d.test(f.trueValue)&&(k=a.$eval(f.trueValue));var l=angular.isDefined(f.falseValue)?f.falseValue:!1;d.test(f.falseValue)&&(l=a.$eval(f.falseValue));var m="boolean"!=typeof k||"boolean"!=typeof l;m&&(g.$parsers.push(function(a){return a?k:l}),g.$formatters.push(function(a){return angular.equals(a,k)}),a.$watch(f.ngModel,function(a,b){g.$render()})),g.$render=function(){var a=angular.equals(g.$modelValue,k);b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){i||g.$setViewValue(!j.hasClass("active")),m||g.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="radio"]');angular.forEach(c,function(a){angular.element(a).attr("bs-radio",""),angular.element(a).attr("ng-model",b.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h,i=c,j="INPUT"===e[0].nodeName,k=j?e.parent():e;f.$observe("value",function(b){h=d.test(b)?a.$eval(b):b,g.$render()}),g.$render=function(){var a=angular.equals(g.$modelValue,h);b(function(){j&&(e[0].checked=a),k.toggleClass(i.activeClass,a)})},e.bind(i.toggleEvent,function(){a.$apply(function(){g.$setViewValue(h),g.$render()})})}}}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(a,b){function c(a){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(a).slice(1)}this.getDefaultLocale=function(){return a.id},this.getDatetimeFormat=function(b,c){return a.DATETIME_FORMATS[b]||b},this.weekdaysShort=function(b){return a.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(a){return c(a)[0]},this.minutesFormat=function(a){return c(a)[2]},this.secondsFormat=function(a){return c(a)[4]},this.timeSeparator=function(a){return c(a)[1]},this.showSeconds=function(a){return!!c(a)[4]},this.showAM=function(a){return!!c(a)[5]},this.formatDate=function(a,c,d,e){return b(a,c,e)}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(a){function b(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function c(){}function d(a){return!isNaN(parseFloat(a))&&isFinite(a)}function e(a,b){for(var c=a.length,d=b.toString().toLowerCase(),e=0;c>e;e++)if(a[e].toLowerCase()===d)return e;return-1}b.prototype.setMilliseconds=function(a){this.milliseconds=a},b.prototype.setSeconds=function(a){this.seconds=a},b.prototype.setMinutes=function(a){this.minutes=a},b.prototype.setHours=function(a){this.hours=a},b.prototype.getHours=function(){return this.hours},b.prototype.setDate=function(a){this.day=a},b.prototype.setMonth=function(a){this.month=a},b.prototype.setFullYear=function(a){this.year=a},b.prototype.fromDate=function(a){return this.year=a.getFullYear(),this.month=a.getMonth(),this.day=a.getDate(),this.hours=a.getHours(),this.minutes=a.getMinutes(),this.seconds=a.getSeconds(),this.milliseconds=a.getMilliseconds(),this},b.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var f=b.prototype,g=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(a,h){var i=function(i){function j(a){var b,c=Object.keys(r),d=[],e=[],f=a;for(b=0;b<c.length;b++)if(a.split(c[b]).length>1){var g=f.search(c[b]);a=a.split(c[b]).join(""),r[c[b]]&&(d[g]=r[c[b]])}return angular.forEach(d,function(a){a&&e.push(a)}),e}function k(a){return a.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function l(a){var b,c=Object.keys(q),d=a;for(b=0;b<c.length;b++)d=d.split(c[b]).join("${"+b+"}");for(b=0;b<c.length;b++)d=d.split("${"+b+"}").join("("+q[c[b]]+")");return a=k(a),new RegExp("^"+d+"$",["i"])}var m,n,o=angular.extend({},g,i),p={},q={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:o.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:a.DATETIME_FORMATS.DAY.join("|"),EEE:a.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:o.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:a.DATETIME_FORMATS.MONTH.join("|"),MMM:a.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:o.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},r={sss:f.setMilliseconds,ss:f.setSeconds,s:f.setSeconds,mm:f.setMinutes,m:f.setMinutes,HH:f.setHours,H:f.setHours,hh:f.setHours,h:f.setHours,EEEE:c,EEE:c,dd:f.setDate,d:f.setDate,a:function(a){var b=this.getHours()%12;return this.setHours(a.match(/pm/i)?b+12:b)},MMMM:function(b){return this.setMonth(e(a.DATETIME_FORMATS.MONTH,b))},MMM:function(b){return this.setMonth(e(a.DATETIME_FORMATS.SHORTMONTH,b))},MM:function(a){return this.setMonth(1*a-1)},M:function(a){return this.setMonth(1*a-1)},yyyy:f.setFullYear,yy:function(a){return this.setFullYear(2e3+1*a)},y:f.setFullYear};return p.init=function(){p.$format=a.DATETIME_FORMATS[o.format]||o.format,m=l(p.$format),n=j(p.$format)},p.isValid=function(a){return angular.isDate(a)?!isNaN(a.getTime()):m.test(a)},p.parse=function(c,d,e,f){e&&(e=a.DATETIME_FORMATS[e]||e),angular.isDate(c)&&(c=h(c,e||p.$format,f));var g=e?l(e):m,i=e?j(e):n,k=g.exec(c);if(!k)return!1;for(var o=d&&!isNaN(d.getTime())?(new b).fromDate(d):(new b).fromDate(new Date(1970,0,1,0)),q=0;q<k.length-1;q++)i[q]&&i[q].call(o,k[q+1]);var r=o.toDate();return parseInt(o.day,10)!==r.getDate()?!1:r;
},p.getDateForAttribute=function(a,b){var c;if("today"===b){var e=new Date;c=new Date(e.getFullYear(),e.getMonth(),e.getDate()+("maxDate"===a?1:0),0,0,0,"minDate"===a?0:-1)}else c=angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)):d(b)?new Date(parseInt(b,10)):angular.isString(b)&&0===b.length?"minDate"===a?-(1/0):+(1/0):new Date(b);return c},p.getTimeForAttribute=function(a,b){var c;return c="now"===b?(new Date).setFullYear(1970,0,1):angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)).setFullYear(1970,0,1):d(b)?new Date(parseInt(b,10)).setFullYear(1970,0,1):angular.isString(b)&&0===b.length?"minTime"===a?-(1/0):+(1/0):p.parse(b,new Date(1970,0,1,0))},p.daylightSavingAdjust=function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},p.timezoneOffsetAdjust=function(a,b,c){return a?(b&&"UTC"===b&&(a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+(c?-1:1)*a.getTimezoneOffset())),a):null},p.init(),p};return i}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(a){return function(b,c,d){var e=null;return function(){var f=this,g=arguments,h=d&&!e;return e&&a.cancel(e),e=a(function(){e=null,d||b.apply(f,g)},c,!1),h&&b.apply(f,g),e}}}]).factory("throttle",["$timeout",function(a){return function(b,c,d){var e=null;return d||(d={}),function(){var f=this,g=arguments;e||(d.leading!==!1&&b.apply(f,g),e=a(function(){e=null,d.trailing!==!1&&b.apply(f,g)},c,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(b,c){var d=(angular.element,{}),e=d.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};d.css=function(b,c,d){var e;return e=b.currentStyle?b.currentStyle[c]:a.getComputedStyle?a.getComputedStyle(b)[c]:b.style[c],d===!0?parseFloat(e)||0:e},d.offset=function(b){var c=b.getBoundingClientRect(),d=b.ownerDocument;return{width:c.width||b.offsetWidth,height:c.height||b.offsetHeight,top:c.top+(a.pageYOffset||d.documentElement.scrollTop)-(d.documentElement.clientTop||0),left:c.left+(a.pageXOffset||d.documentElement.scrollLeft)-(d.documentElement.clientLeft||0)}},d.setOffset=function(a,b,c){var e,f,g,h,i,j,k,l=d.css(a,"position"),m=angular.element(a),n={};"static"===l&&(a.style.position="relative"),i=d.offset(a),g=d.css(a,"top"),j=d.css(a,"left"),k=("absolute"===l||"fixed"===l)&&(g+j).indexOf("auto")>-1,k?(e=d.position(a),h=e.top,f=e.left):(h=parseFloat(g)||0,f=parseFloat(j)||0),angular.isFunction(b)&&(b=b.call(a,c,i)),null!==b.top&&(n.top=b.top-i.top+h),null!==b.left&&(n.left=b.left-i.left+f),"using"in b?b.using.call(m,n):m.css({top:n.top+"px",left:n.left+"px"})},d.position=function(a){var b,c,g={top:0,left:0};return"fixed"===d.css(a,"position")?c=a.getBoundingClientRect():(b=f(a),c=d.offset(a),e(b,"html")||(g=d.offset(b)),g.top+=d.css(b,"borderTopWidth",!0),g.left+=d.css(b,"borderLeftWidth",!0)),{width:a.offsetWidth,height:a.offsetHeight,top:c.top-g.top-d.css(a,"marginTop",!0),left:c.left-g.left-d.css(a,"marginLeft",!0)}};var f=function(a){var b=a.ownerDocument,c=a.offsetParent||b;if(e(c,"#document"))return b.documentElement;for(;c&&!e(c,"html")&&"static"===d.css(c,"position");)c=c.offsetParent;return c||b.documentElement};return d.height=function(a,b){var c=a.offsetHeight;return b?c+=d.css(a,"marginTop",!0)+d.css(a,"marginBottom",!0):c-=d.css(a,"paddingTop",!0)+d.css(a,"paddingBottom",!0)+d.css(a,"borderTopWidth",!0)+d.css(a,"borderBottomWidth",!0),c},d.width=function(a,b){var c=a.offsetWidth;return b?c+=d.css(a,"marginLeft",!0)+d.css(a,"marginRight",!0):c-=d.css(a,"paddingLeft",!0)+d.css(a,"paddingRight",!0)+d.css(a,"borderLeftWidth",!0)+d.css(a,"borderRightWidth",!0),c},d}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f),{label:d,value:e,index:c}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return g.$values=b?f(b,a):{},g.$values})},g.displayValue=function(a){var b={};return b[k]=a,j(b)},g.init(),g}return d}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var a=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(c,d,e,f,g,h,i,j,k,l){function m(b){function c(){m.$emit(l.prefixEvent+".show",j)}function f(){m.$emit(l.prefixEvent+".hide",j),t.removeClass(l.prefixClass+"-open"),l.animation&&t.removeClass(l.prefixClass+"-with-"+l.animation)}function g(a){a.target===a.currentTarget&&("static"===l.backdrop?j.focus():j.hide())}function h(a){a.preventDefault()}var j={},l=j.$options=angular.extend({},a,b);j.$promise=p(l.template);var m=j.$scope=l.scope&&l.scope.$new()||d.$new();l.element||l.container||(l.container="body"),j.$id=l.id||l.element&&l.element.attr("id")||"",q(["title","content"],function(a){l[a]&&(m[a]=k.trustAsHtml(l[a]))}),m.$hide=function(){m.$$postDigest(function(){j.hide()})},m.$show=function(){m.$$postDigest(function(){j.show()})},m.$toggle=function(){m.$$postDigest(function(){j.toggle()})},j.$isShown=m.$isShown=!1,l.contentTemplate&&(j.$promise=j.$promise.then(function(a){var c=angular.element(a);return p(l.contentTemplate).then(function(a){var d=o('[ng-bind="content"]',c[0]).removeAttr("ng-bind").html(a);return b.template||d.next().remove(),c[0].outerHTML})}));var v,w,x=angular.element('<div class="'+l.prefixClass+'-backdrop"/>');return x.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":1038}),j.$promise.then(function(a){angular.isObject(a)&&(a=a.data),l.html&&(a=a.replace(u,'ng-bind-html="')),a=r.apply(a),v=e(a),j.init()}),j.init=function(){l.show&&m.$$postDigest(function(){j.show()})},j.destroy=function(){w&&(w.remove(),w=null),x&&(x.remove(),x=null),m.$destroy()},j.show=function(){if(!j.$isShown){var a,b;if(angular.isElement(l.container)?(a=l.container,b=l.container[0].lastChild?angular.element(l.container[0].lastChild):null):l.container?(a=o(l.container),b=a[0]&&a[0].lastChild?angular.element(a[0].lastChild):null):(a=null,b=l.element),w=j.$element=v(m,function(a,b){}),!m.$emit(l.prefixEvent+".show.before",j).defaultPrevented){w.css({display:"block"}).addClass(l.placement),l.animation&&(l.backdrop&&x.addClass(l.backdropAnimation),w.addClass(l.animation)),l.backdrop&&i.enter(x,t,null),angular.version.minor<=2?i.enter(w,a,b,c):i.enter(w,a,b).then(c),j.$isShown=m.$isShown=!0,n(m);var d=w[0];s(function(){d.focus()}),t.addClass(l.prefixClass+"-open"),l.animation&&t.addClass(l.prefixClass+"-with-"+l.animation),l.backdrop&&(w.on("click",g),x.on("click",g),x.on("wheel",h)),l.keyboard&&w.on("keyup",j.$onKeyUp)}}},j.hide=function(){j.$isShown&&(m.$emit(l.prefixEvent+".hide.before",j).defaultPrevented||(angular.version.minor<=2?i.leave(w,f):i.leave(w).then(f),l.backdrop&&i.leave(x),j.$isShown=m.$isShown=!1,n(m),l.backdrop&&(w.off("click",g),x.off("click",g),x.off("wheel",h)),l.keyboard&&w.off("keyup",j.$onKeyUp)))},j.toggle=function(){j.$isShown?j.hide():j.show()},j.focus=function(){w[0].focus()},j.$onKeyUp=function(a){27===a.which&&j.$isShown&&(j.hide(),a.stopPropagation())},j}function n(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function o(a,c){return angular.element((c||b).querySelectorAll(a))}function p(a){return v[a]?v[a]:v[a]=h.get(a,{cache:g}).then(function(a){return a.data})}var q=angular.forEach,r=String.prototype.trim,s=c.requestAnimationFrame||c.setTimeout,t=angular.element(c.document.body),u=/ng-bind="/gi,v={};return m}]}).directive("bsModal",["$window","$sce","$modal",function(a,b,c){return{restrict:"EAC",scope:!0,link:function(a,d,e,f){var g={scope:a,element:d,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation","id","prefixEvent","prefixClass"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(a){angular.isDefined(e[a])&&h.test(e[a])&&(g[a]=!1)}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d,e){a[c]=b.trustAsHtml(d)})}),e.bsModal&&a.$watch(e.bsModal,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var i=c(g);d.on(e.trigger||"click",i.toggle),a.$on("$destroy",function(){i&&i.destroy(),g=null,i=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var a=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:a}}}).directive("bsNavbar",["$window","$location","$navbar",function(a,b,c){var d=c.defaults;return{restrict:"A",link:function(a,c,e,f){var g=angular.copy(d);angular.forEach(Object.keys(d),function(a){angular.isDefined(e[a])&&(g[a]=e[a])}),a.$watch(function(){return b.path()},function(a,b){var d=c[0].querySelectorAll("li["+g.routeAttr+"]");angular.forEach(d,function(b){var c=angular.element(b),d=c.attr(g.routeAttr).replace("/","\\/");g.strict&&(d="^"+d+"$");var e=new RegExp(d,"i");e.test(a)?c.addClass(g.activeClass):c.removeClass(g.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var a=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(b){function c(c,d){var e=angular.extend({},a,d),f=b(c,e);return e.content&&(f.$scope.content=e.content),f}return c}]}).directive("bsPopover",["$window","$sce","$popover",function(a,b,c){var d=a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,e,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])});var h=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(a){angular.isDefined(f[a])&&h.test(f[a])&&(g[a]=!1)});var i=e.attr("data-target");angular.isDefined(i)&&(h.test(i)?g.target=!1:g.target=i),angular.forEach(["title","content"],function(c){f[c]&&f.$observe(c,function(e,f){a[c]=b.trustAsHtml(e),angular.isDefined(f)&&d(function(){j&&j.$applyPlacement()})})}),f.bsPopover&&a.$watch(f.bsPopover,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b,angular.isDefined(c)&&d(function(){j&&j.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a,b){j&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(popover),?/i)),a===!0?j.show():j.hide())}),f.viewport&&a.$watch(f.viewport,function(a){j&&angular.isDefined(a)&&j.setViewport(a)});var j=c(e,g);a.$on("$destroy",function(){j&&j.destroy(),g=null,j=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var a=this.$$spies={},c=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(d,e,f,g,h,i){function j(a,b){return a[0].nodeName&&a[0].nodeName.toLowerCase()===b.toLowerCase()}function k(e){var k=angular.extend({},c,e);k.element||(k.element=n);var o=j(k.element,"body"),p=o?l:k.element,q=o?"window":k.id;if(a[q])return a[q].$$count++,a[q];var r,s,t,u,v,w,x,y,z={},A=z.$trackedElements=[],B=[];return z.init=function(){this.$$count=1,u=h(this.checkPosition,k.debounce),v=i(this.checkPosition,k.throttle),p.on("click",this.checkPositionWithEventLoop),l.on("resize",u),p.on("scroll",v),w=h(this.checkOffsets,k.debounce),r=f.$on("$viewContentLoaded",w),s=f.$on("$includeContentLoaded",w),w(),q&&(a[q]=z)},z.destroy=function(){this.$$count--,this.$$count>0||(p.off("click",this.checkPositionWithEventLoop),l.off("resize",u),p.off("scroll",v),r(),s(),q&&delete a[q])},z.checkPosition=function(){if(B.length){if(y=(o?d.pageYOffset:p.prop("scrollTop"))||0,x=Math.max(d.innerHeight,m.prop("clientHeight")),y<B[0].offsetTop&&t!==B[0].target)return z.$activateElement(B[0]);for(var a=B.length;a--;)if(!angular.isUndefined(B[a].offsetTop)&&null!==B[a].offsetTop&&t!==B[a].target&&!(y<B[a].offsetTop||B[a+1]&&y>B[a+1].offsetTop))return z.$activateElement(B[a])}},z.checkPositionWithEventLoop=function(){setTimeout(z.checkPosition,1)},z.$activateElement=function(a){if(t){var b=z.$getTrackedElement(t);b&&(b.source.removeClass("active"),j(b.source,"li")&&j(b.source.parent().parent(),"li")&&b.source.parent().parent().removeClass("active"))}t=a.target,a.source.addClass("active"),j(a.source,"li")&&j(a.source.parent().parent(),"li")&&a.source.parent().parent().addClass("active")},z.$getTrackedElement=function(a){return A.filter(function(b){return b.target===a})[0]},z.checkOffsets=function(){angular.forEach(A,function(a){var c=b.querySelector(a.target);a.offsetTop=c?g.offset(c).top:null,k.offset&&null!==a.offsetTop&&(a.offsetTop-=1*k.offset)}),B=A.filter(function(a){return null!==a.offsetTop}).sort(function(a,b){return a.offsetTop-b.offsetTop}),u()},z.trackElement=function(a,b){A.push({target:a,source:b})},z.untrackElement=function(a,b){for(var c,d=A.length;d--;)if(A[d].target===a&&A[d].source===b){c=d;break}A=A.splice(c,1)},z.activate=function(a){A[a].addClass("active")},z.init(),z}var l=angular.element(d),m=angular.element(e.prop("documentElement")),n=angular.element(d.document.body);return k}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"EAC",link:function(a,b,c){var e={scope:a};angular.forEach(["offset","target"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])});var f=d(e);f.trackElement(e.target,b),a.$on("$destroy",function(){f&&(f.untrackElement(e.target,b),f.destroy()),e=null,f=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"A",compile:function(a,b){var c=a[0].querySelectorAll("li > a[href]");angular.forEach(c,function(a){var b=angular.element(a);b.parent().attr("bs-scrollspy","").attr("data-target",b.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var a=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(b,c,d,e,f){function g(b,c,d){var g={},h=angular.extend({},a,d);g=e(b,h);var j=g.$scope;j.$matches=[],h.multiple?j.$activeIndex=[]:j.$activeIndex=-1,j.$isMultiple=h.multiple,j.$showAllNoneButtons=h.allNoneButtons&&h.multiple,j.$iconCheckmark=h.iconCheckmark,j.$allText=h.allText,j.$noneText=h.noneText,j.$activate=function(a){j.$$postDigest(function(){g.activate(a)})},j.$select=function(a,b){j.$$postDigest(function(){g.select(a)})},j.$isVisible=function(){return g.$isVisible()},j.$isActive=function(a){return g.$isActive(a)},j.$selectAll=function(){for(var a=0;a<j.$matches.length;a++)j.$isActive(a)||j.$select(a)},j.$selectNone=function(){for(var a=0;a<j.$matches.length;a++)j.$isActive(a)&&j.$select(a)},g.update=function(a){j.$matches=a,g.$updateActiveIndex()},g.activate=function(a){return h.multiple?(g.$isActive(a)?j.$activeIndex.splice(j.$activeIndex.indexOf(a),1):j.$activeIndex.push(a),h.sort&&j.$activeIndex.sort(function(a,b){return a-b})):j.$activeIndex=a,j.$activeIndex},g.select=function(a){var b=j.$matches[a].value;j.$apply(function(){g.activate(a),h.multiple?c.$setViewValue(j.$activeIndex.map(function(a){return j.$matches[a].value})):(c.$setViewValue(b),g.hide())}),j.$emit(h.prefixEvent+".select",b,a,g)},g.$updateActiveIndex=function(){c.$modelValue&&j.$matches.length?h.multiple&&angular.isArray(c.$modelValue)?j.$activeIndex=c.$modelValue.map(function(a){return g.$getIndex(a)}):j.$activeIndex=g.$getIndex(c.$modelValue):j.$activeIndex>=j.$matches.length&&(j.$activeIndex=h.multiple?[]:0)},g.$isVisible=function(){return h.minLength&&c?j.$matches.length&&c.$viewValue.length>=h.minLength:j.$matches.length},g.$isActive=function(a){return h.multiple?-1!==j.$activeIndex.indexOf(a):j.$activeIndex===a},g.$getIndex=function(a){var b=j.$matches.length,c=b;if(b){for(c=b;c--&&j.$matches[c].value!==a;);if(!(0>c))return c}},g.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),i){var b=angular.element(a.target);b.triggerHandler("click")}},g.$onKeyDown=function(a){return/(9|13|38|40)/.test(a.keyCode)?(a.preventDefault(),a.stopPropagation(),h.multiple&&9===a.keyCode?g.hide():h.multiple||13!==a.keyCode&&9!==a.keyCode?void(h.multiple||(38===a.keyCode&&j.$activeIndex>0?j.$activeIndex--:38===a.keyCode&&j.$activeIndex<0?j.$activeIndex=j.$matches.length-1:40===a.keyCode&&j.$activeIndex<j.$matches.length-1?j.$activeIndex++:angular.isUndefined(j.$activeIndex)&&(j.$activeIndex=0),j.$digest())):g.select(j.$activeIndex)):void 0};var k=g.show;g.show=function(){k(),h.multiple&&g.$element.addClass("select-multiple"),f(function(){g.$element.on(i?"touchstart":"mousedown",g.$onMouseDown),h.keyboard&&b.on("keydown",g.$onKeyDown)},0,!1)};var l=g.hide;return g.hide=function(){h.multiple||c.$modelValue||(j.$activeIndex=-1),g.$element.off(i?"touchstart":"mousedown",g.$onMouseDown),h.keyboard&&b.off("keydown",g.$onKeyDown),l(!0)},g}var h=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),i="createTouch"in b.document&&h;return g.defaults=a,g}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a,placeholder:f.placeholder};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(a){angular.isDefined(c[a])&&i.test(c[a])&&(h[a]=!1)});var j=b.attr("data-multiple");if(angular.isDefined(j)&&(i.test(j)?h.multiple=!1:h.multiple=j),"select"===b[0].nodeName.toLowerCase()){var k=b;k.css("display","none"),b=angular.element('<button type="button" class="btn btn-default"></button>'),k.after(b)}var l=e(c.bsOptions),m=d(b,g,h),n=l.$match[7].replace(/\|.+/,"").trim();a.$watchCollection(n,function(b,c){l.valuesFn(a,g).then(function(a){m.update(a),g.$render()})}),a.$watch(c.ngModel,function(a,b){m.$updateActiveIndex(),g.$render()},!0),g.$render=function(){var a,c;h.multiple&&angular.isArray(g.$modelValue)?(a=g.$modelValue.map(function(a){return c=m.$getIndex(a),angular.isDefined(c)?m.$scope.$matches[c].label:!1}).filter(angular.isDefined),a=a.length>(h.maxLength||f.maxLength)?a.length+" "+(h.maxLengthHtml||f.maxLengthHtml):a.join(", ")):(c=m.$getIndex(g.$modelValue),a=angular.isDefined(c)?m.$scope.$matches[c].label:!1),b.html((a?a:h.placeholder)+(h.caretHtml?h.caretHtml:f.caretHtml))},h.multiple&&(g.$isEmpty=function(a){return!a||0===a.length}),a.$on("$destroy",function(){m&&m.destroy(),h=null,m=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var a=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},b=this.controller=function(b,c,d){var e=this;e.$options=angular.copy(a),angular.forEach(["animation","navClass","activeClass"],function(a){angular.isDefined(d[a])&&(e.$options[a]=d[a])}),b.$navClass=e.$options.navClass,b.$activeClass=e.$options.activeClass,e.$panes=b.$panes=[],e.$activePaneChangeListeners=e.$viewChangeListeners=[],e.$push=function(a){angular.isUndefined(e.$panes.$active)&&b.$setActive(a.name||0),e.$panes.push(a)},e.$remove=function(a){var b,c=e.$panes.indexOf(a),d=e.$panes.$active;b=angular.isString(d)?e.$panes.map(function(a){return a.name}).indexOf(d):e.$panes.$active,e.$panes.splice(c,1),b>c?b--:c===b&&b===e.$panes.length&&b--,b>=0&&b<e.$panes.length?e.$setActive(e.$panes[b].name||b):e.$setActive()},e.$setActive=b.$setActive=function(a){e.$panes.$active=a,e.$activePaneChangeListeners.forEach(function(a){a()})},e.$isActive=b.$isActive=function(a,b){return e.$panes.$active===a.name||e.$panes.$active===b}};this.$get=function(){var c={};return c.defaults=a,c.controller=b,c}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(a,b,c,d){var e=c.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",c.controller],templateUrl:function(a,b){return b.template||e.template},link:function(a,b,c,e){var f=e[0],g=e[1];if(f&&(g.$activePaneChangeListeners.push(function(){f.$setViewValue(g.$panes.$active)}),f.$formatters.push(function(a){return g.$setActive(a),a})),c.bsActivePane){var h=d(c.bsActivePane);g.$activePaneChangeListeners.push(function(){h.assign(a,g.$panes.$active)}),a.$watch(c.bsActivePane,function(a,b){g.$setActive(a)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(a,b,c){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(a,d,e,f){function g(){var c=h.$panes.indexOf(a);b[h.$isActive(a,c)?"addClass":"removeClass"](d,h.$options.activeClass)}var h=(f[0],f[1]);d.addClass("tab-pane"),e.$observe("title",function(b,d){a.title=c.trustAsHtml(b)}),a.name=e.name,h.$options.animation&&d.addClass(h.$options.animation),e.$observe("disabled",function(b,c){a.disabled=a.$eval(b)}),h.$push(a),a.$on("$destroy",function(){h.$remove(a)}),h.$activePaneChangeListeners.push(function(){g()}),g()}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(b,c,d,e,f,g,h){function i(b,c,d){function e(a){var b=6e4*o.minuteStep;return new Date(Math.floor(a.getTime()/b)*b)}function i(a,c){var d=a+c;if(b[0].createTextRange){var e=b[0].createTextRange();e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",d),e.select()}else b[0].setSelectionRange?b[0].setSelectionRange(a,d):angular.isUndefined(b[0].selectionStart)&&(b[0].selectionStart=a,b[0].selectionEnd=d)}function l(){b[0].focus()}var m=g(b,angular.extend({},a,d)),n=d.scope,o=m.$options,p=m.$scope,q=o.lang,r=function(a,b,c){return f.formatDate(a,b,q,c)},s=0,t=o.roundDisplay?e(new Date):new Date,u=c.$dateValue||t,v={hour:u.getHours(),meridian:u.getHours()<12,minute:u.getMinutes(),second:u.getSeconds(),millisecond:u.getMilliseconds()},w=f.getDatetimeFormat(o.timeFormat,q),x=f.hoursFormat(w),y=f.timeSeparator(w),z=f.minutesFormat(w),A=f.secondsFormat(w),B=f.showSeconds(w),C=f.showAM(w);p.$iconUp=o.iconUp,p.$iconDown=o.iconDown,p.$select=function(a,b){m.select(a,b)},p.$moveIndex=function(a,b){m.$moveIndex(a,b)},p.$switchMeridian=function(a){m.switchMeridian(a)},m.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())?(m.$date=a,angular.extend(v,{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}),m.$build()):m.$isBuilt||m.$build()},m.select=function(a,b,d){(!c.$dateValue||isNaN(c.$dateValue.getTime()))&&(c.$dateValue=new Date(1970,0,1)),angular.isDate(a)||(a=new Date(a)),0===b?c.$dateValue.setHours(a.getHours()):1===b?c.$dateValue.setMinutes(a.getMinutes()):2===b&&c.$dateValue.setSeconds(a.getSeconds()),c.$setViewValue(angular.copy(c.$dateValue)),c.$render(),o.autoclose&&!d&&h(function(){m.hide(!0)})},m.switchMeridian=function(a){if(c.$dateValue&&!isNaN(c.$dateValue.getTime())){var b=(a||c.$dateValue).getHours();c.$dateValue.setHours(12>b?b+12:b-12),c.$setViewValue(angular.copy(c.$dateValue)),c.$render()}},m.$build=function(){var a,b,c=p.midIndex=parseInt(o.length/2,10),d=[];for(a=0;a<o.length;a++)b=new Date(1970,0,1,v.hour-(c-a)*o.hourStep),d.push({date:b,label:r(b,x),selected:m.$date&&m.$isSelected(b,0),disabled:m.$isDisabled(b,0)});var e,f=[];for(a=0;a<o.length;a++)e=new Date(1970,0,1,0,v.minute-(c-a)*o.minuteStep),f.push({date:e,label:r(e,z),selected:m.$date&&m.$isSelected(e,1),disabled:m.$isDisabled(e,1)});var g,h=[];for(a=0;a<o.length;a++)g=new Date(1970,0,1,0,0,v.second-(c-a)*o.secondStep),h.push({date:g,label:r(g,A),selected:m.$date&&m.$isSelected(g,2),disabled:m.$isDisabled(g,2)});var i=[];for(a=0;a<o.length;a++)B?i.push([d[a],f[a],h[a]]):i.push([d[a],f[a]]);p.rows=i,p.showSeconds=B,p.showAM=C,p.isAM=(m.$date||d[c].date).getHours()<12,p.timeSeparator=y,m.$isBuilt=!0},m.$isSelected=function(a,b){return m.$date?0===b?a.getHours()===m.$date.getHours():1===b?a.getMinutes()===m.$date.getMinutes():2===b?a.getSeconds()===m.$date.getSeconds():void 0:!1},m.$isDisabled=function(a,b){var c;return 0===b?c=a.getTime()+6e4*v.minute+1e3*v.second:1===b?c=a.getTime()+36e5*v.hour+1e3*v.second:2===b&&(c=a.getTime()+36e5*v.hour+6e4*v.minute),c<1*o.minTime||c>1*o.maxTime},p.$arrowAction=function(a,b){"picker"===o.arrowBehavior?m.$setTimeByStep(a,b):m.$moveIndex(a,b)},m.$setTimeByStep=function(a,b){var c=new Date(m.$date),d=c.getHours(),e=(r(c,x).length,c.getMinutes()),f=(r(c,z).length,c.getSeconds());r(c,A).length;0===b?c.setHours(d-parseInt(o.hourStep,10)*a):1===b?c.setMinutes(e-parseInt(o.minuteStep,10)*a):2===b&&c.setSeconds(f-parseInt(o.secondStep,10)*a),m.select(c,b,!0)},m.$moveIndex=function(a,b){var c;0===b?(c=new Date(1970,0,1,v.hour+a*o.length,v.minute,v.second),angular.extend(v,{hour:c.getHours()})):1===b?(c=new Date(1970,0,1,v.hour,v.minute+a*o.length*o.minuteStep,v.second),angular.extend(v,{minute:c.getMinutes()})):2===b&&(c=new Date(1970,0,1,v.hour,v.minute,v.second+a*o.length*o.secondStep),angular.extend(v,{second:c.getSeconds()})),m.$build()},m.$onMouseDown=function(a){if("input"!==a.target.nodeName.toLowerCase()&&a.preventDefault(),a.stopPropagation(),k){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},m.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return m.hide(!0);var b=new Date(m.$date),c=b.getHours(),d=r(b,x).length,e=b.getMinutes(),f=r(b,z).length,g=b.getSeconds(),h=r(b,A).length,j=1,k=/(37|39)/.test(a.keyCode),l=2+1*B+1*C;k&&(37===a.keyCode?s=1>s?l-1:s-1:39===a.keyCode&&(s=l-1>s?s+1:0));var p=[0,d],q=0;38===a.keyCode&&(q=-1),40===a.keyCode&&(q=1);var t=2===s&&B,u=2===s&&!B||3===s&&B;0===s?(b.setHours(c+q*parseInt(o.hourStep,10)),d=r(b,x).length,p=[0,d]):1===s?(b.setMinutes(e+q*parseInt(o.minuteStep,10)),f=r(b,z).length,p=[d+j,f]):t?(b.setSeconds(g+q*parseInt(o.secondStep,10)),h=r(b,A).length,p=[d+j+f+j,h]):u&&(k||m.switchMeridian(),p=[d+j+f+j+(h+j)*B,2]),m.select(b,s,!0),i(p[0],p[1]),n.$digest()}};var D=m.init;m.init=function(){return j&&o.useNative?(b.prop("type","time"),void b.css("-webkit-appearance","textfield")):(k&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",l)),void D())};var E=m.destroy;m.destroy=function(){j&&o.useNative&&b.off("click",l),E()};var F=m.show;m.show=function(){F(),h(function(){m.$element&&m.$element.on(k?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b&&b.on("keydown",m.$onKeyDown)},0,!1)};var G=m.hide;return m.hide=function(a){m.$isShown&&(m.$element&&m.$element.off(k?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b&&b.off("keydown",m.$onKeyDown),G(a))},m}var j=(angular.element(b.document.body),/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent)),k="createTouch"in b.document&&j;return a.lang||(a.lang=f.getDefaultLocale()),i.defaults=a,i}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(a,b,c,d,e,f){var g=f.defaults,h=/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent);a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,i){function j(a){if(angular.isDate(a)){var b=isNaN(l.minTime)||new Date(a.getTime()).setFullYear(1970,0,1)>=l.minTime,c=isNaN(l.maxTime)||new Date(a.getTime()).setFullYear(1970,0,1)<=l.maxTime,d=b&&c;i.$setValidity("date",d),i.$setValidity("min",b),i.$setValidity("max",c),d&&(i.$dateValue=a)}}function k(){return!i.$dateValue||isNaN(i.$dateValue.getTime())?"":p(i.$dateValue,l.timeFormat)}var l={scope:a,controller:i};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent"],function(a){angular.isDefined(c[a])&&(l[a]=c[a])});var m=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(a){angular.isDefined(c[a])&&m.test(c[a])&&(l[a]=!1)}),c.bsShow&&a.$watch(c.bsShow,function(a,b){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(timepicker),?/i)),a===!0?n.show():n.hide())}),h&&(l.useNative||g.useNative)&&(l.timeFormat="HH:mm");var n=f(b,i,l);l=n.$options;var o=l.lang,p=function(a,b,c){return d.formatDate(a,b,o,c)},q=e({format:l.timeFormat,lang:o});angular.forEach(["minTime","maxTime"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){n.$options[a]=q.getTimeForAttribute(a,b),!isNaN(n.$options[a])&&n.$build(),j(i.$dateValue)})}),a.$watch(c.ngModel,function(a,b){n.update(i.$dateValue)},!0),i.$parsers.unshift(function(a){var b;if(!a)return i.$setValidity("date",!0),null;var c=angular.isDate(a)?a:q.parse(a,i.$dateValue);return!c||isNaN(c.getTime())?void i.$setValidity("date",!1):(j(c),"string"===l.timeType?(b=q.timezoneOffsetAdjust(c,l.timezone,!0),p(b,l.modelTimeFormat||l.timeFormat)):(b=q.timezoneOffsetAdjust(i.$dateValue,l.timezone,!0),"number"===l.timeType?b.getTime():"unix"===l.timeType?b.getTime()/1e3:"iso"===l.timeType?b.toISOString():new Date(b)))}),i.$formatters.push(function(a){
var b;return b=angular.isUndefined(a)||null===a?NaN:angular.isDate(a)?a:"string"===l.timeType?q.parse(a,null,l.modelTimeFormat):"unix"===l.timeType?new Date(1e3*a):new Date(a),i.$dateValue=q.timezoneOffsetAdjust(b,l.timezone),k()}),i.$render=function(){b.val(k())},a.$on("$destroy",function(){n&&n.destroy(),l=null,n=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var a=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(c,d,e,f,g,h,i,j,k,l,m){function n(f,g){function h(){L.$emit(K.prefixEvent+".show",I)}function n(){if(L.$emit(K.prefixEvent+".hide",I),Q===V){if(U&&"focus"===K.trigger)return f[0].blur();H()}}function v(){var a=K.trigger.split(" ");angular.forEach(a,function(a){"click"===a?f.on("click",I.toggle):"manual"!==a&&(f.on("hover"===a?"mouseenter":"focus",I.enter),f.on("hover"===a?"mouseleave":"blur",I.leave),"button"===J&&"hover"!==a&&f.on(s?"touchstart":"mousedown",I.$onFocusElementMouseDown))})}function w(){for(var a=K.trigger.split(" "),b=a.length;b--;){var c=a[b];"click"===c?f.off("click",I.toggle):"manual"!==c&&(f.off("hover"===c?"mouseenter":"focus",I.enter),f.off("hover"===c?"mouseleave":"blur",I.leave),"button"===J&&"hover"!==c&&f.off(s?"touchstart":"mousedown",I.$onFocusElementMouseDown))}}function x(){"focus"!==K.trigger?Q.on("keyup",I.$onKeyUp):f.on("keyup",I.$onFocusKeyUp)}function y(){"focus"!==K.trigger?Q.off("keyup",I.$onKeyUp):f.off("keyup",I.$onFocusKeyUp)}function z(){m(function(){Q.on("click",B),u.on("click",I.hide),W=!0},0,!1)}function A(){W&&(Q.off("click",B),u.off("click",I.hide),W=!1)}function B(a){a.stopPropagation()}function C(a){a=a||K.target||f;var d=a[0],e="BODY"===d.tagName,g=d.getBoundingClientRect(),h={};for(var i in g)h[i]=g[i];null===h.width&&(h=angular.extend({},h,{width:g.right-g.left,height:g.bottom-g.top}));var j=e?{top:0,left:0}:k.offset(d),l={scroll:e?b.documentElement.scrollTop||b.body.scrollTop:a.prop("scrollTop")||0},m=e?{width:b.documentElement.clientWidth,height:c.innerHeight}:null;return angular.extend({},h,l,m,j)}function D(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d;break;case"bottom":e.top=b.top+b.height}return e}function E(a,b){var c=Q[0],d=c.offsetWidth,e=c.offsetHeight,f=parseInt(k.css(c,"margin-top"),10),g=parseInt(k.css(c,"margin-left"),10);isNaN(f)&&(f=0),isNaN(g)&&(g=0),a.top=a.top+f,a.left=a.left+g,k.setOffset(c,angular.extend({using:function(a){Q.css({top:Math.round(a.top)+"px",left:Math.round(a.left)+"px",right:""})}},a),0);var h=c.offsetWidth,i=c.offsetHeight;if("top"===b&&i!==e&&(a.top=a.top+e-i),!/top-left|top-right|bottom-left|bottom-right/.test(b)){var j=F(b,a,h,i);if(j.left?a.left+=j.left:a.top+=j.top,k.setOffset(c,a),/top|right|bottom|left/.test(b)){var l=/top|bottom/.test(b),m=l?2*j.left-d+h:2*j.top-e+i,n=l?"offsetWidth":"offsetHeight";G(m,c[n],l)}}}function F(a,b,c,d){var e={top:0,left:0},f=K.viewport&&p(K.viewport.selector||K.viewport);if(!f)return e;var g=K.viewport&&K.viewport.padding||0,h=C(f);if(/right|left/.test(a)){var i=b.top-g-h.scroll,j=b.top+g-h.scroll+d;i<h.top?e.top=h.top-i:j>h.top+h.height&&(e.top=h.top+h.height-j)}else{var k=b.left-g,l=b.left+g+c;k<h.left?e.left=h.left-k:l>h.width&&(e.left=h.left+h.width-l)}return e}function G(a,b,c){var d=p(".tooltip-arrow, .arrow",Q[0]);d.css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")}function H(){clearTimeout(N),I.$isShown&&null!==Q&&(K.autoClose&&A(),K.keyboard&&y()),T&&(T.$destroy(),T=null),Q&&(Q.remove(),Q=I.$element=null)}var I={},J=f[0].nodeName.toLowerCase(),K=I.$options=angular.extend({},a,g);I.$promise=q(K.template);var L=I.$scope=K.scope&&K.scope.$new()||d.$new();if(K.delay&&angular.isString(K.delay)){var M=K.delay.split(",").map(parseFloat);K.delay=M.length>1?{show:M[0],hide:M[1]}:M[0]}I.$id=K.id||f.attr("id")||"",K.title&&(L.title=j.trustAsHtml(K.title)),L.$setEnabled=function(a){L.$$postDigest(function(){I.setEnabled(a)})},L.$hide=function(){L.$$postDigest(function(){I.hide()})},L.$show=function(){L.$$postDigest(function(){I.show()})},L.$toggle=function(){L.$$postDigest(function(){I.toggle()})},I.$isShown=L.$isShown=!1;var N,O;K.contentTemplate&&(I.$promise=I.$promise.then(function(a){var b=angular.element(a);return q(K.contentTemplate).then(function(a){var c=p('[ng-bind="content"]',b[0]);return c.length||(c=p('[ng-bind="title"]',b[0])),c.removeAttr("ng-bind").html(a),b[0].outerHTML})}));var P,Q,R,S,T;I.$promise.then(function(a){angular.isObject(a)&&(a=a.data),K.html&&(a=a.replace(t,'ng-bind-html="')),a=r.apply(a),R=a,P=e(a),I.init()}),I.init=function(){K.delay&&angular.isNumber(K.delay)&&(K.delay={show:K.delay,hide:K.delay}),"self"===K.container?S=f:angular.isElement(K.container)?S=K.container:K.container&&(S=p(K.container)),v(),K.target&&(K.target=angular.isElement(K.target)?K.target:p(K.target)),K.show&&L.$$postDigest(function(){"focus"===K.trigger?f[0].focus():I.show()})},I.destroy=function(){w(),H(),L.$destroy()},I.enter=function(){return clearTimeout(N),O="in",K.delay&&K.delay.show?void(N=setTimeout(function(){"in"===O&&I.show()},K.delay.show)):I.show()},I.show=function(){if(K.bsEnabled&&!I.$isShown){L.$emit(K.prefixEvent+".show.before",I);var a,b;K.container?(a=S,b=S[0].lastChild?angular.element(S[0].lastChild):null):(a=null,b=f),Q&&H(),T=I.$scope.$new(),Q=I.$element=P(T,function(a,b){}),Q.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),K.animation&&Q.addClass(K.animation),K.type&&Q.addClass(K.prefixClass+"-"+K.type),K.customClass&&Q.addClass(K.customClass),b?b.after(Q):a.prepend(Q),I.$isShown=L.$isShown=!0,o(L),I.$applyPlacement(),angular.version.minor<=2?i.enter(Q,a,b,h):i.enter(Q,a,b).then(h),o(L),l(function(){Q&&Q.css({visibility:"visible"})}),K.keyboard&&("focus"!==K.trigger&&I.focus(),x()),K.autoClose&&z()}},I.leave=function(){return clearTimeout(N),O="out",K.delay&&K.delay.hide?void(N=setTimeout(function(){"out"===O&&I.hide()},K.delay.hide)):I.hide()};var U,V;I.hide=function(a){I.$isShown&&(L.$emit(K.prefixEvent+".hide.before",I),U=a,V=Q,angular.version.minor<=2?i.leave(Q,n):i.leave(Q).then(n),I.$isShown=L.$isShown=!1,o(L),K.keyboard&&null!==Q&&y(),K.autoClose&&null!==Q&&A())},I.toggle=function(){I.$isShown?I.leave():I.enter()},I.focus=function(){Q[0].focus()},I.setEnabled=function(a){K.bsEnabled=a},I.setViewport=function(a){K.viewport=a},I.$applyPlacement=function(){if(Q){var b=K.placement,c=/\s?auto?\s?/i,d=c.test(b);d&&(b=b.replace(c,"")||a.placement),Q.addClass(K.placement);var e=C(),g=Q.prop("offsetWidth"),h=Q.prop("offsetHeight");if(d){var i=b,j=K.container?p(K.container):f.parent(),k=C(j);i.indexOf("bottom")>=0&&e.bottom+h>k.bottom?b=i.replace("bottom","top"):i.indexOf("top")>=0&&e.top-h<k.top&&(b=i.replace("top","bottom")),("right"===i||"bottom-left"===i||"top-left"===i)&&e.right+g>k.width?b="right"===i?"left":b.replace("left","right"):("left"===i||"bottom-right"===i||"top-right"===i)&&e.left-g<k.left&&(b="left"===i?"right":b.replace("right","left")),Q.removeClass(i).addClass(b)}var l=D(b,e,g,h);E(l,b)}},I.$onKeyUp=function(a){27===a.which&&I.$isShown&&(I.hide(),a.stopPropagation())},I.$onFocusKeyUp=function(a){27===a.which&&(f[0].blur(),a.stopPropagation())},I.$onFocusElementMouseDown=function(a){a.preventDefault(),a.stopPropagation(),I.$isShown?f[0].blur():f[0].focus()};var W=!1;return I}function o(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function p(a,c){return angular.element((c||b).querySelectorAll(a))}function q(a){return v[a]?v[a]:v[a]=h.get(a,{cache:g}).then(function(a){return a.data})}var r=String.prototype.trim,s="createTouch"in c.document,t=/ng-bind="/gi,u=angular.element(c.document),v={};return n}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(a,b,c,d,e){return{restrict:"EAC",scope:!0,link:function(a,b,f,g){var h={scope:a};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(a){angular.isDefined(f[a])&&(h[a]=f[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container"],function(a){angular.isDefined(f[a])&&i.test(f[a])&&(h[a]=!1)});var j=b.attr("data-target");angular.isDefined(j)&&(i.test(j)?h.target=!1:h.target=j),a.hasOwnProperty("title")||(a.title=""),f.$observe("title",function(b){if(angular.isDefined(b)||!a.hasOwnProperty("title")){var d=a.title;a.title=c.trustAsHtml(b),angular.isDefined(d)&&e(function(){k&&k.$applyPlacement()})}}),f.bsTooltip&&a.$watch(f.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&e(function(){k&&k.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a,b){k&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(tooltip),?/i)),a===!0?k.show():k.hide())}),f.bsEnabled&&a.$watch(f.bsEnabled,function(a,b){k&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|1|,?(tooltip),?/i)),a===!1?k.setEnabled(!1):k.setEnabled(!0))}),f.viewport&&a.$watch(f.viewport,function(a){k&&angular.isDefined(a)&&k.setViewport(a)});var k=d(b,h);a.$on("$destroy",function(){k&&k.destroy(),h=null,k=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var a=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(b,c,d,e){function f(b,c,f){var g={},h=angular.extend({},a,f);g=d(b,h);var i=f.scope,j=g.$scope;j.$resetMatches=function(){j.$matches=[],j.$activeIndex=h.autoSelect?0:-1},j.$resetMatches(),j.$activate=function(a){j.$$postDigest(function(){g.activate(a)})},j.$select=function(a,b){j.$$postDigest(function(){g.select(a)})},j.$isVisible=function(){return g.$isVisible()},g.update=function(a){j.$matches=a,j.$activeIndex>=a.length&&(j.$activeIndex=h.autoSelect?0:-1),/^(bottom|bottom-left|bottom-right)$/.test(h.placement)||e(g.$applyPlacement)},g.activate=function(a){j.$activeIndex=a},g.select=function(a){if(-1!==a){var b=j.$matches[a].value;c.$setViewValue(b),c.$render(),j.$resetMatches(),i&&i.$digest(),j.$emit(h.prefixEvent+".select",b,a,g)}},g.$isVisible=function(){return h.minLength&&c?j.$matches.length&&angular.isString(c.$viewValue)&&c.$viewValue.length>=h.minLength:!!j.$matches.length},g.$getIndex=function(a){var b=j.$matches.length,c=b;if(b){for(c=b;c--&&j.$matches[c].value!==a;);if(!(0>c))return c}},g.$onMouseDown=function(a){a.preventDefault(),a.stopPropagation()},g.$onKeyDown=function(a){/(38|40|13)/.test(a.keyCode)&&(!g.$isVisible()||13===a.keyCode&&-1===j.$activeIndex||(a.preventDefault(),a.stopPropagation()),13===a.keyCode&&j.$matches.length?g.select(j.$activeIndex):38===a.keyCode&&j.$activeIndex>0?j.$activeIndex--:40===a.keyCode&&j.$activeIndex<j.$matches.length-1?j.$activeIndex++:angular.isUndefined(j.$activeIndex)&&(j.$activeIndex=0),j.$digest())};var k=g.show;g.show=function(){k(),e(function(){g.$element&&g.$element.on("mousedown",g.$onMouseDown),h.keyboard&&b&&b.on("keydown",g.$onKeyDown)},0,!1)};var l=g.hide;return g.hide=function(){g.$element&&g.$element.off("mousedown",g.$onMouseDown),h.keyboard&&b&&b.off("keydown",g.$onKeyDown),h.autoSelect||g.activate(-1),l()},g}angular.element(b.document.body);return f.defaults=a,f}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=/^(false|0|)$/i;angular.forEach(["html","container","trimValue"],function(a){angular.isDefined(c[a])&&i.test(c[a])&&(h[a]=!1)}),b.attr("autocomplete","off");var j=h.filter||f.filter,k=h.limit||f.limit,l=h.comparator||f.comparator,m=c.bsOptions;j&&(m+=" | "+j+":$viewValue"),l&&(m+=":"+l),k&&(m+=" | limitTo:"+k);var n=e(m),o=d(b,g,h);if(h.watchOptions){var p=n.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();a.$watchCollection(p,function(b,c){n.valuesFn(a,g).then(function(a){o.update(a),g.$render()})})}a.$watch(c.ngModel,function(b,c){a.$modelValue=b,n.valuesFn(a,g).then(function(a){if(h.selectMode&&!a.length&&b.length>0)return void g.$setViewValue(g.$viewValue.substring(0,g.$viewValue.length-1));a.length>k&&(a=a.slice(0,k));var c=o.$isVisible();c&&o.update(a),(1!==a.length||a[0].value!==b)&&(!c&&o.update(a),g.$render())})}),g.$formatters.push(function(a){var b=n.displayValue(a);return b?b:a&&"object"!=typeof a?a:""}),g.$render=function(){if(g.$isEmpty(g.$viewValue))return b.val("");var a=o.$getIndex(g.$modelValue),c=angular.isDefined(a)?o.$scope.$matches[a].label:g.$viewValue;c=angular.isObject(c)?n.displayValue(c):c;var d=c?c.toString().replace(/<(?:.|\n)*?>/gm,""):"";b.val(h.trimValue===!1?d:d.trim())},a.$on("$destroy",function(){o&&o.destroy(),h=null,o=null})}}}])}(window,document),function(a,b,c){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(a){a.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(a){a.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(a){a.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(a){a.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(a){a.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(a){a.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(a){a.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(a){a.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(a){a.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(a){a.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(a){a.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else{if(!angular.isFunction(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");a=b[d](a,c)}}),a},i=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||i(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return h(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=0,C=!0,D="default",E={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},F="2.7.2",G=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};G.displayName="angular-translate/service: getFirstBrowserLanguage";var H=function(){var a=G()||"";return E[D]&&(a=E[D](a)),a};H.displayName="angular-translate/service: getLocale";var I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(I(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],I(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&I(b,angular.lowercase(k[0]))>-1)return k[0]}return a},L=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],M(b));return this};this.translations=L,this.cloakClassName=function(a){return a?(x=a,this):x};var M=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?M(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};M.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return N(a),this};var N=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return O(a),this};var O=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&I(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var P=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=P,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},D=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():H();return e=u.length?K(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?B:(B=a,this)},this.statefulFilter=function(a){return void 0===a?C:(C=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,A=b.get(n||"$translateDefaultInterpolation"),D=!1,E={},G={},H=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return H(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=J.apply(a));var n=function(){var a=e?G[e]:G[i];if(l=0,k&&!a){var b=f.get(v);if(a=G[b],g&&g.length){var c=I(g,b);l=0===c?1:0,I(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){aa(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else aa(a,b,c,h).then(m.resolve,m.reject);return m.promise},Q=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},R=function(a){i=a,c.$emit("$translateChangeSuccess",{language:a}),k&&f.put(H.storageKey(),i),A.setLocale(i);var b=function(a,b){E[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(E,b),c.$emit("$translateChangeEnd",{language:a})},S=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),D=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,M(a))}):angular.extend(d,M(b)),D=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var T=function(a){var c=b.get(a);c.setLocale(e||i),E[c.getInterpolationIdentifier()]=c};T.displayName="interpolationFactoryAdder",angular.forEach(w,T)}var U=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(G[a]){var c=function(a){
L(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",G[a].then(c,b.reject)}else b.reject();return b.promise},V=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?V(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",U(a).then(g,f.reject),f.promise},W=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return W(a,e.substr(2),c,d);d.setLocale(i)}return e},X=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},Y=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];V(i,b,c,e).then(h.resolve,function(){Y(a+1,b,c,e,f).then(h.resolve)})}else f?h.resolve(f):h.resolve(X(b,c));return h.promise},Z=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=W(f,b,c,d),e||(e=Z(a+1,b,c,d))}return e},$=function(a,b,c,d){return Y(u>0?u:l,a,b,c,d)},_=function(a,b,c){return Z(u>0?u:l,a,b,c)},aa=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?E[c]:A;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!D&&(l=X(a,b)),i&&g&&g.length?$(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(Q(a))}):m&&!D&&l?e?f.resolve(e):f.resolve(l):e?f.resolve(e):f.reject(Q(a))}return f.promise},ba=function(a,b,c){var d,e=i?t[i]:t,f=A;if(E&&Object.prototype.hasOwnProperty.call(E,c)&&(f=E[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?ba(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!D&&(j=X(a,b)),i&&g&&g.length?(l=0,d=_(a,b,f)):d=m&&!D&&j?j:Q(a)}return d},ca=function(a){j===a&&(j=void 0),G[a]=void 0};if(H.preferredLanguage=function(a){return a&&N(a),e},H.cloakClassName=function(){return x},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(O(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)G[g[b]]||(G[g[b]]=S(g[b]));H.use(H.use())}return h?g[0]:g},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(g,a);b>-1&&(u=b)}else u=0},H.proposedLanguage=function(){return j},H.storage=function(){return f},H.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=K(a);return e&&(a=e),!z&&t[a]||!o||G[a]?j===a&&G[a]?G[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),R(a)):(j=a,G[a]=S(a).then(function(a){return L(a.key,a.table),b.resolve(a.key),R(a.key),a},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),G[a]["finally"](function(){ca(a)})),b.promise},H.storageKey=function(){return P()},H.isPostCompilingEnabled=function(){return y},H.isForceAsyncReloadEnabled=function(){return z},H.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){L(c.key,c.table),a===i&&R(i),b()};h.displayName="refreshPostProcessor",S(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(S(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(S(i));var n=function(a){t={},angular.forEach(a,function(a){L(a.key,a.table)}),i&&R(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},H.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=H.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=J.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=ba(a,b,c):(q||r)&&(j=Q(a))),"undefined"!=typeof j)break}return j||""===j||(j=A.interpolate(a,b),m&&!D&&(j=X(a,b))),j},H.versionInfo=function(){return F},H.loaderCache=function(){return s},H.directivePriority=function(){return B},H.statefulFilter=function(){return C},o&&(angular.equals(t,{})&&H.use(H.use()),g&&g.length))for(var da=function(a){return L(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},ea=0,fa=g.length;fa>ea;ea++){var ga=g[ea];(z||!t[ga])&&(G[ga]=S(ga).then(da))}return H}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,f){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,h){var i=h.translateValues?h.translateValues:void 0,j=h.translateInterpolation?h.translateInterpolation:void 0,k=b[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",m="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,n,o){b.interpolateParams={},b.preText="",b.postText="";var p={},q=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),k)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},r=function(a){if(angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=g.apply(n.text()).match(l);if(angular.isArray(d)){b.preText=d[1],b.postText=d[3],p.translate=c(d[2])(b.$parent);var e=n.text().match(m);angular.isArray(e)&&e[2]&&e[2].length&&(r._unwatchOld=b.$watch(e[2],function(a){p.translate=a,x()}))}else p.translate=n.text().replace(/^\s+|\s+$/g,"")}else p.translate=a;x()},s=function(a){o.$observe(a,function(b){p[a]=b,x()})};q(b.interpolateParams,o,h);var t=!0;o.$observe("translate",function(a){"undefined"==typeof a?r(""):""===a&&t||(p.translate=a,x()),t=!1});for(var u in o)o.hasOwnProperty(u)&&"translateAttr"===u.substr(0,13)&&s(u);if(o.$observe("translateDefault",function(a){b.defaultText=a}),i&&o.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),k){var v=function(a){o.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&v(w)}var x=function(){for(var a in p)p.hasOwnProperty(a)&&void 0!==p[a]&&y(a,p[a],b,b.interpolateParams,b.defaultText)},y=function(b,c,d,e,f){c?a(c,e,j,f).then(function(a){z(a,d,!0,b)},function(a){z(a,d,!1,b)}):z(c,d,!1,b)},z=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),n.html(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),i="undefined"!=typeof h.translateCompile,j=i&&"false"!==h.translateCompile;(g&&!i||j)&&d(n.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=o.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),n.attr(k,b)}};(i||k||o.translateDefault)&&b.$watch("interpolateParams",x,!0);var A=f.$on("$translateChangeSuccess",x);n.text().length?r(o.translate?o.translate:""):o.translate&&r(o.translate),x(),b.$on("$destroy",A)}}}}function f(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(b.cloakClassName())},e=function(){c.removeClass(b.cloakClassName())},f=a.$on("$translateChangeEnd",function(){e(),f(),f=null});return d(),function(a,c,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(a){b(a).then(e,d)})}}}}function g(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function h(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.$inject=["$rootScope","$translate"],f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",g),g.$inject=["$parse","$translate"],g.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.$inject=["$cacheFactory"],h.displayName="$translationCache","pascalprecht.translate"}),function(a,b,c){"use strict";var d=b.isDefined,e=b.isUndefined,f=b.isNumber,g=b.isObject,h=b.isArray,i=b.extend,j=b.toJson,k=b.module("LocalStorageModule",[]);k.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse",function(a,b,c,k){var l,m=this,n=m.prefix,o=m.cookie,p=m.notify,q=m.storageType;c?c[0]&&(c=c[0]):c=document,"."!==n.substr(-1)&&(n=n?n+".":"");var r=function(a){return n+a},s=function(){try{var c=q in b&&null!==b[q],d=r("__"+Math.round(1e7*Math.random()));return c&&(l=b[q],l.setItem(d,""),l.removeItem(d)),c}catch(e){return q="cookie",a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),t=function(b,c){if(c=e(c)?null:j(c),!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),z(b,c);try{l&&l.setItem(r(b),c),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:m.storageType})}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),z(b,c)}return!0},u=function(b){if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A(b);var c=l?l.getItem(r(b)):null;if(!c||"null"===c)return null;try{return JSON.parse(c)}catch(d){return c}},v=function(){var b,c;for(b=0;b<arguments.length;b++)if(c=arguments[b],s&&"cookie"!==m.storageType)try{l.removeItem(r(c)),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:m.storageType})}catch(d){a.$broadcast("LocalStorageModule.notification.error",d.message),B(c)}else s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:"cookie"}),B(c)},w=function(){if(!s)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=n.length,c=[];for(var d in l)if(d.substr(0,b)===n)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},x=function(b){var c=n?new RegExp("^"+n):new RegExp,d=b?new RegExp(b):new RegExp;if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C();var e=n.length;for(var f in l)if(c.test(f)&&d.test(f.substr(e)))try{v(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),C()}return!0},y=function(){try{return b.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),!1}}(),z=function(b,d,i){if(e(d))return!1;if((h(d)||g(d))&&(d=j(d)),!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";if(null===d?(l.setTime(l.getTime()+-864e5),k="; expires="+l.toGMTString(),d=""):f(i)&&0!==i?(l.setTime(l.getTime()+24*i*60*60*1e3),k="; expires="+l.toGMTString()):0!==o.expiry&&(l.setTime(l.getTime()+24*o.expiry*60*60*1e3),k="; expires="+l.toGMTString()),b){var n="; path="+o.path;o.domain&&(m="; domain="+o.domain),c.cookie=r(b)+"="+encodeURIComponent(d)+k+n+m}}catch(p){return a.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},A=function(b){if(!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var d=c.cookie&&c.cookie.split(";")||[],e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(r(b)+"=")){var g=decodeURIComponent(f.substring(n.length+b.length+1,f.length));try{return JSON.parse(g)}catch(h){return g}}}return null},B=function(a){z(a,null)},C=function(){for(var a=null,b=n.length,d=c.cookie.split(";"),e=0;e<d.length;e++){for(a=d[e];" "===a.charAt(0);)a=a.substring(1,a.length);var f=a.substring(b,a.indexOf("="));B(f)}},D=function(){return q},E=function(a,b,c,e){e=e||b;var f=u(e);return null===f&&d(c)?f=c:g(f)&&g(c)&&(f=i(c,f)),k(b).assign(a,f),a.$watch(b,function(a){t(e,a)},g(a[b]))},F=function(){for(var a=0,c=b[q],d=0;d<c.length;d++)0===c.key(d).indexOf(n)&&a++;return a};return{isSupported:s,getStorageType:D,set:t,add:t,get:u,keys:w,remove:v,clearAll:x,bind:E,deriveKey:r,length:F,cookie:{isSupported:y,set:z,add:z,get:A,remove:B,clearAll:C}}}]})}(window,window.angular),function(){var requirejs,require,define;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){var d=s.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),k.apply(a,d.concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),define("../node_modules/almond/almond",function(){}),define("jxg",[],function(){"use strict";var a={};return"object"!=typeof JXG||JXG.extend||(a=JXG),a.extend=function(a,b,c,d){var e,f;c=c||!1,d=d||!1;for(e in b)(!c||c&&b.hasOwnProperty(e))&&(f=d?e.toLowerCase():e,a[f]=b[e])},a.extend(a,{boards:{},readers:{},elements:{},registerElement:function(a,b){a=a.toLowerCase(),this.elements[a]=b},registerReader:function(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c].toLowerCase(),"function"!=typeof this.readers[d]&&(this.readers[d]=a)},shortcut:function(a,b){return function(){return a[b].apply(this,arguments)}},getRef:function(b,c){return a.deprecated("JXG.getRef()","Board.select()"),b.select(c)},getReference:function(b,c){return a.deprecated("JXG.getReference()","Board.select()"),b.select(c)},deprecated:function(b,c){var d=b+" is deprecated.";c&&(d+=" Please use "+c+"instead."),a.warn(d)},warn:function(a){"object"==typeof window&&window.console&&console.warn?console.warn("WARNING:",a):"object"==typeof document&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+a+"<br />")},debugInt:function(a){var b,c;for(b=0;b<arguments.length;b++)c=arguments[b],"object"==typeof window&&window.console&&console.log?console.log(c):"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=c+"<br/>")},debugWST:function(b){var c=new Error;a.debugInt.apply(this,arguments),c&&c.stack&&(a.debugInt("stacktrace"),a.debugInt(c.stack.split("\n").slice(1).join("\n")))},debugLine:function(b){var c=new Error;a.debugInt.apply(this,arguments),c&&c.stack&&a.debugInt("Called from",c.stack.split("\n").slice(2,3).join("\n"))},debug:function(b){a.debugInt.apply(this,arguments)}}),a}),define("base/constants",["jxg"],function(a){"use strict";var b,c=0,d=99,e=4,f="dev",g=c+"."+d+"."+e+(f?"-"+f:"");return b={version:g,licenseText:"JSXGraph v"+g+" Copyright (C) see http://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,GENTYPE_ABC:1,GENTYPE_AXIS:2,GENTYPE_MID:3,GENTYPE_REFLECTION:4,GENTYPE_MIRRORPOINT:5,GENTYPE_TANGENT:6,GENTYPE_PARALLEL:7,GENTYPE_BISECTORLINES:8,GENTYPE_BOARDIMG:9,GENTYPE_BISECTOR:10,GENTYPE_NORMAL:11,GENTYPE_POINT:12,GENTYPE_GLIDER:13,GENTYPE_INTERSECTION:14,GENTYPE_CIRCLE:15,GENTYPE_CIRCLE2POINTS:16,GENTYPE_LINE:17,GENTYPE_TRIANGLE:18,GENTYPE_QUADRILATERAL:19,GENTYPE_TEXT:20,GENTYPE_POLYGON:21,GENTYPE_REGULARPOLYGON:22,GENTYPE_SECTOR:23,GENTYPE_ANGLE:24,GENTYPE_PLOT:25,GENTYPE_SLIDER:26,GENTYPE_TRUNCATE:27,GENTYPE_JCODE:28,GENTYPE_MOVEMENT:29,GENTYPE_COMBINED:30,GENTYPE_RULER:31,GENTYPE_SLOPETRIANGLE:32,GENTYPE_PERPSEGMENT:33,GENTYPE_LABELMOVEMENT:34,GENTYPE_VECTOR:35,GENTYPE_NONREFLEXANGLE:36,GENTYPE_REFLEXANGLE:37,GENTYPE_DELETE:41,GENTYPE_COPY:42,GENTYPE_MIRROR:43,GENTYPE_ROTATE:44,GENTYPE_ABLATION:45,GENTYPE_MIGRATE:46,GENTYPE_VECTORCOPY:47,GENTYPE_CTX_TYPE_G:51,GENTYPE_CTX_TYPE_P:52,GENTYPE_CTX_TRACE:53,GENTYPE_CTX_VISIBILITY:54,GENTYPE_CTX_CCVISIBILITY:55,GENTYPE_CTX_MPVISIBILITY:56,GENTYPE_CTX_WITHLABEL:57,GENTYPE_CTX_LABEL:58,GENTYPE_CTX_FIXED:59,GENTYPE_CTX_STROKEWIDTH:60,GENTYPE_CTX_LABELSIZE:61,GENTYPE_CTX_SIZE:62,GENTYPE_CTX_FACE:63,GENTYPE_CTX_STRAIGHT:64,GENTYPE_CTX_ARROW:65,GENTYPE_CTX_COLOR:66,GENTYPE_CTX_RADIUS:67,GENTYPE_CTX_COORDS:68,GENTYPE_CTX_TEXT:69,GENTYPE_CTX_ANGLERADIUS:70,GENTYPE_CTX_DOTVISIBILITY:71,GENTYPE_CTX_FILLOPACITY:72,GENTYPE_CTX_PLOT:73,GENTYPE_CTX_SCALE:74,GENTYPE_CTX_INTVAL:75,GENTYPE_CTX_POINT1:76,GENTYPE_CTX_POINT2:77,GENTYPE_CTX_LABELSTICKY:78,GENTYPE_CTX_TYPE_I:79,GENTYPE_CTX_HASINNERPOINTS:80,GENTYPE_CTX_SNAPWIDTH:81},a.extend(a,b),b}),define("utils/type",["jxg","base/constants"],function(a,b){"use strict";return a.extend(a,{isId:function(a,b){return"string"==typeof b&&!!a.objects[b]},isName:function(a,b){return"string"==typeof b&&!!a.elementsByName[b]},isGroup:function(a,b){return"string"==typeof b&&!!a.groups[b]},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a||"[Object Number]"===Object.prototype.toString.call(a)},isFunction:function(a){return"function"==typeof a},isArray:function(a){var b;return b=Array.isArray?Array.isArray(a):null!==a&&"object"==typeof a&&"function"==typeof a.splice&&"function"==typeof a.join},isObject:function(b){return"object"==typeof b&&!a.isArray(b)},isPoint:function(a){return null!==a&&"object"==typeof a?a.elementClass===b.OBJECT_CLASS_POINT:!1},isPointType:function(a,b){var c;return b=a.select(b),this.isArray(b)?!0:this.isFunction(b)&&(c=b(),this.isArray(c)&&c.length>1)?!0:this.isPoint(b)},exists:function(a){return function(b){return!(b===a||null===b)}}(),def:function(b,c){return a.exists(b)?b:c},str2Bool:function(b){return a.exists(b)?"boolean"==typeof b?b:a.isString(b)?"true"===b.toLowerCase():!1:!0},createEvalFunction:function(b,c,d){var e,f=[];for(e=0;d>e;e++)f[e]=a.createFunction(c[e],b,"",!0);return function(a){return f[a]()}},createFunction:function(b,c,d,e){var f=null;return a.exists(e)&&!e||!a.isString(b)?a.isFunction(b)?f=b:a.isNumber(b)?f=function(){return b}:a.isString(b)&&(f=function(){return b}):f=c.jc.snippet(b,!0,d,!0),null!==f&&(f.origin=b),f},providePoints:function(b,c,d,e,f){var g,h,i,j,k,l=0,m=[];for(this.isArray(c)||(c=[c]),i=c.length,a.exists(f)&&(l=f.length),0===l&&(j=this.copyAttributes(d,b.options,e)),g=0;i>g;++g)if(l>0&&(h=Math.min(g,l-1),j=this.copyAttributes(d,b.options,e,f[h])),this.isArray(c[g])&&c[g].length>1?m.push(b.create("point",c[g],j)):this.isFunction(c[g])?(k=c[g](),this.isArray(k)&&k.length>1&&m.push(b.create("point",[c[g]],j))):m.push(b.select(c[g])),!this.isPoint(m[g]))return!1;return m},bind:function(a,b){return function(){return a.apply(b,arguments)}},evaluate:function(b){return a.isFunction(b)?b():b},indexOf:function(b,c,d){var e,f=a.exists(d);if(Array.indexOf&&!f)return b.indexOf(c);for(e=0;e<b.length;e++)if(f&&b[e][d]===c||!f&&b[e]===c)return e;return-1},eliminateDuplicates:function(a){var b,c=a.length,d=[],e={};for(b=0;c>b;b++)e[a[b]]=0;for(b in e)e.hasOwnProperty(b)&&d.push(b);return d},swap:function(a,b,c){var d;return d=a[b],a[b]=a[c],a[c]=d,a},uniqueArray:function(b){var c,d,e,f=[];if(0===b.length)return[];for(c=0;c<b.length;c++)for(e=a.isArray(b[c]),d=c+1;d<b.length;d++)e&&a.cmpArrays(b[c],b[d])?b[c]=[]:e||b[c]!==b[d]||(b[c]="");for(d=0,c=0;c<b.length;c++)e=a.isArray(b[c]),e||""===b[c]?e&&0!==b[c].length&&(f[d]=b[c].slice(0),d+=1):(f[d]=b[c],d+=1);return b=f,f},isInArray:function(b,c){return a.indexOf(b,c)>-1},coordsArrayToMatrix:function(a,b){var c,d=[],e=[];for(c=0;c<a.length;c++)b?(d.push(a[c].usrCoords[1]),e.push(a[c].usrCoords[2])):e.push([a[c].usrCoords[1],a[c].usrCoords[2]]);return b&&(e=[d,e]),e},cmpArrays:function(a,b){var c;if(a===b)return!0;if(a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},removeElementFromArray:function(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return a.splice(c,1),a;return a},trunc:function(b,c){return c=a.def(c,0),b=b.toFixed(c)},autoDigits:function(a){var b=Math.abs(a);return b=b>.1?a.toFixed(2):b>=.01?a.toFixed(4):b>=1e-4?a.toFixed(6):a},keys:function(a,b){var c,d=[];for(c in a)b?a.hasOwnProperty(c)&&d.push(c):d.push(c);return d},clone:function(a){var b={};return b.prototype=a,b},cloneAndCopy:function(a,b){var c,d=function(){};d.prototype=a;for(c in b)d[c]=b[c];return d},merge:function(a,b){var c,d;for(c in b)if(b.hasOwnProperty(c))if(this.isArray(b[c]))for(a[c]||(a[c]=[]),d=0;d<b[c].length;d++)"object"==typeof b[c][d]?a[c][d]=this.merge(a[c][d],b[c][d]):a[c][d]=b[c][d];else"object"==typeof b[c]?(a[c]||(a[c]={}),a[c]=this.merge(a[c],b[c])):a[c]=b[c];return a},deepCopy:function(b,c,d){var e,f,g,h;if(d=d||!1,"object"!=typeof b||null===b)return b;if(this.isArray(b))for(e=[],f=0;f<b.length;f++)g=b[f],"object"==typeof g?this.exists(g.board)?e[f]=g.id:e[f]=this.deepCopy(g):e[f]=g;else{e={};for(f in b)h=d?f.toLowerCase():f,g=b[f],null!==g&&"object"==typeof g?this.exists(g.board)?e[h]=g.id:e[h]=this.deepCopy(g):e[h]=g;for(f in c)h=d?f.toLowerCase():f,g=c[f],"object"==typeof g?a.isArray(g)||!a.exists(e[h])?e[h]=this.deepCopy(g):e[h]=this.deepCopy(e[h],g,d):e[h]=g}return e},copyAttributes:function(b,c,d){var e,f,g,h,i,j={circle:1,curve:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(g=arguments.length,e=3>g||j[d]?a.deepCopy(c.elements,null,!0):{},4>g&&this.exists(d)&&this.exists(c.layer[d])&&(e.layer=c.layer[d]),h=c,i=!0,f=2;g>f;f++){if(!a.exists(h[arguments[f]])){i=!1;break}h=h[arguments[f]]}for(i&&(e=a.deepCopy(e,h,!0)),h=b,i=!0,f=3;g>f;f++){if(!a.exists(h[arguments[f]])){i=!1;break}h=h[arguments[f]]}for(i&&this.extend(e,h,null,!0),h=c,i=!0,f=2;g>f;f++){if(!a.exists(h[arguments[f]])){i=!1;break}h=h[arguments[f]]}return i&&a.exists(h.label)&&(e.label=a.deepCopy(h.label,e.label)),e.label=a.deepCopy(c.label,e.label),e},copyPrototypeMethods:function(a,b,c){var d;a.prototype[c]=b.prototype.constructor;for(d in b.prototype)a.prototype[d]=b.prototype[d]},toJSON:function(b,c){var d,e,f,g,h;if(c=a.def(c,!1),JSON.stringify&&!c)try{return g=JSON.stringify(b)}catch(i){}switch(typeof b){case"object":if(b){if(d=[],a.isArray(b)){for(f=0;f<b.length;f++)d.push(a.toJSON(b[f],c));return"["+d.join(",")+"]"}for(e in b)if(b.hasOwnProperty(e)){try{h=a.toJSON(b[e],c)}catch(j){h=""}c?d.push(e+":"+h):d.push('"'+e+'":'+h)}return"{"+d.join(",")+"} "}return"null";case"string":return"'"+b.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return b.toString()}return"0"},clearVisPropOld:function(a){return a.visPropOld={strokecolor:"",strokeopacity:"",strokewidth:"",fillcolor:"",fillopacity:"",shadow:!1,firstarrow:!1,lastarrow:!1,cssclass:"",fontsize:-1,left:-1e5,top:-1e5},a},isInObject:function(a,b){var c;for(c in a)if(a.hasOwnProperty(c)&&a[c]===b)return!0;return!1},escapeHTML:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(a){return a.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},trimNumber:function(a){return a=a.replace(/^0+/,""),a=a.replace(/0+$/,""),("."===a[a.length-1]||","===a[a.length-1])&&(a=a.slice(0,-1)),("."===a[0]||","===a[0])&&(a="0"+a),a},filterElements:function(a,b){var c,d,e,f,g,h,i,j=a.length,k=[];if("function"!=typeof b&&"object"!=typeof b)return k;for(c=0;j>c;c++){if(i=!0,e=a[c],"object"==typeof b){for(d in b)if(b.hasOwnProperty(d)&&(f=d.toLowerCase(),g="function"==typeof e[d]?e[d]():e[d],h=e.visProp&&"function"==typeof e.visProp[f]?e.visProp[f]():e.visProp&&e.visProp[f],i="function"==typeof b[d]?b[d](g)||b[d](h):g===b[d]||h===b[d],!i))break}else"function"==typeof b&&(i=b(e));i&&k.push(e)}return k},trim:function(a){return a=a.replace(/^\s+/,""),a=a.replace(/\s+$/,"")},sanitizeHTML:function(a,b){return"function"==typeof html_sanitize&&b?html_sanitize(a,function(){},function(a){return a}):(a&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a)},evalSlider:function(a){return a&&a.type===b.OBJECT_TYPE_GLIDER&&"function"==typeof a.Value&&(a=a.Value()),a}}),a}),define("utils/env",["jxg","utils/type"],function(a,b){"use strict";return a.extend(a,{touchProperty:"touches",isBrowser:"object"==typeof window&&"object"==typeof document,supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return this.isBrowser&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},supportsCanvas:function(){var a,b=!1;if(this.isNode())try{a="object"==typeof module?module.require("canvas"):require("canvas"),b=!0}catch(c){}return b||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&("object"==typeof module&&!!module.exports||"object"==typeof global&&global.requirejsVars&&!global.requirejsVars.isBrowser)},isWebWorker:function(){return!this.isBrowser&&"object"==typeof self&&"function"==typeof self.postMessage},supportsPointerEvents:function(){return a.isBrowser&&window.navigator&&(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return b.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return b.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z\.]*Safari/)>-1},isMetroApp:function(){return"object"==typeof window&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return b.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},isFirefoxOS:function(){return b.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},ieVersion:function(){var a,b,c,d=3;if("object"!=typeof document)return 0;b=document.createElement("div"),c=b.getElementsByTagName("i");do b.innerHTML="<!--[if gt IE "+ ++d+"]><i></i><![endif]-->";while(c[0]);return d>4?d:a}(),getDimensions:function(c,d){var e,f,g,h,i,j,k,l,m,n=/\d+(\.\d*)?px/;if(!a.isBrowser||null===c)return{width:500,height:500};if(d=d||document,e=d.getElementById(c),!b.exists(e))throw new Error("\nJSXGraph: HTML container element '"+c+"' not found.");return f=e.style.display,"none"!==f&&null!==f?e.offsetWidth>0&&e.offsetHeight>0?{
width:e.offsetWidth,height:e.offsetHeight}:(m=window.getComputedStyle?window.getComputedStyle(e):e.style,{width:n.test(m.width)?parseFloat(m.width):0,height:n.test(m.height)?parseFloat(m.height):0}):(g=e.style,h=g.visibility,i=g.position,j=g.display,g.visibility="hidden",g.position="absolute",g.display="block",k=e.clientWidth,l=e.clientHeight,g.display=j,g.position=i,g.visibility=h,{width:k,height:l})},addEvent:function(a,c,d,e){var f=function(){return d.apply(e,arguments)};f.origin=d,e["x_internal"+c]=e["x_internal"+c]||[],e["x_internal"+c].push(f),b.exists(a)&&b.exists(a.addEventListener)&&a.addEventListener(c,f,!1),b.exists(a)&&b.exists(a.attachEvent)&&a.attachEvent("on"+c,f)},removeEvent:function(c,d,e,f){var g;if(!b.exists(f))return void a.debug("no such owner");if(!b.exists(f["x_internal"+d]))return void a.debug("no such type: "+d);if(!b.isArray(f["x_internal"+d]))return void a.debug("owner[x_internal + "+d+"] is not an array");if(g=b.indexOf(f["x_internal"+d],e,"origin"),-1===g)return void a.debug("no such event function in internal list: "+e);try{b.exists(c)&&b.exists(c.removeEventListener)&&c.removeEventListener(d,f["x_internal"+d][g],!1),b.exists(c)&&b.exists(c.detachEvent)&&c.detachEvent("on"+d,f["x_internal"+d][g])}catch(h){a.debug("event not registered in browser: ("+d+" -- "+e+")")}f["x_internal"+d].splice(g,1)},removeAllEvents:function(b,c,d){var e,f;if(d["x_internal"+c]){for(f=d["x_internal"+c].length,e=f-1;e>=0;e--)a.removeEvent(b,c,d["x_internal"+c][e].origin,d);d["x_internal"+c].length>0&&a.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(c,d,e){var f,g,h,i=0,j=0;if(c||(c=window.event),e=e||document,h=c[a.touchProperty],b.exists(h)&&0===h.length&&(h=c.changedTouches),b.exists(d)&&b.exists(h))if(-1===d){for(g=h.length,f=0;g>f;f++)if(h[f]){c=h[f];break}}else c=h[d];return c.pageX||c.pageY?(i=c.pageX,j=c.pageY):(c.clientX||c.clientY)&&(i=c.clientX+e.body.scrollLeft+e.documentElement.scrollLeft,j=c.clientY+e.body.scrollTop+e.documentElement.scrollTop),[i,j]},getOffset:function(a){var b,c=a,d=a,e=c.offsetLeft-c.scrollLeft,f=c.offsetTop-c.scrollTop;for(b=this.getCSSTransform([e,f],c),e=b[0],f=b[1],c=c.offsetParent;c;){for(e+=c.offsetLeft,f+=c.offsetTop,c.offsetParent&&(e+=c.clientLeft-c.scrollLeft,f+=c.clientTop-c.scrollTop),b=this.getCSSTransform([e,f],c),e=b[0],f=b[1],d=d.parentNode;d!==c;)e+=d.clientLeft-d.scrollLeft,f+=d.clientTop-d.scrollTop,b=this.getCSSTransform([e,f],d),e=b[0],f=b[1],d=d.parentNode;c=c.offsetParent}return[e,f]},getStyle:function(b,c){var d,e;return e=b.ownerDocument,window.getComputedStyle?d=e.defaultView.getComputedStyle(b,null).getPropertyValue(c):b.currentStyle&&a.ieVersion>=9?d=b.currentStyle[c]:b.style&&(c=c.replace(/-([a-z]|[0-9])/gi,function(a,b){return b.toUpperCase()}),d=b.style[c]),d},getProp:function(a,b){var c=parseInt(this.getStyle(a,b),10);return isNaN(c)?0:c},getCSSTransform:function(a,c){var d,e,f,g,h,i,j,k,l=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(i=l.length,d=0,f="";i>d;d++)if(b.exists(c.style[l[d]])){f=c.style[l[d]];break}if(""!==f&&(h=f.indexOf("("),h>0)){for(i=f.length,g=f.substring(h+1,i-1),k=g.split(","),e=0,j=k.length;j>e;e++)k[e]=parseFloat(k[e]);0===f.indexOf("matrix")?(a[0]+=k[4],a[1]+=k[5]):0===f.indexOf("translateX")?a[0]+=k[0]:0===f.indexOf("translateY")?a[1]+=k[0]:0===f.indexOf("translate")&&(a[0]+=k[0],a[1]+=k[1])}return a},getCSSTransformMatrix:function(a){var c,d,e,f,g,h,i,j,k=["transform","webkitTransform","MozTransform","msTransform","oTransform"],l=[[1,0,0],[0,1,0],[0,0,1]];for(h=k.length,c=0,e="";h>c;c++)if(b.exists(a.style[k[c]])){e=a.style[k[c]];break}if(""!==e&&(g=e.indexOf("("),g>0)){for(h=e.length,f=e.substring(g+1,h-1),j=f.split(","),d=0,i=j.length;i>d;d++)j[d]=parseFloat(j[d]);0===e.indexOf("matrix")?l=[[1,0,0],[0,j[0],j[1]],[0,j[2],j[3]]]:0===e.indexOf("scaleX")?l[1][1]=j[0]:0===e.indexOf("scaleY")?l[2][2]=j[0]:0===e.indexOf("scale")&&(l[1][1]=j[0],l[2][2]=j[1])}return l},timedChunk:function(a,b,c,d){var e=a.concat(),f=function(){var g=+new Date;do b.call(c,e.shift());while(e.length>0&&+new Date-g<300);e.length>0?window.setTimeout(f,1):d(a)};window.setTimeout(f,1)}}),a}),define("utils/xml",["jxg","utils/type"],function(a,b){"use strict";return a.XML={cleanWhitespace:function(a){for(var c=a.firstChild;b.exists(c);)3!==c.nodeType||/\S/.test(c.nodeValue)?1===c.nodeType&&this.cleanWhitespace(c):a.removeChild(c),c=c.nextSibling},parse:function(a){var b,c,d;return d="function"==typeof DOMParser||"object"==typeof DOMParser?DOMParser:function(){this.parseFromString=function(a){var b;return"function"==typeof ActiveXObject&&(b=new ActiveXObject("MSXML.DomDocument"),b.loadXML(a)),b}},b=new d,c=b.parseFromString(a,"text/xml"),this.cleanWhitespace(c),c}},a.XML}),define("utils/event",["jxg","utils/type"],function(a,b){"use strict";return a.EventEmitter={eventHandlers:{},suspended:{},trigger:function(a,b){var c,d,e,f,g,h;for(g=a.length,d=0;g>d;d++)if(f=this.eventHandlers[a[d]],!this.suspended[a[d]]){if(this.suspended[a[d]]=!0,f)for(h=f.length,c=0;h>c;c++)e=f[c],e.handler.apply(e.context,b);this.suspended[a[d]]=!1}return this},on:function(a,c,d){return b.isArray(this.eventHandlers[a])||(this.eventHandlers[a]=[]),d=b.def(d,this),this.eventHandlers[a].push({handler:c,context:d}),this},off:function(a,c){var d;return a&&b.isArray(this.eventHandlers[a])?(c?(d=b.indexOf(this.eventHandlers[a],c,"handler"),d>-1&&this.eventHandlers[a].splice(d,1),0===this.eventHandlers[a].length&&delete this.eventHandlers[a]):delete this.eventHandlers[a],this):this},eventify:function(a){a.eventHandlers={},a.on=this.on,a.off=this.off,a.triggerEventHandlers=this.trigger,a.trigger=this.trigger,a.suspended={}}},a.EventEmitter}),define("math/math",["jxg","utils/type"],function(a,b){"use strict";var c,d=function(a){var b,d;return a.memo?a.memo:(b={},d=Array.prototype.join,a.memo=function(){var e=d.call(arguments);return b[e]!==c?b[e]:b[e]=a.apply(this,arguments)},a.memo)};return a.Math={eps:1e-6,mod:function(a,b){return a-Math.floor(a/b)*b},vector:function(a,b){var c,d;for(b=b||0,c=[],d=0;a>d;d++)c[d]=b;return c},matrix:function(a,b,c){var d,e,f;for(c=c||0,b=b||a,d=[],e=0;a>e;e++)for(d[e]=[],f=0;b>f;f++)d[e][f]=c;return d},identity:function(a,b){var d,e;for(b===c&&"number"!=typeof b&&(b=a),d=this.matrix(a,b),e=0;e<Math.min(a,b);e++)d[e][e]=1;return d},frustum:function(a,b,c,d,e,f){var g=this.matrix(4,4);return g[0][0]=2*e/(b-a),g[0][1]=0,g[0][2]=(b+a)/(b-a),g[0][3]=0,g[1][0]=0,g[1][1]=2*e/(d-c),g[1][2]=(d+c)/(d-c),g[1][3]=0,g[2][0]=0,g[2][1]=0,g[2][2]=-(f+e)/(f-e),g[2][3]=-(f*e*2)/(f-e),g[3][0]=0,g[3][1]=0,g[3][2]=-1,g[3][3]=0,g},projection:function(a,b,c,d){var e=c*Math.tan(a/2),f=e*b;return this.frustum(-f,f,-e,e,c,d)},matVecMult:function(a,b){var c,d,e,f=a.length,g=b.length,h=[];if(3===g)for(c=0;f>c;c++)h[c]=a[c][0]*b[0]+a[c][1]*b[1]+a[c][2]*b[2];else for(c=0;f>c;c++){for(d=0,e=0;g>e;e++)d+=a[c][e]*b[e];h[c]=d}return h},matMatMult:function(a,b){var c,d,e,f,g=a.length,h=g>0?b[0].length:0,i=b.length,j=this.matrix(g,h);for(c=0;g>c;c++)for(d=0;h>d;d++){for(e=0,f=0;i>f;f++)e+=a[c][f]*b[f][d];j[c][d]=e}return j},transpose:function(a){var b,c,d,e,f;for(e=a.length,f=a.length>0?a[0].length:0,b=this.matrix(f,e),c=0;f>c;c++)for(d=0;e>d;d++)b[c][d]=a[d][c];return b},inverse:function(a){var b,c,d,e,f,g,h,i=a.length,j=[],k=[],l=[];for(b=0;i>b;b++){for(j[b]=[],c=0;i>c;c++)j[b][c]=a[b][c];k[b]=b}for(c=0;i>c;c++){for(f=Math.abs(j[c][c]),g=c,b=c+1;i>b;b++)Math.abs(j[b][c])>f&&(f=Math.abs(j[b][c]),g=b);if(f<=this.eps)return[];if(g>c){for(d=0;i>d;d++)h=j[c][d],j[c][d]=j[g][d],j[g][d]=h;h=k[c],k[c]=k[g],k[g]=h}for(e=1/j[c][c],b=0;i>b;b++)j[b][c]*=e;for(j[c][c]=e,d=0;i>d;d++)if(d!==c){for(b=0;i>b;b++)b!==c&&(j[b][d]-=j[b][c]*j[c][d]);j[c][d]=-e*j[c][d]}}for(b=0;i>b;b++){for(d=0;i>d;d++)l[k[d]]=j[b][d];for(d=0;i>d;d++)j[b][d]=l[d]}return j},innerProduct:function(a,b,d){var e,f=0;for((d===c||"number"!=typeof d)&&(d=a.length),e=0;d>e;e++)f+=a[e]*b[e];return f},crossProduct:function(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]},factorial:d(function(a){return 0>a?NaN:(a=Math.floor(a),0===a||1===a?1:a*this.factorial(a-1))}),binomial:d(function(a,b){var c,d;if(b>a||0>b)return NaN;if(b=Math.round(b),a=Math.round(a),0===b||b===a)return 1;for(c=1,d=0;b>d;d++)c*=a-d,c/=d+1;return c}),cosh:function(a){return.5*(Math.exp(a)+Math.exp(-a))},sinh:function(a){return.5*(Math.exp(a)-Math.exp(-a))},pow:function(a,b){return 0===a?0===b?1:0:Math.floor(b)===b?Math.pow(a,b):a>0?Math.exp(b*Math.log(Math.abs(a))):NaN},log10:function(a){return Math.log(a)/Math.log(10)},log2:function(a){return Math.log(a)/Math.log(2)},log:function(a,c){return"undefined"!=typeof c&&b.isNumber(c)?Math.log(a)/Math.log(c):Math.log(a)},squampow:function(a,b){var c;if(Math.floor(b)===b){for(c=1,0>b&&(a=1/a,b*=-1);0!==b;)1&b&&(c*=a),b>>=1,a*=a;return c}return this.pow(a,b)},normalize:function(a){var b,c,d=2*a[3],e=a[4]/d;return a[5]=e,a[6]=-a[1]/d,a[7]=-a[2]/d,isFinite(e)?Math.abs(e)>=1?(a[0]=(a[6]*a[6]+a[7]*a[7]-e*e)/(2*e),a[1]=-a[6]/e,a[2]=-a[7]/e,a[3]=1/(2*e),a[4]=1):(c=0>=e?-1:1,a[0]=c*(a[6]*a[6]+a[7]*a[7]-e*e)*.5,a[1]=-c*a[6],a[2]=-c*a[7],a[3]=c/2,a[4]=c*e):(b=Math.sqrt(a[1]*a[1]+a[2]*a[2]),a[0]/=b,a[1]/=b,a[2]/=b,a[3]=0,a[4]=1),a},toGL:function(a){var b,c,d;if(b="function"==typeof Float32Array?new Float32Array(16):new Array(16),4!==a.length&&4!==a[0].length)return b;for(c=0;4>c;c++)for(d=0;4>d;d++)b[c+4*d]=a[c][d];return b}},a.Math}),define("base/coords",["jxg","base/constants","utils/event","utils/type","math/math"],function(a,b,c,d,e){"use strict";return a.Coords=function(a,b,e,f){this.board=e,this.usrCoords=[],this.scrCoords=[],this.emitter=!d.exists(f)||f,this.emitter&&c.eventify(this),this.setCoordinates(a,b,!0,!0)},a.extend(a.Coords.prototype,{normalizeUsrCoords:function(){var a=e.eps;Math.abs(this.usrCoords[0])>a&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(a){var b=Math.round,c=this.board,d=this.usrCoords,e=c.origin.scrCoords;a===!1?(this.scrCoords[0]=d[0],this.scrCoords[1]=d[0]*e[1]+d[1]*c.unitX,this.scrCoords[2]=d[0]*e[2]-d[2]*c.unitY):(this.scrCoords[0]=b(d[0]),this.scrCoords[1]=b(d[0]*e[1]+d[1]*c.unitX),this.scrCoords[2]=b(d[0]*e[2]-d[2]*c.unitY))},screen2usr:function(){var a=this.board.origin.scrCoords,b=this.scrCoords,c=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(b[1]-a[1])/c.unitX,this.usrCoords[2]=(a[2]-b[2])/c.unitY},distance:function(a,c){var d,f,g=0,h=this.usrCoords,i=this.scrCoords;if(a===b.COORDS_BY_USER){if(d=c.usrCoords,f=h[0]-d[0],g=f*f,g>e.eps)return Number.POSITIVE_INFINITY;f=h[1]-d[1],g+=f*f,f=h[2]-d[2],g+=f*f}else d=c.scrCoords,f=i[1]-d[1],g+=f*f,f=i[2]-d[2],g+=f*f;return Math.sqrt(g)},setCoordinates:function(a,c,d,e){var f=this.usrCoords,g=this.scrCoords,h=[f[0],f[1],f[2]],i=[g[0],g[1],g[2]];return a===b.COORDS_BY_USER?(2===c.length?(f[0]=1,f[1]=c[0],f[2]=c[1]):(f[0]=c[0],f[1]=c[1],f[2]=c[2],this.normalizeUsrCoords()),this.usr2screen(d)):(g[1]=c[0],g[2]=c[1],this.screen2usr()),!this.emitter||e||i[1]===g[1]&&i[2]===g[2]||this.triggerEventHandlers(["update"],[h,i]),this},copy:function(a,b){return"undefined"==typeof b&&(b=0),this[a].slice(b)},__evt__update:function(a,b){},__evt:function(){}}),a.Coords}),define("utils/expect",["jxg","utils/type","base/constants","base/coords"],function(a,b,c,d){"use strict";var e={each:function(a,c,d){var e,f,g=[];if(b.exists(a.length))for(f=a.length,e=0;f>e;e++)g.push(c.call(this,a[e],d));return g},coords:function(a,b){var e=a;return a&&a.elementClass===c.OBJECT_CLASS_POINT?e=a.coords:a.usrCoords&&a.scrCoords&&a.usr2screen&&(e=a),b&&(e=new d(c.COORDS_BY_USER,e.usrCoords,e.board)),e},coordsArray:function(a,c){var d;return d=b.isArray(a)?a:this.coords(a).usrCoords,d.length<3&&d.unshift(1),c&&(d=[d[0],d[1],d[2]]),d}};return a.Expect=e,e}),define("math/qdt",["math/math","utils/type"],function(a,b){"use strict";var c=function(a){this.capacity=10,this.points=[],this.xlb=a[0],this.xub=a[2],this.ylb=a[3],this.yub=a[1],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null};return b.extend(c.prototype,{contains:function(a,b){return this.xlb<a&&a<=this.xub&&this.ylb<b&&b<=this.yub},insert:function(a){return this.contains(a.usrCoords[1],a.usrCoords[2])?this.points.length<this.capacity?(this.points.push(a),!0):(null===this.northWest&&this.subdivide(),this.northWest.insert(a)?!0:this.northEast.insert(a)?!0:this.southEast.insert(a)?!0:!!this.southWest.insert(a)):!1},subdivide:function(){var a,b=this.points.length,d=this.xlb+(this.xub-this.xlb)/2,e=this.ylb+(this.yub-this.ylb)/2;for(this.northWest=new c([this.xlb,this.yub,d,e]),this.northEast=new c([d,this.yub,this.xub,e]),this.southEast=new c([this.xlb,e,d,this.ylb]),this.southWest=new c([d,e,this.xub,this.ylb]),a=0;b>a;a+=1)this.northWest.insert(this.points[a]),this.northEast.insert(this.points[a]),this.southEast.insert(this.points[a]),this.southWest.insert(this.points[a])},_query:function(a,b){var c;if(this.contains(a,b)){if(null===this.northWest)return this;if(c=this.northWest._query(a,b))return c;if(c=this.northEast._query(a,b))return c;if(c=this.southEast._query(a,b))return c;if(c=this.southWest._query(a,b))return c}return!1},query:function(a,c){var d,e;return b.exists(c)?(d=a,e=c):(d=a.usrCoords[1],e=a.usrCoords[2]),this._query(d,e)}}),a.Quadtree=c,c}),define("math/numerics",["utils/type","math/math"],function(a,b){"use strict";var c={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};return b.Numerics={Gauss:function(c,d){var e,f,g,h,i,j=b.eps,k=c.length>0?c[0].length:0;if(k!==d.length||k!==c.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(h=[],i=d.slice(0,k),e=0;k>e;e++)h[e]=c[e].slice(0,k);for(f=0;k>f;f++){for(e=k-1;e>f;e--)if(Math.abs(h[e][f])>j)if(Math.abs(h[f][f])<j)a.swap(h,e,f),a.swap(i,e,f);else for(h[e][f]/=h[f][f],i[e]-=h[e][f]*i[f],g=f+1;k>g;g++)h[e][g]-=h[e][f]*h[f][g];if(Math.abs(h[f][f])<j)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(h,i,!0),i},backwardSolve:function(a,b,c){var d,e,f,g,h;for(d=c?b:b.slice(0,b.length),e=a.length,f=a.length>0?a[0].length:0,g=e-1;g>=0;g--){for(h=f-1;h>g;h--)d[g]-=a[g][h]*d[h];d[g]/=a[g][g]}return d},gaussBareiss:function(a){var c,d,e,f,g,h,i,j,k,l=b.eps;if(i=a.length,0>=i)return 0;for(a[0].length<i&&(i=a[0].length),j=[],f=0;i>f;f++)j[f]=a[f].slice(0,i);for(d=1,e=1,c=0;i-1>c;c++){if(h=j[c][c],Math.abs(h)<l){for(f=c+1;i>f&&!(Math.abs(j[f][c])>=l);f++);if(f===i)return 0;for(g=c;i>g;g++)k=j[f][g],j[f][g]=j[c][g],j[c][g]=k;e=-e,h=j[c][c]}for(f=c+1;i>f;f++)for(g=c+1;i>g;g++)k=h*j[f][g]-j[f][c]*j[c][g],j[f][g]=k/d;d=h}return e*j[i-1][i-1]},det:function(a){var b=a.length;return 2===b&&2===a[0].length?a[0][0]*a[1][1]-a[1][0]*a[0][1]:this.gaussBareiss(a)},Jacobi:function(a){var c,d,e,f,g,h,i,j,k,l=b.eps,m=0,n=a.length,o=[[0,0,0],[0,0,0],[0,0,0]],p=[[0,0,0],[0,0,0],[0,0,0]],q=0;for(c=0;n>c;c++){for(d=0;n>d;d++)o[c][d]=0,p[c][d]=a[c][d],m+=Math.abs(p[c][d]);o[c][c]=1}if(1===n)return[p,o];if(0>=m)return[p,o];m/=n*n;do{for(j=0,k=0,d=1;n>d;d++)for(c=0;d>c;c++)if(f=Math.abs(p[c][d]),f>k&&(k=f),j+=f,f>=l){for(f=.5*Math.atan2(2*p[c][d],p[c][c]-p[d][d]),g=Math.sin(f),h=Math.cos(f),e=0;n>e;e++)i=p[e][c],p[e][c]=h*i+g*p[e][d],p[e][d]=-g*i+h*p[e][d],i=o[e][c],o[e][c]=h*i+g*o[e][d],o[e][d]=-g*i+h*o[e][d];for(p[c][c]=h*p[c][c]+g*p[d][c],p[d][d]=-g*p[c][d]+h*p[d][d],p[c][d]=0,e=0;n>e;e++)p[c][e]=p[e][c],p[d][e]=p[e][d]}q+=1}while(Math.abs(j)/m>l&&2e3>q);return[p,o]},NewtonCotes:function(a,b,c){var d,e,f,g=0,h=c&&"number"==typeof c.number_of_nodes?c.number_of_nodes:28,i={trapez:!0,simpson:!0,milne:!0},j=c&&c.integration_type&&i.hasOwnProperty(c.integration_type)&&i[c.integration_type]?c.integration_type:"milne",k=(a[1]-a[0])/h;switch(j){case"trapez":for(g=.5*(b(a[0])+b(a[1])),d=a[0],e=0;h-1>e;e++)d+=k,g+=b(d);g*=k;break;case"simpson":if(h%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(f=h/2,g=b(a[0])+b(a[1]),d=a[0],e=0;f-1>e;e++)d+=2*k,g+=2*b(d);for(d=a[0]-k,e=0;f>e;e++)d+=2*k,g+=4*b(d);g*=k/3;break;default:if(h%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(f=.25*h,g=7*(b(a[0])+b(a[1])),d=a[0],e=0;f-1>e;e++)d+=4*k,g+=14*b(d);for(d=a[0]-3*k,e=0;f>e;e++)d+=4*k,g+=32*(b(d)+b(d+2*k));for(d=a[0]-2*k,e=0;f>e;e++)d+=4*k,g+=12*b(d);g*=2*k/45}return g},Romberg:function(a,b,c){var d,e,f,g,h,i,j,k,l=[],m=0,n=1/0,o=c&&"number"==typeof c.max_iterations?c.max_iterations:20,p=c&&"number"==typeof c.eps?c.eps:c.eps||1e-7;for(d=a[0],e=a[1],f=e-d,h=1,l[0]=.5*f*(b(d)+b(e)),i=0;o>i;++i){for(g=0,f*=.5,h*=2,k=1,j=1;h>j;j+=2)g+=b(d+j*f);for(l[i+1]=.5*l[i]+g*f,m=l[i+1],j=i-1;j>=0;--j)k*=4,l[j]=l[j+1]+(l[j+1]-l[j])/(k-1),m=l[j];if(Math.abs(m-n)<p*Math.abs(m))break;n=m}return m},GaussLegendre:function(a,b,c){var d,e,f,g,h,i,j,k,l=0,m=[],n=[],o=c&&"number"==typeof c.n?c.n:12;if(o>18&&(o=18),m[2]=[.5773502691896257],n[2]=[1],m[4]=[.33998104358485626,.8611363115940526],n[4]=[.6521451548625461,.34785484513745385],m[6]=[.2386191860831969,.6612093864662645,.932469514203152],n[6]=[.46791393457269104,.3607615730481386,.17132449237917036],m[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],n[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],m[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],n[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],m[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],n[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],m[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],n[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],m[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],n[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],m[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],n[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],m[3]=[0,.7745966692414834],n[3]=[.8888888888888888,.5555555555555556],m[5]=[0,.5384693101056831,.906179845938664],n[5]=[.5688888888888889,.47862867049936647,.23692688505618908],m[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],n[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],m[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],n[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],m[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],n[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],m[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],n[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],m[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],n[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],m[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],n[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],d=a[0],e=a[1],g=o+1>>1,j=m[o],k=n[o],i=.5*(e-d),h=.5*(e+d),o&!0)for(l=k[0]*b(h),f=1;g>f;++f)l+=k[f]*(b(h+i*j[f])+b(h-i*j[f]));else for(l=0,f=0;g>f;++f)l+=k[f]*(b(h+i*j[f])+b(h-i*j[f]));return i*l},_rescale_error:function(a,b,c){var d,e,f=2.2250738585072014e-308,g=2.220446049250313e-16;return a=Math.abs(a),0!=c&&0!=a&&(d=Math.pow(200*a/c,1.5),a=1>d?c*d:c),b>f/(50*g)&&(e=50*g*b,e>a&&(a=e)),a},_gaussKronrod:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=a[0],r=a[1],s=.5*(q+r),t=.5*(r-q),u=Math.abs(t),v=b(s),w=0,x=v*f[c-1],y=Math.abs(x),z=0,A=0,B=0,C=[],D=[];for(c%2==0&&(w=v*e[c/2-1]),h=Math.floor((c-1)/2),j=0;h>j;j++)k=2*j+1,l=t*d[k],m=b(s-l),n=b(s+l),o=m+n,C[k]=m,D[k]=n,w+=e[j]*o,x+=f[k]*o,y+=f[k]*(Math.abs(m)+Math.abs(n));for(h=Math.floor(c/2),j=0;h>j;j++)p=2*j,l=t*d[p],m=b(s-l),n=b(s+l),C[p]=m,D[p]=n,x+=f[p]*(m+n),y+=f[p]*(Math.abs(m)+Math.abs(n));for(A=.5*x,z=f[c-1]*Math.abs(v-A),j=0;c-1>j;j++)z+=f[j]*(Math.abs(C[j]-A)+Math.abs(D[j]-A));return B=(x-w)*t,x*=t,y*=u,z*=u,i=x,g.abserr=this._rescale_error(B,y,z),g.resabs=y,g.resasc=z,i},GaussKronrod15:function(a,b,c){var d=[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],e=[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],f=[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782];return this._gaussKronrod(a,b,8,d,e,f,c)},GaussKronrod21:function(a,b,c){var d=[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],e=[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],f=[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169];return this._gaussKronrod(a,b,11,d,e,f,c)},GaussKronrod31:function(a,b,c){var d=[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],e=[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],f=[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154];return this._gaussKronrod(a,b,16,d,e,f,c)},_workspace:function(a,b){return{limit:b,size:0,nrmax:0,i:0,alist:[a[0]],blist:[a[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var a,b,c,d,e,f=this.size-1,g=this.limit,h=this.nrmax,i=this.order[h];if(2>f)return this.order[0]=0,this.order[1]=1,void(this.i=i);for(a=this.elist[i];h>0&&a>this.elist[order[h-1]];)this.order[h]=this.order[h-1],h--;for(e=g/2+2>f?f:g-f+1,c=h+1;e>c&&a<this.elist[this.order[c]];)this.order[c-1]=this.order[c],c++;for(this.order[c-1]=i,b=this.elist[f],d=e-1;d>c-2&&b>=this.elist[this.order[d]];)this.order[d+1]=this.order[d],d--;this.order[d+1]=f,i=this.order[h],this.i=i,this.nrmax=h},set_initial_result:function(a,b){this.size=1,this.rlist[0]=a,this.elist[0]=b},update:function(a,b,c,d,e,f,g,h){var i=this.i,j=this.size,k=this.level[this.i]+1;h>d?(this.alist[i]=e,this.rlist[i]=g,this.elist[i]=h,this.level[i]=k,this.alist[j]=a,this.blist[j]=b,this.rlist[j]=c,this.elist[j]=d,this.level[j]=k):(this.blist[i]=b,this.rlist[i]=c,this.elist[i]=d,this.level[i]=k,this.alist[j]=e,this.blist[j]=f,this.rlist[j]=g,this.elist[j]=h,this.level[j]=k),this.size++,k>this.maximum_level&&(this.maximum_level=k),this.qpsrt()},retrieve:function(){var a=this.i;return{a:this.alist[a],b:this.blist[a],r:this.rlist[a],e:this.elist[a]}},sum_results:function(){var a,b=this.size,c=0;for(a=0;b>a;a++)c+=this.rlist[a];return c},subinterval_too_small:function(a,b,c){var d=2.220446049250313e-16,e=2.2250738585072014e-308,f=(1+100*d)*(Math.abs(b)+1e3*e);return Math.abs(a)<=f&&Math.abs(c)<=f}}},Qag:function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o=2.220446049250313e-16,p=this._workspace(a,1e3),q=d&&"number"==typeof d.limit?d.limit:15,r=d&&"number"==typeof d.epsrel?d.epsrel:1e-7,s=d&&"number"==typeof d.epsabs?d.epsabs:1e-7,t=d&&"function"==typeof d.q?d.q:this.GaussKronrod15,u={},v=0,w=0,x=0,y=0;if(q>p.limit&&console.log("iteration limit exceeds available workspace"),0>=s&&(r<50*b.eps||5e-29>r)&&console.log("tolerance cannot be acheived with given epsabs and epsrel"),g=t.apply(this,[a,c,u]),h=u.abserr,i=u.resabs,j=u.resasc,p.set_initial_result(g,h),m=Math.max(s,r*Math.abs(g)),n=50*o*i,n>=h&&h>m)return k=g,l=h,console.log("cannot reach tolerance because of roundoff error on first attempt"),-(1/0);if(m>=h&&h!=j||0==h)return k=g,l=h,k;if(1==q)return k=g,l=h,console.log("a maximum of one iteration was insufficient"),-(1/0);e=g,f=h,v=1;do{var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=0,O=0,P=0,Q=0,R=0,S=0;L=p.retrieve(),D=L.a,E=L.b,F=L.r,G=L.e,z=D,A=.5*(D+E),B=A,C=E,N=t.apply(this,[[z,A],c,u]),Q=u.abserr,J=u.resabs,H=u.resasc,O=t.apply(this,[[B,C],c,u]),R=u.abserr,K=u.resabs,I=u.resasc,P=N+O,S=Q+R,f+=S-G,e+=P-F,H!=Q&&I!=R&&(M=F-P,Math.abs(M)<=1e-5*Math.abs(P)&&S>=.99*G&&w++,v>=10&&S>G&&x++),m=Math.max(s,r*Math.abs(e)),f>m&&((w>=6||x>=20)&&(y=2),p.subinterval_too_small(z,B,C)&&(y=3)),p.update(z,A,N,Q,B,C,O,R),L=p.retrieve(),D=L.a_i,E=L.b_i,F=L.r_i,G=L.e_i,v++}while(q>v&&!y&&f>m);return k=p.sum_results(),l=f,k},I:function(a,b){return this.Qag(a,b,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(c,d,e){var f,g=0,h=b.eps,i=c.apply(e,[d]),j=1;for(a.isArray(d)&&(d=d[0]);50>g&&Math.abs(i)>h;)f=this.D(c,e)(d),j+=2,Math.abs(f)>h?d-=i/f:d+=.2*Math.random()-1,i=c.apply(e,[d]),j+=1,g+=1;return d},root:function(a,b,c){return this.fzero(a,b,c)},generalizedNewton:function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=0;for(this.generalizedNewton.t1memo?(f=this.generalizedNewton.t1memo,g=this.generalizedNewton.t2memo):(f=d,g=e),m=a.X(f)-c.X(g),n=a.Y(f)-c.Y(g),o=m*m+n*n,p=this.D(a.X,a),q=this.D(c.X,c),r=this.D(a.Y,a),s=this.D(c.Y,c);o>b.eps&&10>t;)h=p(f),i=-q(g),j=r(f),k=-s(g),l=h*k-i*j,f-=(k*m-i*n)/l,g-=(h*n-j*m)/l,m=a.X(f)-c.X(g),n=a.Y(f)-c.Y(g),o=m*m+n*n,t+=1;return this.generalizedNewton.t1memo=f,this.generalizedNewton.t2memo=g,Math.abs(f)<Math.abs(g)?[a.X(f),a.Y(f)]:[c.X(g),c.Y(g)]},Neville:function(a){var c=[],d=function(d){return function(e,f){var g,h,i,j=b.binomial,k=a.length,l=k-1,m=0,n=0;if(!f)for(i=1,g=0;k>g;g++)c[g]=j(l,g)*i,i*=-1;for(h=e,g=0;k>g;g++){if(0===h)return a[g][d]();i=c[g]/h,h-=1,m+=a[g][d]()*i,n+=i}return m/n}},e=d("X"),f=d("Y");return[e,f,0,function(){return a.length-1}]},splineDef:function(a,b){var c,d,e,f=Math.min(a.length,b.length),g=[],h=[],i=[],j=[],k=[],l=[];if(2===f)return[0,0];for(d=0;f>d;d++)c={X:a[d],Y:b[d]},i.push(c);for(i.sort(function(a,b){return a.X-b.X}),d=0;f>d;d++)a[d]=i[d].X,b[d]=i[d].Y;for(d=0;f-1>d;d++)j.push(a[d+1]-a[d]);for(d=0;f-2>d;d++)k.push(6*(b[d+2]-b[d+1])/j[d+1]-6*(b[d+1]-b[d])/j[d]);for(g.push(2*(j[0]+j[1])),h.push(k[0]),d=0;f-3>d;d++)e=j[d+1]/g[d],g.push(2*(j[d+1]+j[d+2])-e*j[d+1]),h.push(k[d+1]-e*h[d]);for(l[f-3]=h[f-3]/g[f-3],d=f-4;d>=0;d--)l[d]=(h[d]-j[d+1]*l[d+1])/g[d];for(d=f-3;d>=0;d--)l[d+1]=l[d];return l[0]=0,l[f-1]=0,l},splineEval:function(b,c,d,e){var f,g,h,i,j,k,l,m=Math.min(c.length,d.length),n=1,o=!1,p=[];for(a.isArray(b)?(n=b.length,o=!0):b=[b],f=0;n>f;f++){if(b[f]<c[0]||c[f]>c[m-1])return NaN;for(g=1;m>g&&!(b[f]<=c[g]);g++);g-=1,h=d[g],i=(d[g+1]-d[g])/(c[g+1]-c[g])-(c[g+1]-c[g])/6*(e[g+1]+2*e[g]),j=e[g]/2,k=(e[g+1]-e[g])/(6*(c[g+1]-c[g])),l=b[f]-c[g],p.push(h+(i+(j+k*l)*l)*l)}return o?p:p[0]},generatePolynomialTerm:function(a,b,c,d){var e,f=[];for(e=b;e>=0;e--)f=f.concat(["(",a[e].toPrecision(d),")"]),e>1?f=f.concat(["*",c,"<sup>",e,"<","/sup> + "]):1===e&&(f=f.concat(["*",c," + "]));return f.join("")},lagrangePolynomial:function(a){var b=[],c=function(c,d){var e,f,g,h,i,j,k=a.length,l=0,m=0;if(!d){for(e=0;k>e;e++){for(b[e]=1,h=a[e].X(),g=0;k>g;g++)g!==e&&(b[e]*=h-a[g].X());b[e]=1/b[e]}for(j=[],f=0;k>f;f++)j.push([1])}for(e=0;k>e;e++){if(h=a[e].X(),c===h)return a[e].Y();i=b[e]/(c-h),m+=i,l+=i*a[e].Y()}return l/m};return c.getTerm=function(){return""},c},CardinalSpline:function(b,c){var d,e,f,g=[],h={},i={};return f=a.isFunction(c)?c:function(){return c},e=function(a){return function(c,e){var j,k,l=b.length,m=f();if(2>l)return NaN;if(!e)for(h[a]=function(){return 2*b[0][a]()-b[1][a]()},i[a]=function(){return 2*b[l-1][a]()-b[l-2][a]()},d=[h].concat(b,[i]),g[a]=[],j=0;l-1>j;j++)g[a][j]=[1/m*d[j+1][a](),-d[j][a]()+d[j+2][a](),2*d[j][a]()+(-3/m+1)*d[j+1][a]()+(3/m-2)*d[j+2][a]()-d[j+3][a](),-d[j][a]()+(2/m-1)*d[j+1][a]()+(-2/m+1)*d[j+2][a]()+d[j+3][a]()];return l+=2,isNaN(c)?NaN:0>=c?d[1][a]():c>=l-3?d[l-2][a]():(j=Math.floor(c),j===c?d[j][a]():(c-=j,k=g[a][j],m*(((k[3]*c+k[2])*c+k[1])*c+k[0])))}},[e("X"),e("Y"),0,function(){return b.length-1}]},CatmullRomSpline:function(a){return this.CardinalSpline(a,.5)},regressionPolynomial:function(c,d,e){var f,g,h,i,j,k,l="";if(a.isPoint(c)&&"function"==typeof c.Value)g=function(){return c.Value()};else if(a.isFunction(c))g=c;else{if(!a.isNumber(c))throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof c+"'.");g=function(){return c}}if(3===arguments.length&&a.isArray(d)&&a.isArray(e))j=0;else if(2===arguments.length&&a.isArray(d)&&d.length>0&&a.isPoint(d[0]))j=1;else{if(!(2===arguments.length&&a.isArray(d)&&d.length>0&&d[0].usrCoords&&d[0].scrCoords))throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");j=2}return k=function(c,k){var m,n,o,p,q,r,s,t,u,v=d.length;if(u=Math.floor(g()),!k){if(1===j)for(h=[],i=[],m=0;v>m;m++)h[m]=d[m].X(),i[m]=d[m].Y();if(2===j)for(h=[],i=[],m=0;v>m;m++)h[m]=d[m].usrCoords[1],i[m]=d[m].usrCoords[2];if(0===j)for(h=[],i=[],m=0;v>m;m++)a.isFunction(d[m])?h.push(d[m]()):h.push(d[m]),a.isFunction(e[m])?i.push(e[m]()):i.push(e[m]);for(o=[],n=0;v>n;n++)o.push([1]);for(m=1;u>=m;m++)for(n=0;v>n;n++)o[n][m]=o[n][m-1]*h[n];q=i,p=b.transpose(o),r=b.matMatMult(p,o),s=b.matVecMult(p,q),f=b.Numerics.Gauss(r,s),l=b.Numerics.generatePolynomialTerm(f,u,"x",3)}for(t=f[u],m=u-1;m>=0;m--)t=t*c+f[m];return t},k.getTerm=function(){return l},k},bezier:function(a){var b,c,d=function(d){return function(e,f){var g=3*Math.floor(e),h=e%1,i=1-h;return f||(c=3*Math.floor((a.length-1)/3),b=Math.floor(c/3)),0>e?a[0][d]():e>=b?a[c][d]():isNaN(e)?NaN:i*i*(i*a[g][d]()+3*h*a[g+1][d]())+(3*i*a[g+2][d]()+h*a[g+3][d]())*h*h}};return[d("X"),d("Y"),0,function(){return Math.floor(a.length/3)}]},bspline:function(a,b){var c,d=[],e=function(a,b){var c,d=[];for(c=0;a+b+1>c;c++)b>c?d[c]=0:a>=c?d[c]=c-b+1:d[c]=a-b+2;return d},f=function(a,b,c,d,e){var f,g,h,i,j,k=[];for(b[e]<=a&&a<b[e+1]?k[e]=1:k[e]=0,f=2;d>=f;f++)for(g=e-f+1;e>=g;g++)h=e-f+1>=g||0>g?0:k[g],i=g>=e?0:k[g+1],j=b[g+f-1]-b[g],0===j?k[g]=0:k[g]=(a-b[g])/j*h,j=b[g+f]-b[g+1],0!==j&&(k[g]+=(b[g+f]-a)/j*i);return k},g=function(g){return function(h,i){var j,k,l,m=a.length,n=m-1,o=b;if(0>=n)return NaN;if(o>=n+2&&(o=n+1),0>=h)return a[0][g]();
if(h>=n-o+2)return a[n][g]();for(l=Math.floor(h)+o-1,c=e(n,o),d=f(h,c,n,o,l),j=0,k=l-o+1;l>=k;k++)m>k&&k>=0&&(j+=a[k][g]()*d[k]);return j}};return[g("X"),g("Y"),0,function(){return a.length-1}]},D:function(b,c){var d=1e-5,e=1/(2*d);return a.exists(c)?function(a,f){return(b.apply(c,[a+d,f])-b.apply(c,[a-d,f]))*e}:function(a,c){return(b(a+d,c)-b(a-d,c))*e}},_riemannValue:function(a,b,c,d){var e,f,g,h;if(0>d&&("trapezoidal"!==c&&(a+=d),d*=-1,"lower"==c?c="upper":"upper"==c&&(c="lower")),h=.01*d,"right"===c)e=b(a+d);else if("middle"===c)e=b(a+.5*d);else if("left"===c||"trapezoidal"===c)e=b(a);else if("lower"===c){for(e=b(a),g=a+h;a+d>=g;g+=h)f=b(g),e>f&&(e=f);f=b(a+d),e>f&&(e=f)}else if("upper"===c){for(e=b(a),g=a+h;a+d>=g;g+=h)f=b(g),f>e&&(e=f);f=b(a+d),f>e&&(e=f)}else e="random"===c?b(a+d*Math.random()):"simpson"===c?(b(a)+4*b(a+.5*d)+b(a+d))/6:b(a);return e},riemann:function(b,c,d,e,f){var g,h,i,j,k,l,m,n=[],o=[],p=0,q=e,r=0;if(a.isArray(b)?(k=b[0],j=b[1]):j=b,c=Math.floor(c),0>=c)return[n,o,r];for(h=(f-e)/c,g=0;c>g;g++)i=this._riemannValue(q,j,d,h),n[p]=q,o[p]=i,p+=1,q+=h,"trapezoidal"===d&&(i=j(q)),n[p]=q,o[p]=i,p+=1;for(g=0;c>g;g++)i=k?this._riemannValue(q,k,d,-h):0,n[p]=q,o[p]=i,p+=1,q-=h,"trapezoidal"===d&&k&&(i=k(q)),n[p]=q,o[p]=i,"trapezoidal"!==d?(l=i,m=o[2*(c-1)-2*g]):(m=.5*(j(q+h)+j(q)),l=k?.5*(k(q+h)+k(q)):0),r+=(m-l)*h,p+=1,n[p]=q,o[p]=o[2*(c-1)-2*g],p+=1;return[n,o,r]},riemannsum:function(a,b,c,d,e){return JXG.deprecated("Numerics.riemannsum()","Numerics.riemann()"),this.riemann(a,b,c,d,e)[2]},rungeKutta:function(b,d,e,f,g){var h,i,j,k,l,m,n=[],o=[],p=(e[1]-e[0])/f,q=e[0],r=d.length,s=[],t=0;for(a.isString(b)&&(b=c[b]||c.euler),m=b.s,h=0;r>h;h++)n[h]=d[h];for(i=0;f>i;i++){for(s[t]=[],h=0;r>h;h++)s[t][h]=n[h];for(t+=1,k=[],j=0;m>j;j++){for(h=0;r>h;h++)o[h]=0;for(l=0;j>l;l++)for(h=0;r>h;h++)o[h]+=b.A[j][l]*p*k[l][h];for(h=0;r>h;h++)o[h]+=n[h];k.push(g(q+b.c[j]*p,o))}for(h=0;r>h;h++)o[h]=0;for(l=0;m>l;l++)for(h=0;r>h;h++)o[h]+=b.b[l]*k[l][h];for(h=0;r>h;h++)n[h]=n[h]+p*o[h];q+=p}return s},maxIterationsRoot:80,maxIterationsMinimize:500,fzero:function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=b.eps,A=this.maxIterationsRoot,B=0,C=0;if(a.isArray(d)){if(d.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");f=d[0],i=c.call(e,f),C+=1,g=d[1],j=c.call(e,g),C+=1}else{for(f=d,i=c.call(e,f),C+=1,l=0===f?1:f,m=[.9*l,1.1*l,l-1,l+1,.5*l,1.5*l,-l,2*l,-10*l,10*l],o=m.length,n=0;o>n&&(g=m[n],j=c.call(e,g),C+=1,!(0>=i*j));n++);f>g&&(p=f,f=g,g=p,q=i,i=j,j=q)}if(i*j>0)return a.isArray(d)?this.fminbr(c,[f,g],e):this.Newton(c,f,e);for(h=f,k=i;A>B;){if(r=g-f,Math.abs(k)<Math.abs(j)&&(f=g,g=h,h=f,i=j,j=k,k=i),v=2*z*Math.abs(g)+.5*z,y=.5*(h-g),Math.abs(y)<=v&&Math.abs(j)<=z)return g;Math.abs(r)>=v&&Math.abs(i)>Math.abs(j)&&(t=h-g,f===h?(s=j/i,w=t*s,x=1-s):(x=i/k,s=j/k,u=j/i,w=u*(t*x*(x-s)-(g-f)*(s-1)),x=(x-1)*(s-1)*(u-1)),w>0?x=-x:w=-w,w<.75*t*x-.5*Math.abs(v*x)&&w<Math.abs(r*x*.5)&&(y=w/x)),Math.abs(y)<v&&(y=y>0?v:-v),f=g,i=j,g+=y,j=c.call(e,g),C+=1,(j>0&&k>0||0>j&&0>k)&&(h=f,k=i),B++}return g},fminbr:function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=.5*(3-Math.sqrt(5)),w=b.eps,x=b.eps,y=this.maxIterationsMinimize,z=0,A=0;if(!a.isArray(d)||d.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(f=d[0],g=d[1],i=f+v*(g-f),l=c.call(e,i),A+=1,h=i,j=i,k=l,m=l;y>z;){if(n=g-f,o=.5*(f+g),p=x*Math.abs(h)+w/3,Math.abs(h-o)+.5*n<=2*p)return h;q=v*(o>h?g-h:f-h),Math.abs(h-j)>=p&&(t=(h-j)*(k-l),s=(h-i)*(k-m),r=(h-i)*s-(h-j)*t,s=2*(s-t),s>0?r=-r:s=-s,Math.abs(r)<Math.abs(q*s)&&r>s*(f-h+2*p)&&s*(g-h-2*p)>r&&(q=r/s)),Math.abs(q)<p&&(q=q>0?p:-p),t=h+q,u=c.call(e,t),A+=1,k>=u?(h>t?g=h:f=h,i=j,j=h,h=t,l=m,m=k,k=u):(h>t?f=t:g=t,m>=u||j===h?(i=j,j=t,l=m,m=u):(l>=u||i===h||i===j)&&(i=t,l=u)),z+=1}return h},RamerDouglasPeucker:function(a,c){var d,e,f,g=[],h=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=0,q=c;if(2>d-c)return[-1,0];if(g=a[c].scrCoords,h=a[d].scrCoords,isNaN(g[1]+g[2]))return[NaN,c];if(isNaN(h[1]+h[2]))return[NaN,d];for(f=c+1;d>f;f++){if(i=a[f].scrCoords,isNaN(i[1]+i[2]))return[NaN,f];j=i[1]-g[1],k=i[2]-g[2],l=h[1]-g[1],m=h[2]-g[2],n=l*l+m*m,n>=b.eps?(o=(j*l+k*m)/n,0>o?o=0:o>1&&(o=1),j-=o*l,k-=o*m,e=j*j+k*k):(o=0,e=j*j+k*k),e>p&&(p=e,q=f)}return[Math.sqrt(p),q]},i=function(a,b,c,d,e){var f=h(a,b,c),g=f[1];if(isNaN(f[0])){i(a,b,g-1,d,e),e.push(a[g]);do++g;while(c>=g&&isNaN(a[g].scrCoords[1]+a[g].scrCoords[2]));c>=g&&e.push(a[g]),i(a,g+1,c,d,e)}else f[0]>d?(i(a,b,g,d,e),i(a,g,c,d,e)):e.push(a[c])};for(f=a.length,d=0;f>d&&isNaN(a[d].scrCoords[1]+a[d].scrCoords[2]);)d+=1;for(e=f-1;e>d&&isNaN(a[e].scrCoords[1]+a[e].scrCoords[2]);)e-=1;return d>e||d===f||(g[0]=a[d],i(a,d,e,c,g)),g},RamerDouglasPeuker:function(a,b){return JXG.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(a,b)}},b.Numerics}),define("math/statistics",["jxg","base/constants","math/math","utils/type"],function(a,b,c,d){"use strict";return c.Statistics={sum:function(a){var b,c=a.length,d=0;for(b=0;c>b;b++)d+=a[b];return d},prod:function(a){var b,c=a.length,d=1;for(b=0;c>b;b++)d*=a[b];return d},mean:function(a){return a.length>0?this.sum(a)/a.length:0},median:function(a){var b,c;return a.length>0?(b=a.slice(0),b.sort(function(a,b){return a-b}),c=b.length,c%2===1?b[parseInt(.5*c,10)]:.5*(b[.5*c-1]+b[.5*c])):0},variance:function(a){var b,c,d,e=a.length;if(e>1){for(b=this.mean(a),c=0,d=0;e>d;d++)c+=(a[d]-b)*(a[d]-b);return c/(a.length-1)}return 0},sd:function(a){return Math.sqrt(this.variance(a))},weightedMean:function(a,b){if(a.length!==b.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return a.length>0?this.mean(this.multiply(a,b)):0},max:function(a){return Math.max.apply(this,a)},min:function(a){return Math.min.apply(this,a)},range:function(a){return[this.min(a),this.max(a)]},abs:function(a){var b,c,e;if(d.isArray(a))for(c=a.length,e=[],b=0;c>b;b++)e[b]=Math.abs(a[b]);else e=Math.abs(a);return e},add:function(a,b){var c,e,f=[];if(a=d.evalSlider(a),b=d.evalSlider(b),d.isArray(a)&&d.isNumber(b))for(e=a.length,c=0;e>c;c++)f[c]=a[c]+b;else if(d.isNumber(a)&&d.isArray(b))for(e=b.length,c=0;e>c;c++)f[c]=a+b[c];else if(d.isArray(a)&&d.isArray(b))for(e=Math.min(a.length,b.length),c=0;e>c;c++)f[c]=a[c]+b[c];else f=a+b;return f},div:function(a,b){var c,e,f=[];if(a=d.evalSlider(a),b=d.evalSlider(b),d.isArray(a)&&d.isNumber(b))for(e=a.length,c=0;e>c;c++)f[c]=a[c]/b;else if(d.isNumber(a)&&d.isArray(b))for(e=b.length,c=0;e>c;c++)f[c]=a/b[c];else if(d.isArray(a)&&d.isArray(b))for(e=Math.min(a.length,b.length),c=0;e>c;c++)f[c]=a[c]/b[c];else f=a/b;return f},divide:function(){a.deprecated("Statistics.divide()","Statistics.div()"),c.Statistics.div.apply(c.Statistics,arguments)},mod:function(a,b,e){var f,g,h=[],i=function(a,b){return a%b};if(e=d.def(e,!1),e&&(i=c.mod),a=d.evalSlider(a),b=d.evalSlider(b),d.isArray(a)&&d.isNumber(b))for(g=a.length,f=0;g>f;f++)h[f]=i(a[f],b);else if(d.isNumber(a)&&d.isArray(b))for(g=b.length,f=0;g>f;f++)h[f]=i(a,b[f]);else if(d.isArray(a)&&d.isArray(b))for(g=Math.min(a.length,b.length),f=0;g>f;f++)h[f]=i(a[f],b[f]);else h=i(a,b);return h},multiply:function(a,b){var c,e,f=[];if(a=d.evalSlider(a),b=d.evalSlider(b),d.isArray(a)&&d.isNumber(b))for(e=a.length,c=0;e>c;c++)f[c]=a[c]*b;else if(d.isNumber(a)&&d.isArray(b))for(e=b.length,c=0;e>c;c++)f[c]=a*b[c];else if(d.isArray(a)&&d.isArray(b))for(e=Math.min(a.length,b.length),c=0;e>c;c++)f[c]=a[c]*b[c];else f=a*b;return f},subtract:function(a,b){var c,e,f=[];if(a=d.evalSlider(a),b=d.evalSlider(b),d.isArray(a)&&d.isNumber(b))for(e=a.length,c=0;e>c;c++)f[c]=a[c]-b;else if(d.isNumber(a)&&d.isArray(b))for(e=b.length,c=0;e>c;c++)f[c]=a-b[c];else if(d.isArray(a)&&d.isArray(b))for(e=Math.min(a.length,b.length),c=0;e>c;c++)f[c]=a[c]-b[c];else f=a-b;return f},TheilSenRegression:function(a){var b,d,e=[],f=[],g=[];for(b=0;b<a.length;b++){for(f.length=0,d=0;d<a.length;d++)Math.abs(a[d].usrCoords[1]-a[b].usrCoords[1])>c.eps&&(f[d]=(a[d].usrCoords[2]-a[b].usrCoords[2])/(a[d].usrCoords[1]-a[b].usrCoords[1]));e[b]=this.median(f),g.push(a[b].usrCoords[2]-e[b]*a[b].usrCoords[1])}return[this.median(g),this.median(e),-1]}},c.Statistics}),define("math/geometry",["jxg","base/constants","base/coords","math/math","math/numerics","utils/type","utils/expect"],function(a,b,c,d,e,f,g){"use strict";return d.Geometry={},a.extend(d.Geometry,{angle:function(b,c,d){var e,f,g,h,i=[],j=[],k=[];return a.deprecated("Geometry.angle()","Geometry.rad()"),b.coords?(i[0]=b.coords.usrCoords[1],i[1]=b.coords.usrCoords[2]):(i[0]=b[0],i[1]=b[1]),c.coords?(j[0]=c.coords.usrCoords[1],j[1]=c.coords.usrCoords[2]):(j[0]=c[0],j[1]=c[1]),d.coords?(k[0]=d.coords.usrCoords[1],k[1]=d.coords.usrCoords[2]):(k[0]=d[0],k[1]=d[1]),e=i[0]-j[0],f=i[1]-j[1],g=k[0]-j[0],h=k[1]-j[1],Math.atan2(e*h-f*g,e*g+f*h)},trueAngle:function(a,b,c){return 57.29577951308232*this.rad(a,b,c)},rad:function(a,b,c){var d,e,f,g,h,i,j;return a.coords?(d=a.coords.usrCoords[1],e=a.coords.usrCoords[2]):(d=a[0],e=a[1]),b.coords?(f=b.coords.usrCoords[1],g=b.coords.usrCoords[2]):(f=b[0],g=b[1]),c.coords?(h=c.coords.usrCoords[1],i=c.coords.usrCoords[2]):(h=c[0],i=c[1]),j=Math.atan2(i-g,h-f)-Math.atan2(e-g,d-f),0>j&&(j+=6.283185307179586),j},angleBisector:function(a,d,e,g){var h,i,j,k,l,m=a.coords.usrCoords,n=d.coords.usrCoords,o=e.coords.usrCoords;return f.exists(g)||(g=a.board),0===n[0]?new c(b.COORDS_BY_USER,[1,.5*(m[1]+o[1]),.5*(m[2]+o[2])],g):(k=m[1]-n[1],l=m[2]-n[2],h=Math.atan2(l,k),k=o[1]-n[1],l=o[2]-n[2],i=Math.atan2(l,k),j=.5*(h+i),h>i&&(j+=Math.PI),k=Math.cos(j)+n[1],l=Math.sin(j)+n[2],new c(b.COORDS_BY_USER,[1,k,l],g))},reflection:function(a,d,e){var g,h,i,j,k,l,m,n=d.coords.usrCoords,o=a.point1.coords.usrCoords,p=a.point2.coords.usrCoords;return f.exists(e)||(e=d.board),k=p[1]-o[1],l=p[2]-o[2],g=n[1]-o[1],h=n[2]-o[2],m=(k*h-l*g)/(k*k+l*l),i=n[1]+2*m*l,j=n[2]-2*m*k,new c(b.COORDS_BY_USER,[i,j],e)},rotation:function(a,d,e,g){var h,i,j,k,l,m,n=d.coords.usrCoords,o=a.coords.usrCoords;return f.exists(g)||(g=d.board),h=n[1]-o[1],i=n[2]-o[2],j=Math.cos(e),k=Math.sin(e),l=h*j-i*k+o[1],m=h*k+i*j+o[2],new c(b.COORDS_BY_USER,[l,m],g)},perpendicular:function(a,e,g){var h,i,j,k,l,m=a.point1.coords.usrCoords,n=a.point2.coords.usrCoords,o=e.coords.usrCoords;return f.exists(g)||(g=e.board),e===a.point1?(h=m[1]+n[2]-m[2],i=m[2]-n[1]+m[1],l=m[0]*n[0],Math.abs(l)<d.eps&&(h=n[2],i=-n[1]),k=[l,h,i],j=!0):e===a.point2?(h=n[1]+m[2]-n[2],i=n[2]-m[1]+n[1],l=m[0]*n[0],Math.abs(l)<d.eps&&(h=m[2],i=-m[1]),k=[l,h,i],j=!1):Math.abs(d.innerProduct(o,a.stdform,3))<d.eps?(h=o[1]+n[2]-o[2],i=o[2]-n[1]+o[1],l=n[0],Math.abs(l)<d.eps&&(h=n[2],i=-n[1]),j=!0,Math.abs(l)>d.eps&&Math.abs(h-o[1])<d.eps&&Math.abs(i-o[2])<d.eps&&(h=o[1]+m[2]-o[2],i=o[2]-m[1]+o[1],j=!1),k=[l,h,i]):(k=[0,a.stdform[1],a.stdform[2]],k=d.crossProduct(k,o),k=d.crossProduct(k,a.stdform),j=!0),[new c(b.COORDS_BY_USER,k,g),j]},circumcenterMidpoint:function(){a.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(a,e,g,h){var i,j,k,l,m=a.coords.usrCoords,n=e.coords.usrCoords,o=g.coords.usrCoords;return f.exists(h)||(h=a.board),i=[n[0]-m[0],-n[2]+m[2],n[1]-m[1]],j=[.5*(m[0]+n[0]),.5*(m[1]+n[1]),.5*(m[2]+n[2])],k=d.crossProduct(i,j),i=[o[0]-n[0],-o[2]+n[2],o[1]-n[1]],j=[.5*(n[0]+o[0]),.5*(n[1]+o[1]),.5*(n[2]+o[2])],l=d.crossProduct(i,j),new c(b.COORDS_BY_USER,d.crossProduct(k,l),h)},distance:function(a,b,c){var d,e=0;for(c||(c=Math.min(a.length,b.length)),d=0;c>d;d++)e+=(a[d]-b[d])*(a[d]-b[d]);return Math.sqrt(e)},affineDistance:function(a,b,c){var e;return e=this.distance(a,b,c),e>d.eps&&(Math.abs(a[0])<d.eps||Math.abs(b[0])<d.eps)?1/0:e},sortVertices:function(a){var b,c,e=g.each(a,g.coordsArray),h=e.length;for(b=1;h>b;b++)(e[b][2]<e[0][2]||Math.abs(e[b][2]-e[0][2])<d.eps&&e[b][1]<e[0][1])&&(e=f.swap(e,b,0));return c=e.shift(),e.sort(function(a,b){var d=Math.atan2(a[2]-c[2],a[1]-c[1]),e=Math.atan2(b[2]-c[2],b[1]-c[1]);return d-e}),e.unshift(c),e.unshift(e[e.length-1]),e},signedTriangle:function(a,b,c){var d=g.coordsArray(a),e=g.coordsArray(b),f=g.coordsArray(c);return.5*((e[1]-d[1])*(f[2]-d[2])-(e[2]-d[2])*(f[1]-d[1]))},signedPolygon:function(a,b){var c,d,e=0,f=g.each(a,g.coordsArray);for("undefined"==typeof b&&(b=!0),b?f.unshift(f[f.length-1]):f=this.sortVertices(f),d=f.length,c=1;d>c;c++)e+=f[c-1][1]*f[c][2]-f[c][1]*f[c-1][2];return.5*e},GrahamScan:function(a){var b,c=1,d=g.each(a,g.coordsArray),e=d.length;for(d=this.sortVertices(d),e=d.length,b=2;e>b;b++){for(;this.signedTriangle(d[c-1],d[c],d[b])<=0;)if(c>1)c-=1;else{if(b===e-1)break;b+=1}c+=1,d=f.swap(d,c,b)}return d.slice(0,c)},calcStraight:function(a,c,e,g){var h,i,j,k,l,m,n,o,p,q;if(f.exists(g)||(g=10),m=a.visProp.straightfirst,n=a.visProp.straightlast,Math.abs(c.scrCoords[0])<d.eps&&(m=!0),Math.abs(e.scrCoords[0])<d.eps&&(n=!0),(m||n)&&(o=[],o[0]=a.stdform[0]-a.stdform[1]*a.board.origin.scrCoords[1]/a.board.unitX+a.stdform[2]*a.board.origin.scrCoords[2]/a.board.unitY,o[1]=a.stdform[1]/a.board.unitX,o[2]=-a.stdform[2]/a.board.unitY,!isNaN(o[0]+o[1]+o[2]))){if(h=!1,i=!1,h=!m&&Math.abs(c.usrCoords[0])>=d.eps&&c.scrCoords[1]>=0&&c.scrCoords[1]<=a.board.canvasWidth&&c.scrCoords[2]>=0&&c.scrCoords[2]<=a.board.canvasHeight,i=!n&&Math.abs(e.usrCoords[0])>=d.eps&&e.scrCoords[1]>=0&&e.scrCoords[1]<=a.board.canvasWidth&&e.scrCoords[2]>=0&&e.scrCoords[2]<=a.board.canvasHeight,j=this.meetLineBoard(o,a.board,g),k=j[0],l=j[1],!h&&!i){if(!m&&n&&!this.isSameDirection(c,e,k)&&!this.isSameDirection(c,e,l))return;if(m&&!n&&!this.isSameDirection(e,c,k)&&!this.isSameDirection(e,c,l))return}h?i||(q=this.isSameDir(c,e,k,l)?l:k):i?p=this.isSameDir(c,e,k,l)?k:l:this.isSameDir(c,e,k,l)?(p=k,q=l):(q=k,p=l),p&&c.setCoordinates(b.COORDS_BY_USER,p.usrCoords),q&&e.setCoordinates(b.COORDS_BY_USER,q.usrCoords)}},calcLineDelimitingPoints:function(a,c,e){var f,g,h,i,j,k,l,m,n,o,p=!1,q=!1;if(k=a.visProp.straightfirst,l=a.visProp.straightlast,Math.abs(c.scrCoords[0])<d.eps&&(k=!0),Math.abs(e.scrCoords[0])<d.eps&&(l=!0),m=[],m[0]=a.stdform[0]-a.stdform[1]*a.board.origin.scrCoords[1]/a.board.unitX+a.stdform[2]*a.board.origin.scrCoords[2]/a.board.unitY,m[1]=a.stdform[1]/a.board.unitX,m[2]=-a.stdform[2]/a.board.unitY,!isNaN(m[0]+m[1]+m[2])){if(p=!k,q=!l,g=a.board.getBoundingBox(),h=a.getSlope(),h>=0?(i=this.projectPointToLine({coords:{usrCoords:[1,g[2],g[1]]}},a,a.board),j=this.projectPointToLine({coords:{usrCoords:[1,g[0],g[3]]}},a,a.board)):(i=this.projectPointToLine({coords:{usrCoords:[1,g[0],g[1]]}},a,a.board),j=this.projectPointToLine({coords:{usrCoords:[1,g[2],g[3]]}},a,a.board)),!p&&!q){if(!k&&!l){if(f=c.distance(b.COORDS_BY_USER,e),Math.abs(c.distance(b.COORDS_BY_USER,i)+i.distance(b.COORDS_BY_USER,e)-f)>d.eps)return;if(Math.abs(c.distance(b.COORDS_BY_USER,j)+j.distance(b.COORDS_BY_USER,e)-f)>d.eps)return}if(!k&&l&&!this.isSameDirection(c,e,i)&&!this.isSameDirection(c,e,j))return;if(k&&!l&&!this.isSameDirection(e,c,i)&&!this.isSameDirection(e,c,j))return}p?q||(o=this.isSameDir(c,e,i,j)?j:i):q?n=this.isSameDir(c,e,i,j)?i:j:this.isSameDir(c,e,i,j)?(n=i,o=j):(o=i,n=j),n&&c.setCoordinates(b.COORDS_BY_USER,n.usrCoords),o&&e.setCoordinates(b.COORDS_BY_USER,o.usrCoords)}},isSameDir:function(a,b,c,e){var f=b.usrCoords[1]-a.usrCoords[1],g=b.usrCoords[2]-a.usrCoords[2],h=e.usrCoords[1]-c.usrCoords[1],i=e.usrCoords[2]-c.usrCoords[2];return Math.abs(b.usrCoords[0])<d.eps&&(f=b.usrCoords[1],g=b.usrCoords[2]),Math.abs(a.usrCoords[0])<d.eps&&(f=-a.usrCoords[1],g=-a.usrCoords[2]),f*h+g*i>=0},isSameDirection:function(a,b,c){var e,f,g,h,i=!1;return e=b.usrCoords[1]-a.usrCoords[1],f=b.usrCoords[2]-a.usrCoords[2],g=c.usrCoords[1]-a.usrCoords[1],h=c.usrCoords[2]-a.usrCoords[2],Math.abs(e)<d.eps&&(e=0),Math.abs(f)<d.eps&&(f=0),Math.abs(g)<d.eps&&(g=0),Math.abs(h)<d.eps&&(h=0),e>=0&&g>=0?i=f>=0&&h>=0||0>=f&&0>=h:0>=e&&0>=g&&(i=f>=0&&h>=0||0>=f&&0>=h),i},intersectionFunction:function(a,d,e,f,g,h){var i,j=this;return i=d.elementClass===b.OBJECT_CLASS_CURVE&&e.elementClass===b.OBJECT_CLASS_CURVE?function(){return j.meetCurveCurve(d,e,f,g,d.board)}:d.elementClass===b.OBJECT_CLASS_CURVE&&e.elementClass===b.OBJECT_CLASS_LINE||e.elementClass===b.OBJECT_CLASS_CURVE&&d.elementClass===b.OBJECT_CLASS_LINE?function(){return j.meetCurveLine(d,e,f,d.board,h)}:d.elementClass===b.OBJECT_CLASS_LINE&&e.elementClass===b.OBJECT_CLASS_LINE?function(){var a,g,i=d.visProp.straightfirst,k=e.visProp.straightfirst,l=d.visProp.straightlast,m=e.visProp.straightlast;return h||i&&l&&k&&m?j.meet(d.stdform,e.stdform,f,d.board):(a=j.meetSegmentSegment(d.point1.coords.usrCoords,d.point2.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords,d.board),g=!i&&a[1]<0||!l&&a[1]>1||!k&&a[2]<0||!m&&a[2]>1?[0,NaN,NaN]:a[0],new c(b.COORDS_BY_USER,g,d.board))}:function(){return j.meet(d.stdform,e.stdform,f,d.board)}},meet:function(a,b,c,e){var f,g=d.eps;return f=Math.abs(a[3])<g&&Math.abs(b[3])<g?this.meetLineLine(a,b,c,e):Math.abs(a[3])>=g&&Math.abs(b[3])<g?this.meetLineCircle(b,a,c,e):Math.abs(a[3])<g&&Math.abs(b[3])>=g?this.meetLineCircle(a,b,c,e):this.meetCircleCircle(a,b,c,e)},meetLineBoard:function(a,e,g){var h,i,j,k,l=[];for(f.exists(g)||(g=0),l[0]=d.crossProduct(a,[g,0,1]),l[1]=d.crossProduct(a,[g,1,0]),l[2]=d.crossProduct(a,[-g-e.canvasHeight,0,1]),l[3]=d.crossProduct(a,[-g-e.canvasWidth,1,0]),j=0;4>j;j++)if(Math.abs(l[j][0])>d.eps){for(k=2;k>0;k--)l[j][k]/=l[j][0];l[j][0]=1}return Math.abs(l[1][0])<d.eps?(h=l[0],i=l[2]):Math.abs(l[0][0])<d.eps?(h=l[1],i=l[3]):l[1][2]<0?(h=l[0],i=l[3][2]>e.canvasHeight?l[2]:l[3]):l[1][2]>e.canvasHeight?(h=l[2],i=l[3][2]<0?l[0]:l[3]):(h=l[1],i=l[3][2]<0?l[0]:l[3][2]>e.canvasHeight?l[2]:l[3]),h=new c(b.COORDS_BY_SCREEN,h.slice(1),e),i=new c(b.COORDS_BY_SCREEN,i.slice(1),e),[h,i]},meetLineLine:function(a,e,f,g){var h=isNaN(a[5]+e[5])?[0,0,0]:d.crossProduct(a,e);return new c(b.COORDS_BY_USER,h,g)},meetLineCircle:function(a,e,f,g){var h,i,j,k,l,m,n,o,p,q;return e[4]<d.eps?Math.abs(d.innerProduct([1,e[6],e[7]],a,3))<d.eps?new c(b.COORDS_BY_USER,e.slice(6,8),g):new c(b.COORDS_BY_USER,[NaN,NaN],g):(j=e[0],i=e.slice(1,3),h=e[3],k=a[0],l=a.slice(1,3),m=h,n=i[0]*l[1]-i[1]*l[0],o=h*k*k-(i[0]*l[0]+i[1]*l[1])*k+j,p=n*n-4*m*o,p>=0?(p=Math.sqrt(p),q=[(-n+p)/(2*m),(-n-p)/(2*m)],0===f?new c(b.COORDS_BY_USER,[-q[0]*-l[1]-k*l[0],-q[0]*l[0]-k*l[1]],g):new c(b.COORDS_BY_USER,[-q[1]*-l[1]-k*l[0],-q[1]*l[0]-k*l[1]],g)):new c(b.COORDS_BY_USER,[0,0,0],g))},meetCircleCircle:function(a,e,f,g){var h;return a[4]<d.eps?Math.abs(this.distance(a.slice(6,2),e.slice(6,8))-e[4])<d.eps?new c(b.COORDS_BY_USER,a.slice(6,8),g):new c(b.COORDS_BY_USER,[0,0,0],g):e[4]<d.eps?Math.abs(this.distance(e.slice(6,2),a.slice(6,8))-a[4])<d.eps?new c(b.COORDS_BY_USER,e.slice(6,8),g):new c(b.COORDS_BY_USER,[0,0,0],g):(h=[e[3]*a[0]-a[3]*e[0],e[3]*a[1]-a[3]*e[1],e[3]*a[2]-a[3]*e[2],0,1,1/0,1/0,1/0],h=d.normalize(h),this.meetLineCircle(h,a,f,g))},meetCurveCurve:function(a,d,g,h,i,j){var k;return k=f.exists(j)&&"newton"===j?e.generalizedNewton(a,d,g,h):3===a.bezierDegree&&3===d.bezierDegree?this.meetBezierCurveRedBlueSegments(a,d,g):this.meetCurveRedBlueSegments(a,d,g),new c(b.COORDS_BY_USER,k,i)},meetCurveLine:function(a,c,d,e,g){var h,i,j=[0,NaN,NaN];return f.exists(e)||(e=a.board),a.elementClass===b.OBJECT_CLASS_CURVE?(h=a,i=c):(h=c,i=a),j="plot"===h.visProp.curvetype?this.meetCurveLineDiscrete(h,i,d,e,!g):this.meetCurveLineContinuous(h,i,d,e)},meetCurveLineContinuous:function(a,f,g,h,i){var j,k,l,m,n,o,p,q=10*d.eps;return m=this.meetCurveLineDiscrete(a,f,g,h,i),n=m.usrCoords[1],o=m.usrCoords[2],k=function(b){var c=n-a.X(b),d=o-a.Y(b);return Math.sqrt(c*c+d*d)},l=function(b){var c=f.stdform[0]+f.stdform[1]*a.X(b)+f.stdform[2]*a.Y(b);return c*c},j=e.root(k,[a.minX(),a.maxX()]),j=e.root(l,[j-2*q,j+2*q]),p=Math.abs(l(j))>q?NaN:1,new c(b.COORDS_BY_USER,[p,a.X(j),a.Y(j)],h)},meetCurveLineContinuousOld:function(f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v=10*d.eps;if(a.deprecated("Geometry.meetCurveLineContinuousOld()","Geometry.meetCurveLineContinuous()"),m=function(a){var b=g.stdform[0]+g.stdform[1]*f.X(a)+g.stdform[2]*f.Y(a);return b*b},this.meetCurveLineContinuous.t1memo?(r=this.meetCurveLineContinuous.t1memo,j=e.root(m,r)):(r=f.minX(),s=f.maxX(),j=e.root(m,[r,s])),this.meetCurveLineContinuous.t1memo=j,t=f.X(j),u=f.Y(j),1===h){if(this.meetCurveLineContinuous.t2memo&&(r=this.meetCurveLineContinuous.t2memo),k=e.root(m,r),!(Math.abs(k-j)>.1&&Math.abs(t-f.X(k))>.1&&Math.abs(u-f.Y(k))>.1))for(p=20,q=(f.maxX()-f.minX())/p,o=f.minX(),l=0;p>l&&(k=e.root(m,[o,o+q]),!(Math.abs(m(k))<=v&&Math.abs(k-j)>.1&&Math.abs(t-f.X(k))>.1&&Math.abs(u-f.Y(k))>.1));l++)o+=q;j=k,this.meetCurveLineContinuous.t2memo=j}return n=Math.abs(m(j))>v?NaN:1,new c(b.COORDS_BY_USER,[n,f.X(j),f.Y(j)],i)},meetCurveLineDiscrete:function(a,e,f,g,h){var i,j,k,l,m,n,o,p,q=e.point1.coords.usrCoords,r=e.point2.coords.usrCoords,s=0,t=a.numberPoints;for(n=new c(b.COORDS_BY_USER,[0,NaN,NaN],g),0===q[0]?q=[1,r[1]+e.stdform[2],r[2]-e.stdform[1]]:0===r[0]&&(r=[1,q[1]+e.stdform[2],q[2]-e.stdform[1]]),l=a.points[0].usrCoords,i=1;t>i;i++)if(k=l.slice(0),l=a.points[i].usrCoords,o=this.distance(k,l),o>d.eps)for(3===a.bezierDegree?(p=this.meetBeziersegmentBeziersegment([a.points[i-1].usrCoords.slice(1),a.points[i].usrCoords.slice(1),a.points[i+1].usrCoords.slice(1),a.points[i+2].usrCoords.slice(1)],[q.slice(1),r.slice(1)],h),i+=2):p=[this.meetSegmentSegment(k,l,q,r)],j=0;j<p.length;j++)if(m=p[j],0<=m[1]&&m[1]<=1){if(s===f)return h&&(!e.visProp.straightfirst&&m[2]<0||!e.visProp.straightlast&&m[2]>1)?n:n=new c(b.COORDS_BY_USER,m[0],g);s+=1}return n},meetCurveRedBlueSegments:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=0,n=b.points.length,o=a.points.length;if(1>=n||1>=o)return[0,NaN,NaN];for(d=1;o>d;d++)for(f=a.points[d-1].usrCoords,g=a.points[d].usrCoords,k=Math.min(f[1],g[1]),l=Math.max(f[1],g[1]),i=b.points[0].usrCoords,e=1;n>e;e++)if(h=i,i=b.points[e].usrCoords,Math.min(h[1],i[1])<l&&Math.max(h[1],i[1])>k&&(j=this.meetSegmentSegment(f,g,h,i),j[1]>=0&&j[2]>=0&&(j[1]<1&&j[2]<1||d===o-1&&1===j[1]||e===n-1&&1===j[2]))){if(m===c)return j[0];m++}return[0,NaN,NaN]},meetSegmentSegment:function(a,b,c,e){var f,g,h,i=d.crossProduct(a,b),j=d.crossProduct(c,e),k=d.crossProduct(i,j),l=k[0];return Math.abs(l)<d.eps?[k,1/0,1/0]:(h=[c[1]-a[1],c[2]-a[2]],f=(h[0]*(e[2]-c[2])-h[1]*(e[1]-c[1]))/l,g=(h[0]*(b[2]-a[2])-h[1]*(b[1]-a[1]))/l,[k,f,g])},_bezierSplit:function(a){var b,c,d,e,f,g;return b=[.5*(a[0][0]+a[1][0]),.5*(a[0][1]+a[1][1])],c=[.5*(a[1][0]+a[2][0]),.5*(a[1][1]+a[2][1])],d=[.5*(a[2][0]+a[3][0]),.5*(a[2][1]+a[3][1])],e=[.5*(b[0]+c[0]),.5*(b[1]+c[1])],f=[.5*(c[0]+d[0]),.5*(c[1]+d[1])],g=[.5*(e[0]+f[0]),.5*(e[1]+f[1])],[[a[0],b,e,g],[g,f,d,a[3]]]},_bezierBbox:function(a){var b=[];return 4===a.length?(b[0]=Math.min(a[0][0],a[1][0],a[2][0],a[3][0]),b[1]=Math.max(a[0][1],a[1][1],a[2][1],a[3][1]),b[2]=Math.max(a[0][0],a[1][0],a[2][0],a[3][0]),b[3]=Math.min(a[0][1],a[1][1],a[2][1],a[3][1])):(b[0]=Math.min(a[0][0],a[1][0]),b[1]=Math.max(a[0][1],a[1][1]),b[2]=Math.max(a[0][0],a[1][0]),b[3]=Math.min(a[0][1],a[1][1])),b},_bezierOverlap:function(a,b){return a[2]>=b[0]&&a[0]<=b[2]&&a[1]>=b[3]&&a[3]<=b[1]},_bezierListConcat:function(a,b,c,d){var e,g=f.exists(d),h=0,i=b.length,j=a.length;for(j>0&&i>0&&(1===a[j-1][1]&&0===b[0][1]||g&&1===a[j-1][2]&&0===b[0][2])&&(h=1),e=h;i>e;e++)g&&(b[e][2]*=.5,b[e][2]+=d),b[e][1]*=.5,b[e][1]+=c,a.push(b[e])},_bezierMeetSubdivision:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=[],q=5;return e=this._bezierBbox(b),d=this._bezierBbox(a),this._bezierOverlap(e,d)?q>c?(f=this._bezierSplit(a),i=f[0],j=f[1],f=this._bezierSplit(b),g=f[0],h=f[1],this._bezierListConcat(p,this._bezierMeetSubdivision(i,g,c+1),0,0),this._bezierListConcat(p,this._bezierMeetSubdivision(i,h,c+1),0,.5),this._bezierListConcat(p,this._bezierMeetSubdivision(j,g,c+1),.5,0),this._bezierListConcat(p,this._bezierMeetSubdivision(j,h,c+1),.5,.5),p):(n=[1].concat(a[0]),o=[1].concat(a[3]),l=[1].concat(b[0]),m=[1].concat(b[3]),k=this.meetSegmentSegment(n,o,l,m),k[1]>=0&&k[2]>=0&&k[1]<=1&&k[2]<=1?[k]:[]):[]},_bezierLineMeetSubdivision:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=[],p=5;return e=this._bezierBbox(b),f=this._bezierBbox(a),d&&!this._bezierOverlap(f,e)?[]:p>c?(g=this._bezierSplit(a),h=g[0],i=g[1],this._bezierListConcat(o,this._bezierLineMeetSubdivision(h,b,c+1),0),this._bezierListConcat(o,this._bezierLineMeetSubdivision(i,b,c+1),.5),o):(m=[1].concat(a[0]),n=[1].concat(a[3]),k=[1].concat(b[0]),l=[1].concat(b[1]),j=this.meetSegmentSegment(m,n,k,l),j[1]>=0&&j[1]<=1&&(!d||j[2]>=0&&j[2]<=1)?[j]:[])},meetBeziersegmentBeziersegment:function(a,b,c){var d,e,f;for(d=4===a.length&&4===b.length?this._bezierMeetSubdivision(a,b,0):this._bezierLineMeetSubdivision(a,b,0,c),d.sort(function(a,b){return 1e7*(a[1]-b[1])+(a[2]-b[2])}),e=[],f=0;f<d.length;f++)(0===f||d[f][1]!==d[f-1][1]||d[f][2]!==d[f-1][2])&&e.push(d[f]);return e},meetBezierCurveRedBlueSegments:function(a,b,c){var d,e,f,g,h,i,j,k=b.points.length,l=a.points.length,m=[];if(4>k||4>l)return[0,NaN,NaN];for(e=0;l-3>e;e+=3)for(d=a.points,g=[[d[e].usrCoords[1],d[e].usrCoords[2]],[d[e+1].usrCoords[1],d[e+1].usrCoords[2]],[d[e+2].usrCoords[1],d[e+2].usrCoords[2]],[d[e+3].usrCoords[1],d[e+3].usrCoords[2]]],i=this._bezierBbox(g),f=0;k-3>f;f+=3)if(d=b.points,h=[[d[f].usrCoords[1],d[f].usrCoords[2]],[d[f+1].usrCoords[1],d[f+1].usrCoords[2]],[d[f+2].usrCoords[1],d[f+2].usrCoords[2]],[d[f+3].usrCoords[1],d[f+3].usrCoords[2]]],j=this._bezierBbox(h),this._bezierOverlap(i,j)&&(m=m.concat(this.meetBeziersegmentBeziersegment(g,h)),m.length>c))return m[c][0];return m.length>c?m[c][0]:[0,NaN,NaN]},bezierSegmentEval:function(a,b){var c,d,e,f=1-a;return d=0,e=0,c=f*f*f,d+=c*b[0][0],e+=c*b[0][1],c=3*a*f*f,d+=c*b[1][0],e+=c*b[1][1],c=3*a*a*f,d+=c*b[2][0],e+=c*b[2][1],c=a*a*a,d+=c*b[3][0],e+=c*b[3][1],[1,d,e]},bezierArc:function(a,b,c,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=.5*Math.PI,y=b[1],z=b[2],A=b[0],B=[],C=[];for(k=this.distance(b,a),y/=A,z/=A,l=this.rad(a.slice(1),b.slice(1),c.slice(1)),-1===f&&(l=2*Math.PI-l),g=a,g[1]/=g[0],g[2]/=g[0],g[0]/=g[0],j=g.slice(0),e?(B=[y,y+.333*(g[1]-y),y+.666*(g[1]-y),g[1]],C=[z,z+.333*(g[2]-z),z+.666*(g[2]-z),g[2]]):(B=[g[1]],C=[g[2]]);l>d.eps;)l>x?(m=x,l-=x):(m=l,l=0),n=Math.cos(f*m),o=Math.sin(f*m),w=[[1,0,0],[y*(1-n)+z*o,n,-o],[z*(1-n)-y*o,o,n]],u=d.matVecMult(w,g),j=[u[0]/u[0],u[1]/u[0],u[2]/u[0]],p=g[1]-y,q=g[2]-z,r=j[1]-y,s=j[2]-z,v=Math.sqrt((p+r)*(p+r)+(q+s)*(q+s)),t=Math.abs(s-q)>d.eps?(p+r)*(k/v-.5)/(s-q)*8/3:(q+s)*(k/v-.5)/(p-r)*8/3,h=[1,g[1]-t*q,g[2]+t*p],i=[1,j[1]+t*s,j[2]-t*r],B=B.concat([h[1],i[1],j[1]]),C=C.concat([h[2],i[2],j[2]]),g=j.slice(0);return e&&(B=B.concat([j[1]+.333*(y-j[1]),j[1]+.666*(y-j[1]),y]),C=C.concat([j[2]+.333*(z-j[2]),j[2]+.666*(z-j[2]),z])),[B,C]},projectPointToCircle:function(a,e,g){var h,i,j,k,l,m=e.center.coords.usrCoords;return f.exists(g)||(g=a.board),f.isPoint(a)?(h=a.coords.distance(b.COORDS_BY_USER,e.center.coords),i=a.coords.usrCoords):(h=a.distance(b.COORDS_BY_USER,e.center.coords),i=a.usrCoords),Math.abs(h)<d.eps&&(h=d.eps),l=e.Radius()/h,j=m[1]+l*(i[1]-m[1]),k=m[2]+l*(i[2]-m[2]),new c(b.COORDS_BY_USER,[j,k],g)},projectPointToLine:function(a,e,g){var h=[0,e.stdform[1],e.stdform[2]];return f.exists(g)||(g=a.board),h=d.crossProduct(h,a.coords.usrCoords),new c(b.COORDS_BY_USER,d.crossProduct(h,e.stdform),g)},projectCoordsToSegment:function(a,b,c){var e,f,g=[c[1]-b[1],c[2]-b[2]],h=[a[1]-b[1],a[2]-b[2]];return Math.abs(g[0])<d.eps&&Math.abs(g[1])<d.eps?[b,0]:(e=d.innerProduct(h,g),f=d.innerProduct(g,g),e/=f,[[1,e*g[0]+b[1],e*g[1]+b[2]],e])},projectCoordsToBeziersegment:function(b,c,d){var e,f=function(a){var e=[1,c.X(d+a),c.Y(d+a)];return e[1]-=b[1],e[2]-=b[2],e[1]*e[1]+e[2]*e[2]};return e=a.Math.Numerics.fminbr(f,[0,1]),[[1,c.X(e+d),c.Y(e+d)],e]},projectPointToCurve:function(a,b,c){f.exists(c)||(c=a.board);var d=a.X(),e=a.Y(),g=a.position||0,h=this.projectCoordsToCurve(d,e,g,b,c);return a.position=h[1],h[0]},projectCoordsToCurve:function(a,d,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=Number.POSITIVE_INFINITY;if(f.exists(i)||(i=h.board),"plot"===h.visProp.curvetype){if(g=0,n=C,j=0===h.numberPoints?[0,1,1]:[h.Z(0),h.X(0),h.Y(0)],h.numberPoints>1)for(q=[1,a,d],3===h.bezierDegree?m=0:t=[h.Z(0),h.X(0),h.Y(0)],l=0;l<h.numberPoints-1;l++)3===h.bezierDegree?v=this.projectCoordsToBeziersegment(q,h,m):(u=[h.Z(l+1),h.X(l+1),h.Y(l+1)],v=this.projectCoordsToSegment(q,t,u)),p=v[1],r=v[0],p>=0&&1>=p?(o=this.distance(r,q),s=l+p):0>p?(r=t,o=this.distance(t,q),s=l):p>1&&l===h.numberPoints-2&&(r=u,o=this.distance(r,q),s=h.numberPoints-1),n>o&&(n=o,g=s,j=r),3===h.bezierDegree?(m++,l+=2):t=u;k=new c(b.COORDS_BY_USER,j,i)}else{for(w=function(b){var c=a-h.X(b),e=d-h.Y(b);return c*c+e*e},z=w(g),B=50,A=(h.maxX()-h.minX())/B,x=h.minX(),l=0;B>l;l++)y=w(x),z>y&&(g=x,z=y),x+=A;g=e.fminbr(w,[g-A,g+A]),g<h.minX()&&(g=h.maxX()+g-h.minX()),g>h.maxX()&&(g=h.minX()+g-h.maxX()),k=new c(b.COORDS_BY_USER,[h.X(g),h.Y(g)],i)}return[h.updateTransform(k),g]},projectCoordsToPolygon:function(b,c){var d,e,f,g,h=c.vertices.length,i=1/0;for(d=0;h>d;d++)f=a.Math.Geometry.projectCoordsToSegment(b,c.vertices[d].coords.usrCoords,c.vertices[(d+1)%h].coords.usrCoords),e=a.Math.Geometry.distance(f[0],b,3),0<=f[1]&&f[1]<=1&&i>e&&(g=f[0].slice(0),i=e);return g},projectPointToTurtle:function(a,d,e){var g,h,i,j,k,l,m,n,o=0,p=0,q=Number.POSITIVE_INFINITY,r=d.objects.length;for(f.exists(e)||(e=a.board),k=0;r>k;k++)m=d.objects[k],m.elementClass===b.OBJECT_CLASS_CURVE&&(g=this.projectPointToCurve(a,m),l=this.distance(g.usrCoords,a.coords.usrCoords),q>l&&(i=g.usrCoords[1],j=g.usrCoords[2],h=a.position,q=l,n=m,p=o),o+=m.numberPoints);return g=new c(b.COORDS_BY_USER,[i,j],e),a.position=h+p,n.updateTransform(g)},projectPointToPoint:function(a,b){return b.coords},projectPointToBoard:function(a,b){var c,e,f,g=b||a.board,h=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],i=a.coords||a,j=g.getBoundingBox();for(c=0;4>c;c++)f=h[c],f[0]*i.usrCoords[f[1]]<f[0]*j[f[2]]&&(e=d.crossProduct([1,j[f[3]],j[f[4]]],[1,j[f[5]],j[f[6]]]),e[3]=0,e=d.normalize(e),i=this.projectPointToLine({coords:i},{stdform:e},g));return i},distPointLine:function(a,b){var c,e=b[1],f=b[2],g=b[0];return Math.abs(e)+Math.abs(f)<d.eps?Number.POSITIVE_INFINITY:(c=e*a[1]+f*a[2]+g,e*=e,f*=f,Math.abs(c)/Math.sqrt(e+f))},reuleauxPolygon:function(a,b){var c,e=2*Math.PI,f=e/b,g=(b-1)/2,h=0,i=function(i,j){return function(k,l){var m=(k%e+e)%e,n=Math.floor(m/f)%b;return l||(h=a[0].Dist(a[g]),c=d.Geometry.rad([a[0].X()+1,a[0].Y()],a[0],a[g%b])),isNaN(n)?n:(m=.5*m+n*f*.5+c,a[n][i]()+h*Math[j](m))}};return[i("X","cos"),i("Y","sin"),0,e]}}),d.Geometry}),define("utils/zip",["jxg"],function(a){"use strict";var b=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=256;
return a.Util=a.Util||{},a.Util.Unzip=function(i){function j(){return L+=8,I>J?i[J++]:-1}function k(){K=1}function l(){var a;try{return L++,a=1&K,K>>=1,0===K&&(K=j(),a=1&K,K=K>>1|128),a}catch(b){throw b}}function m(a){var c=0,d=a;try{for(;d--;)c=c<<1|l();a&&(c=b[c]>>8-a)}catch(e){throw e}return c}function n(){G=0}function o(a){x++,F[G++]=a,C.push(String.fromCharCode(a)),32768===G&&(G=0)}function p(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function q(){for(;;){if(R[Q]>=A)return-1;if(z[R[Q]]===Q)return R[Q]++;R[Q]++}}function r(){var a,b=P[O];if(17===Q)return-1;if(O++,Q++,a=q(),a>=0)b.b0=a;else if(b.b0=32768,r())return-1;if(a=q(),a>=0)b.b1=a,b.jump=null;else if(b.b1=32768,b.jump=P[O],b.jumppos=O,r())return-1;return Q--,0}function s(a,b,c,d){var e;for(P=a,O=0,z=c,A=b,e=0;17>e;e++)R[e]=0;return Q=0,r()?-1:0}function t(a){for(var b,c,d,e=0,f=a[e];;)if(d=l()){if(!(32768&f.b1))return f.b1;for(f=f.jump,b=a.length,c=0;b>c;c++)if(a[c]===f){e=c;break}}else{if(!(32768&f.b0))return f.b0;e++,f=a[e]}}function u(){var h,i,q,r,u,v,w,x,y,z,A,B,C,D,E,H,I;do if(h=l(),q=m(2),0===q)for(k(),z=j(),z|=j()<<8,B=j(),B|=j()<<8,65535&(z^~B)&&a.debug("BlockLen checksum mismatch\n");z--;)i=j(),o(i);else if(1===q)for(;;)if(u=b[m(7)]>>1,u>23?(u=u<<1|l(),u>199?(u-=128,u=u<<1|l()):(u-=48,u>143&&(u+=136))):u+=256,256>u)o(u);else{if(256===u)break;for(u-=257,y=m(d[u])+c[u],u=b[m(5)]>>3,f[u]>8?(A=m(8),A|=m(f[u]-8)<<8):A=m(f[u]),A+=e[u],u=0;y>u;u++)i=F[G-A&32767],o(i)}else if(2===q){for(w=new Array(320),D=257+m(5),E=1+m(5),H=4+m(4),u=0;19>u;u++)w[u]=0;for(u=0;H>u;u++)w[g[u]]=m(3);for(y=N.length,r=0;y>r;r++)N[r]=new p;if(s(N,19,w,0))return n(),1;for(C=D+E,r=0,I=-1;C>r;)if(I++,u=t(N),16>u)w[r++]=u;else if(16===u){if(u=3+m(2),r+u>C)return n(),1;for(v=r?w[r-1]:0;u--;)w[r++]=v}else{if(u=17===u?3+m(3):11+m(7),r+u>C)return n(),1;for(;u--;)w[r++]=0}for(y=M.length,r=0;y>r;r++)M[r]=new p;if(s(M,D,w,0))return n(),1;for(y=M.length,r=0;y>r;r++)N[r]=new p;for(x=[],r=D;r<w.length;r++)x[r-D]=w[r];if(s(N,E,x,0))return n(),1;for(;;)if(u=t(M),u>=256){if(u-=256,0===u)break;for(u-=1,y=m(d[u])+c[u],u=t(N),f[u]>8?(A=m(8),A|=m(f[u]-8)<<8):A=m(f[u]),A+=e[u];y--;)i=F[G-A&32767],o(i)}else o(u)}while(!h);return n(),k(),0}function v(){var a,b,c,d,e,f,g,i,k=[];try{if(C=[],H=!1,k[0]=j(),k[1]=j(),120===k[0]&&218===k[1]&&(u(),E[D]=[C.join(""),"geonext.gxt"],D++),31===k[0]&&139===k[1]&&(B(),E[D]=[C.join(""),"file"],D++),80===k[0]&&75===k[1]&&(H=!0,k[2]=j(),k[3]=j(),3===k[2]&&4===k[3])){for(k[0]=j(),k[1]=j(),w=j(),w|=j()<<8,i=j(),i|=j()<<8,j(),j(),j(),j(),g=j(),g|=j()<<8,g|=j()<<16,g|=j()<<24,f=j(),f|=j()<<8,f|=j()<<16,f|=j()<<24,e=j(),e|=j()<<8,e|=j()<<16,e|=j()<<24,d=j(),d|=j()<<8,c=j(),c|=j()<<8,a=0,S=[];d--;)b=j(),"/"===b|":"===b?a=0:h-1>a&&(S[a++]=String.fromCharCode(b));for(y||(y=S),a=0;c>a;)b=j(),a++;x=0,8===i&&(u(),E[D]=new Array(2),E[D][0]=C.join(""),E[D][1]=S.join(""),D++),B()}}catch(l){throw l}}var w,x,y,z,A,B,C=[],D=0,E=[],F=new Array(32768),G=0,H=!1,I=i.length,J=0,K=1,L=0,M=new Array(288),N=new Array(32),O=0,P=null,Q=(new Array(64),new Array(64),0),R=new Array(17),S=[];R[0]=0,B=function(){var a,b,c,d,e,f,g=[];if(8&w&&(g[0]=j(),g[1]=j(),g[2]=j(),g[3]=j(),80===g[0]&&75===g[1]&&7===g[2]&&8===g[3]?(a=j(),a|=j()<<8,a|=j()<<16,a|=j()<<24):a=g[0]|g[1]<<8|g[2]<<16|g[3]<<24,b=j(),b|=j()<<8,b|=j()<<16,b|=j()<<24,c=j(),c|=j()<<8,c|=j()<<16,c|=j()<<24),H&&v(),g[0]=j(),8===g[0]){if(w=j(),j(),j(),j(),j(),j(),d=j(),4&w)for(g[0]=j(),g[2]=j(),Q=g[0]+256*g[1],e=0;Q>e;e++)j();if(8&w)for(e=0,S=[],f=j();f;)("7"===f||":"===f)&&(e=0),h-1>e&&(S[e++]=f),f=j();if(16&w)for(f=j();f;)f=j();2&w&&(j(),j()),u(),a=j(),a|=j()<<8,a|=j()<<16,a|=j()<<24,c=j(),c|=j()<<8,c|=j()<<16,c|=j()<<24,H&&v()}},a.Util.Unzip.prototype.unzipFile=function(a){var b;for(this.unzip(),b=0;b<E.length;b++)if(E[b][1]===a)return E[b][0];return""},a.Util.Unzip.prototype.unzip=function(){return v(),E}},a.Util}),define("utils/encoding",["jxg"],function(a){"use strict";var b=0,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];return a.Util=a.Util||{},a.Util.UTF8={encode:function(a){var b,c,d="",e=a.length;if(a=a.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(a));for(b=0;e>b;b++)c=a.charCodeAt(b),128>c?d+=String.fromCharCode(c):c>127&&2048>c?(d+=String.fromCharCode(c>>6|192),d+=String.fromCharCode(63&c|128)):(d+=String.fromCharCode(c>>12|224),d+=String.fromCharCode(c>>6&63|128),d+=String.fromCharCode(63&c|128));return d},decode:function(a){var d,e,f,g=0,h=0,i=b,j=[],k=a.length,l=[];for(d=0;k>d;d++)e=a.charCodeAt(d),f=c[e],h=i!==b?63&e|h<<6:255>>f&e,i=c[256+i+f],i===b&&(h>65535?j.push(55232+(h>>10),56320+(1023&h)):j.push(h),g++,g%1e4===0&&(l.push(String.fromCharCode.apply(null,j)),j=[]));return l.push(String.fromCharCode.apply(null,j)),l.join("")},asciiCharCodeAt:function(a,b){var c=a.charCodeAt(b);if(c>255)switch(c){case 8364:c=128;break;case 8218:c=130;break;case 402:c=131;break;case 8222:c=132;break;case 8230:c=133;break;case 8224:c=134;break;case 8225:c=135;break;case 710:c=136;break;case 8240:c=137;break;case 352:c=138;break;case 8249:c=139;break;case 338:c=140;break;case 381:c=142;break;case 8216:c=145;break;case 8217:c=146;break;case 8220:c=147;break;case 8221:c=148;break;case 8226:c=149;break;case 8211:c=150;break;case 8212:c=151;break;case 732:c=152;break;case 8482:c=153;break;case 353:c=154;break;case 8250:c=155;break;case 339:c=156;break;case 382:c=158;break;case 376:c=159}return c}},a.Util.UTF8}),define("utils/base64",["jxg","utils/encoding"],function(a,b){"use strict";function c(a,b){return 255&a.charCodeAt(b)}function d(a,b){var c=e.indexOf(a.charAt(b));if(-1===c)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid character).");return c}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="=";return a.Util=a.Util||{},a.Util.Base64={encode:function(a){var d,g,h,i,j,k=[];for(j=b.encode(a),h=j.length,i=h%3,d=0;h-i>d;d+=3)g=c(j,d)<<16|c(j,d+1)<<8|c(j,d+2),k.push(e.charAt(g>>18),e.charAt(g>>12&63),e.charAt(g>>6&63),e.charAt(63&g));switch(i){case 1:g=c(j,h-1),k.push(e.charAt(g>>2),e.charAt(g<<4&63),f,f);break;case 2:g=c(j,h-2)<<8|c(j,h-1),k.push(e.charAt(g>>10),e.charAt(g>>4&63),e.charAt(g<<2&63),f)}return k.join("")},decode:function(a,c){var e,g,h,i,j,k,l=[],m=[];if(e=a.replace(/[^A-Za-z0-9\+\/=]/g,""),h=e.length,h%4!==0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(e.charAt(h-1)===f&&(i=1,e.charAt(h-2)===f&&(i=2),h-=4),g=0;h>g;g+=4)j=d(e,g)<<18|d(e,g+1)<<12|d(e,g+2)<<6|d(e,g+3),m.push(j>>16,j>>8&255,255&j),g%1e4===0&&(l.push(String.fromCharCode.apply(null,m)),m=[]);switch(i){case 1:j=d(e,h)<<12|d(e,h+1)<<6|d(e,h+2),m.push(j>>10,j>>2&255);break;case 2:j=d(e,g)<<6|d(e,g+1),m.push(j>>4)}return l.push(String.fromCharCode.apply(null,m)),k=l.join(""),c&&(k=b.decode(k)),k},decodeAsArray:function(a){var b,c=this.decode(a),d=[],e=c.length;for(b=0;e>b;b++)d[b]=c.charCodeAt(b);return d}},a.Util.Base64}),define("server/server",["jxg","utils/zip","utils/base64","utils/type"],function(a,b,c,d){"use strict";return a.Server={modules:{},runningCalls:{},handleError:function(b){a.debug("error occured, server says: "+b.message)},callServer:function(e,f,g,h){var i,j,k,l,m,n,o;h=h||!1,l="";for(o in g)g.hasOwnProperty(o)&&(l+="&"+escape(o)+"="+escape(g[o]));n=d.toJSON(g);do m=e+Math.floor(4096*Math.random());while(d.exists(this.runningCalls[m]));return this.runningCalls[m]={action:e},d.exists(g.module)&&(this.runningCalls[m].module=g.module),i=a.serverBase+"JXGServer.py",j="action="+escape(e)+"&id="+m+"&dataJSON="+escape(c.encode(n)),this.cbp=function(a){var e,g,h,i,j,k,l,m;if(e=new b.Unzip(c.decodeAsArray(a)).unzip(),d.isArray(e)&&e.length>0&&(e=e[0][0]),d.exists(e))if(g=window.JSON&&window.JSON.parse?window.JSON.parse(e):new Function("return "+e)(),"error"===g.type)this.handleError(g);else if("response"===g.type){for(k=g.id,l=0;l<g.fields.length;l++)h=g.fields[l],i=h.namespace+("object"==typeof new Function("return "+h.namespace)()?".":".prototype.")+h.name+" = "+h.value,new Function(i)();for(l=0;l<g.handler.length;l++){for(h=g.handler[l],j=[],m=0;m<h.parameters.length;m++)j[m]='"'+h.parameters[m]+'": '+h.parameters[m];i="if(typeof JXG.Server.modules."+this.runningCalls[k].module+' == "undefined")JXG.Server.modules.'+this.runningCalls[k].module+" = {};",i+="JXG.Server.modules."+this.runningCalls[k].module+"."+h.name+"_cb = "+h.callback+";",i+="JXG.Server.modules."+this.runningCalls[k].module+"."+h.name+" = function ("+h.parameters.join(",")+', __JXGSERVER_CB__, __JXGSERVER_SYNC) {if(typeof __JXGSERVER_CB__ == "undefined") __JXGSERVER_CB__ = JXG.Server.modules.'+this.runningCalls[k].module+"."+h.name+"_cb;var __JXGSERVER_PAR__ = {"+j.join(",")+', "module": "'+this.runningCalls[k].module+'", "handler": "'+h.name+'" };JXG.Server.callServer("exec", __JXGSERVER_CB__, __JXGSERVER_PAR__, __JXGSERVER_SYNC);};',new Function(i)()}delete this.runningCalls[k],f(g.data)}},this.cb=a.bind(this.cbp,this),window.XMLHttpRequest?(k=new XMLHttpRequest,k.overrideMimeType("text/plain; charset=iso-8859-1")):k=new ActiveXObject("Microsoft.XMLHTTP"),k&&(k.open("POST",i,!h),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h||(k.onreadystatechange=function(a){return function(){return 4===k.readyState&&200===k.status?(a(k.responseText),!0):!1}}(this.cb)),k.send(j),h)?(this.cb(k.responseText),!0):!1},loadModule_cb:function(b){var c;for(c=0;c<b.length;c++)a.debug(b[c].name+": "+b[c].value)},loadModule:function(b){return a.Server.callServer("load",a.Server.loadModule_cb,{module:b},!0)}},a.Server.load=a.Server.loadModule,a.Server}),define("math/symbolic",["jxg","base/constants","base/coords","math/math","math/geometry","server/server","utils/type"],function(a,b,c,d,e,f,g){"use strict";var h;return d.Symbolic={generateSymbolicCoordinatesPartial:function(a,b,c,d){var e,f,h,i=b.ancestors,j=0,k=function(a){var b;return b="underscore"===d?c+"_{"+a+"}":"brace"===d?c+"["+a+"]":c+a};a.listOfFreePoints=[],a.listOfDependantPoints=[];for(f in i)if(i.hasOwnProperty(f)&&(e=0,g.isPoint(i[f]))){for(h in i[f].ancestors)i[f].ancestors.hasOwnProperty(h)&&e++;0===e?(i[f].symbolic.x=i[f].coords.usrCoords[1],i[f].symbolic.y=i[f].coords.usrCoords[2],a.listOfFreePoints.push(i[f])):(j+=1,i[f].symbolic.x=k(j),j+=1,i[f].symbolic.y=k(j),a.listOfDependantPoints.push(i[f]))}return g.isPoint(b)&&(b.symbolic.x="x",b.symbolic.y="y"),j},clearSymbolicCoordinates:function(a){var b=function(a){var b,c=a&&a.length||0;for(b=0;c>b;b++)g.isPoint(a[b])&&(a[b].symbolic.x="",a[b].symbolic.y="")};b(a.listOfFreePoints),b(a.listOfDependantPoints),delete a.listOfFreePoints,delete a.listOfDependantPoints},generatePolynomials:function(a,b,c){var d,e,f,h,i=b.ancestors,j=[],k=[];c&&this.generateSymbolicCoordinatesPartial(a,b,"u","brace"),i[b.id]=b;for(d in i)if(i.hasOwnProperty(d)&&(h=0,j=[],g.isPoint(i[d]))){for(e in i[d].ancestors)i[d].ancestors.hasOwnProperty(e)&&h++;if(h>0)for(j=i[d].generatePolynomial(),f=0;f<j.length;f++)k.push(j[f])}return c&&this.clearSymbolicCoordinates(a),k},geometricLocusByGroebnerBase:function(a,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.options.locus,x={},y=this.generateSymbolicCoordinatesPartial(a,i,"u","brace"),z=new c(b.COORDS_BY_USR,[0,0],a),A=new c(b.COORDS_BY_USR,[a.canvasWidth,a.canvasHeight],a),B=1,C=0,D=0,E=0;if(f.modules.geoloci===h&&f.loadModule("geoloci"),f.modules.geoloci===h)throw new Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");if(p=z.usrCoords[1],q=A.usrCoords[1],r=A.usrCoords[2],s=z.usrCoords[2],w.translateToOrigin&&a.listOfFreePoints.length>0){for(m=w.toOrigin!==h&&null!==w.toOrigin&&g.isInArray(a.listOfFreePoints,w.toOrigin.id)?w.toOrigin:a.listOfFreePoints[0],C=m.symbolic.x,D=m.symbolic.y,o=0;o<a.listOfFreePoints.length;o++)a.listOfFreePoints[o].symbolic.x-=C,a.listOfFreePoints[o].symbolic.y-=D;if(p-=C,q-=C,r-=D,s-=D,w.translateTo10&&a.listOfFreePoints.length>1){for(n=w.to10!==h&&null!==w.to10&&w.to10.id!==w.toOrigin.id&&g.isInArray(a.listOfFreePoints,w.to10.id)?w.to10:a.listOfFreePoints[0].id===m.id?a.listOfFreePoints[1]:a.listOfFreePoints[0],E=e.rad([1,0],[0,0],[n.symbolic.x,n.symbolic.y]),t=Math.cos(-E),u=Math.sin(-E),o=0;o<a.listOfFreePoints.length;o++)v=a.listOfFreePoints[o].symbolic.x,a.listOfFreePoints[o].symbolic.x=t*a.listOfFreePoints[o].symbolic.x-u*a.listOfFreePoints[o].symbolic.y,a.listOfFreePoints[o].symbolic.y=u*v+t*a.listOfFreePoints[o].symbolic.y;if(n.symbolic.y=0,v=p,p=t*p-u*r,r=u*v+t*r,v=q,q=t*q-u*s,s=u*v+t*s,w.stretch&&Math.abs(n.symbolic.x)>d.eps){for(B=n.symbolic.x,o=0;o<a.listOfFreePoints.length;o++)a.listOfFreePoints[o].symbolic.x/=B,a.listOfFreePoints[o].symbolic.y/=B;for(o=0;o<a.objectsList.length;o++)a.objectsList[o].elementClass===b.OBJECT_CLASS_CIRCLE&&"pointRadius"===a.objectsList[o].method&&(x[o]=a.objectsList[o].radius,a.objectsList[o].radius/=B);p/=B,q/=B,r/=B,s/=B,n.symbolic.x=1}}for(o=0;o<a.listOfFreePoints.length;o++)v=a.listOfFreePoints[o].symbolic.x,Math.abs(v)<d.eps&&(a.listOfFreePoints[o].symbolic.x=0),Math.abs(v-Math.round(v))<d.eps&&(a.listOfFreePoints[o].symbolic.x=Math.round(v)),v=a.listOfFreePoints[o].symbolic.y,Math.abs(v)<d.eps&&(a.listOfFreePoints[o].symbolic.y=0),Math.abs(v-Math.round(v))<d.eps&&(a.listOfFreePoints[o].symbolic.y=Math.round(v))}j=this.generatePolynomials(a,i),k=j.join(","),this.cbp=function(a){l=a},this.cb=g.bind(this.cbp,this),f.modules.geoloci.lociCoCoA(p,q,r,s,y,k,B,E,C,D,this.cb,!0),this.clearSymbolicCoordinates(a);for(o in x)x.hasOwnProperty(o)&&(a.objects[o].radius=x[o]);return l}},d.Symbolic}),define("math/poly",["jxg","math/math","utils/type"],function(a,b,c){"use strict";return b.Poly={},b.Poly.Ring=function(a){this.vars=a},a.extend(b.Poly.Ring.prototype,{}),b.Poly.Monomial=function(a,b,d){var e;if(!c.exists(a))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(c.isArray(d)||(d=[]),d=d.slice(0,a.vars.length),e=d.length;e<a.vars.length;e++)d.push(0);this.ring=a,this.coefficient=b||0,this.exponents=c.deepCopy(d)},a.extend(b.Poly.Monomial.prototype,{copy:function(){return new b.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var a,b=[];for(a=0;a<this.ring.vars.length;a++)b.push(this.ring.vars[a]+"^"+this.exponents[a]);return this.coefficient+"*"+b.join("*")}}),b.Poly.Polynomial=function(a,b){var d,e=function(){};if(!c.exists(a))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");d=c.exists(b)&&"string"==typeof b?e(b):[],this.ring=a,this.monomials=d},a.extend(b.Poly.Polynomial.prototype,{findSignature:function(a){var b;for(b=0;b<this.monomials.length;b++)if(c.cmpArrays(this.monomials[b].exponents,a))return b;return-1},addSubMonomial:function(a,b){var c;c=this.findSignature(a.exponents),c>-1?this.monomials[c].coefficient+=b*a.coefficient:(a.coefficient*=b,this.monomials.push(a))},add:function(a){var b;if(!c.exists(a)||a.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.");if(c.isArray(a.exponents))this.addSubMonomial(a,1);else for(b=0;b<a.monomials.length;b++)this.addSubMonomial(a.monomials[b],1)},sub:function(a){var b;if(!c.exists(a)||a.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.");if(c.isArray(a.exponents))this.addSubMonomial(a,-1);else for(b=0;b<a.monomials.length;b++)this.addSubMonomial(a.monomials[b],-1)},copy:function(){var a,c;for(c=new b.Poly.Polynomial(this.ring),a=0;a<this.monomials.length;a++)c.monomials.push(this.monomials[a].copy());return c},print:function(){var a,b=[];for(a=0;a<this.monomials.length;a++)b.push("("+this.monomials[a].print()+")");return b.join("+")}}),b.Poly}),define("math/complex",["jxg","math/math"],function(a){"use strict";return a.Complex=function(a,b){this.isComplex=!0,a&&a.isComplex&&(b=a.imaginary,a=a.real),this.real=a||0,this.imaginary=b||0,this.absval=0,this.angle=0},a.extend(a.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(a){return"number"==typeof a?this.real+=a:(this.real+=a.real,this.imaginary+=a.imaginary),this},sub:function(a){return"number"==typeof a?this.real-=a:(this.real-=a.real,this.imaginary-=a.imaginary),this},mult:function(a){var b,c;return"number"==typeof a?(this.real*=a,this.imaginary*=a):(b=this.real,c=this.imaginary,this.real=b*a.real-c*a.imaginary,this.imaginary=b*a.imaginary+c*a.real),this},div:function(a){var b,c,d;if("number"==typeof a){if(Math.abs(a)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=a,this.imaginary/=a}else{if(Math.abs(a.real)<Math.eps&&Math.abs(a.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;b=a.real*a.real+a.imaginary*a.imaginary,d=this.real,c=this.imaginary,this.real=(d*a.real+c*a.imaginary)/b,this.imaginary=(c*a.real-d*a.imaginary)/b}return this},conj:function(){return this.imaginary*=-1,this}}),a.C={},a.C.add=function(b,c){var d=new a.Complex(b);return d.add(c),d},a.C.sub=function(b,c){var d=new a.Complex(b);return d.sub(c),d},a.C.mult=function(b,c){var d=new a.Complex(b);return d.mult(c),d},a.C.div=function(b,c){var d=new a.Complex(b);return d.div(c),d},a.C.conj=function(b){var c=new a.Complex(b);return c.conj(),c},a.C.abs=function(b){var c=new a.Complex(b);return c.conj(),c.mult(b),Math.sqrt(c.real)},a.Complex.C=a.C,a.Complex}),define("utils/color",["jxg","utils/type","math/math"],function(a,b,c){"use strict";var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},e=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];return a.rgbParser=function(a,c,f){var g,h,i,j,k,l,m,n,o,p=a,q=!1;if(!b.exists(a))return[];if(b.exists(c)&&b.exists(f)&&(p=[a,c,f]),g=p,b.isArray(g)){for(l=0;3>l;l++)q=q||/\./.test(p[l].toString());for(l=0;3>l;l++)q=q&&p[l]>=0&&p[l]<=1;return q?[Math.ceil(255*p[0]),Math.ceil(255*p[1]),Math.ceil(255*p[2])]:p}for("string"==typeof p&&(g=p),"#"===g.charAt(0)&&(g=g.substr(1,6)),g=g.replace(/ /g,"").toLowerCase(),g=d[g]||g,l=0;l<e.length;l++)i=e[l].re,j=e[l].process,k=i.exec(g),k&&(h=j(k),m=h[0],n=h[1],o=h[2]);return isNaN(m)||isNaN(n)||isNaN(o)?[]:(m=0>m||isNaN(m)?0:m>255?255:m,n=0>n||isNaN(n)?0:n>255?255:n,o=0>o||isNaN(o)?0:o>255?255:o,[m,n,o])},a.rgb2css=function(b,c,d){var e;return e=a.rgbParser(b,c,d),"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},a.rgb2hex=function(b,c,d){var e,f,g;return e=a.rgbParser(b,c,d),f=e[1],g=e[2],e=e[0],e=e.toString(16),f=f.toString(16),g=g.toString(16),1===e.length&&(e="0"+e),1===f.length&&(f="0"+f),1===g.length&&(g="0"+g),"#"+e+f+g},a.hex2rgb=function(b){return a.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),a.rgb2css(b)},a.hsv2rgb=function(a,b,d){var e,f,g,h,i,j,k,l,m;if(a=(a%360+360)%360,0===b){if(!(isNaN(a)||a<c.eps))return"#ffffff";e=d,f=d,g=d}else switch(j=a>=360?0:a,j/=60,i=Math.floor(j),h=j-i,k=d*(1-b),l=d*(1-b*h),m=d*(1-b*(1-h)),i){case 0:e=d,f=m,g=k;break;case 1:e=l,f=d,g=k;break;case 2:e=k,f=d,g=m;break;case 3:e=k,f=l,g=d;break;case 4:e=m,f=k,g=d;break;case 5:e=d,f=k,g=l}return e=Math.round(255*e).toString(16),e=2===e.length?e:1===e.length?"0"+e:"00",f=Math.round(255*f).toString(16),f=2===f.length?f:1===f.length?"0"+f:"00",g=Math.round(255*g).toString(16),g=2===g.length?g:1===g.length?"0"+g:"00",["#",e,f,g].join("")},a.rgb2hsv=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;return e=a.rgbParser(b,c,d),f=e[1],g=e[2],e=e[0],h=e/255,i=f/255,j=g/255,p=Math.max(e,f,g),q=Math.min(e,f,g),k=p/255,l=q/255,o=k,n=0,o>0&&(n=(o-l)/o),m=1/(k-l),n>0&&(m=p===e?(i-j)*m:p===f?2+(j-h)*m:4+(h-i)*m),m*=60,0>m&&(m+=360),p===q&&(m=0),[m,n,o]},a.rgb2LMS=function(b,c,d){var e,f,g,h,i,j,k,l=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return e=a.rgbParser(b,c,d),f=e[1],g=e[2],e=e[0],e=Math.pow(e,.476190476),f=Math.pow(f,.476190476),g=Math.pow(g,.476190476),h=e*l[0][0]+f*l[0][1]+g*l[0][2],i=e*l[1][0]+f*l[1][1]+g*l[1][2],j=e*l[2][0]+f*l[2][1]+g*l[2][2],k=[h,i,j],k.l=h,k.m=i,k.s=j,k},a.LMS2rgb=function(a,b,c){var d,e,f,g,h=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],i=function(a){for(var b=127,c=64;c>0;){if(Math.pow(b,.476190476)>a)b-=c;else{if(Math.pow(b+1,.476190476)>a)return b;b+=c}c/=2}return 254===b&&a>13.994955247?255:b};return d=a*h[0][0]+b*h[0][1]+c*h[0][2],e=a*h[1][0]+b*h[1][1]+c*h[1][2],f=a*h[2][0]+b*h[2][1]+c*h[2][2],d=i(d),e=i(e),f=i(f),g=[d,e,f],g.r=d,g.g=e,g.b=f,g},a.rgba2rgbo=function(a){var b;return 9===a.length&&"#"===a.charAt(0)?(b=parseInt(a.substr(7,2).toUpperCase(),16)/255,a=a.substr(0,7)):b=1,[a,b]},a.rgbo2rgba=function(a,b){var c;return"none"===a?a:(c=Math.round(255*b).toString(16),1===c.length&&(c="0"+c),a+c)},a.rgb2bw=function(b){var c,d,e,f="0123456789ABCDEF";return"none"===b?b:(e=a.rgbParser(b),c=Math.floor(.3*e[0]+.59*e[1]+.11*e[2]),d=f.charAt(c>>4&15)+f.charAt(15&c),b="#"+d+d+d)},a.rgb2cb=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q="0123456789ABCDEF";if("none"===b)return b;switch(h=a.rgb2LMS(b),e=h[0],f=h[1],g=h[2],c=c.toLowerCase()){case"protanopia":j=-.06150039994295001,k=.08277001656812001,l=-.013200141220000003,m=.05858939668799999,n=-.07934519995360001,o=.013289415272000003,p=.6903216543277437,i=g/f,e=p>i?-(k*f+l*g)/j:-(n*f+o*g)/m;break;case"tritanopia":j=-.00058973116217,k=.007690316482,l=-.01011703519052,m=.025495080838999994,n=-.0422740347,o=.017005316784,p=.8349489908460004,i=f/e,g=p>i?-(j*e+k*f)/l:-(m*e+n*f)/o;break;default:j=-.06150039994295001,k=.08277001656812001,l=-.013200141220000003,m=.05858939668799999,n=-.07934519995360001,o=.013289415272000003,p=.5763833686400911,i=g/e,f=p>i?-(j*e+l*g)/k:-(m*e+o*g)/n}return d=a.LMS2rgb(e,f,g),i=q.charAt(d[0]>>4&15)+q.charAt(15&d[0]),b="#"+i,i=q.charAt(d[1]>>4&15)+q.charAt(15&d[1]),b+=i,i=q.charAt(d[2]>>4&15)+q.charAt(15&d[2]),b+=i},a.autoHighlight=function(b){var c=a.rgba2rgbo(b),d=c[0],e=c[1];return"#"===b.charAt(0)?(e*=.3>e?1.8:.4,a.rgbo2rgba(d,e)):b},a}),define("options",["jxg","base/constants","math/math","utils/color","utils/type"],function(a,b,c,d,e){"use strict";return a.Options={jc:{enabled:!0,compile:!0},board:{boundingBox:[-5,5,5,-5],zoomFactor:1,zoomX:1,zoomY:1,showCopyright:!0,axis:!1,showNavigation:!0,showReload:!1,showClearTraces:!1,keepAspectRatio:!1,ignoreLabels:!0,maxNameLength:1,document:!1,takeFirst:!1,takeSizeFromFile:!1,renderer:"svg",animationDelay:35,registerEvents:!0,minimizeReflow:"svg",offsetX:0,offsetY:0,zoom:{factorX:1.25,factorY:1.25,wheel:!1,needshift:!1,eps:.1},pan:{needShift:!0,needTwoFingers:!0,enabled:!0}},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",fillColor:"red",highlightFillColor:"none",strokeOpacity:1,highlightStrokeOpacity:1,fillOpacity:1,highlightFillOpacity:1,strokeWidth:2,highlightStrokeWidth:2,fixed:!1,frozen:!1,withLabel:!1,visible:!0,priv:!1,layer:0,dash:0,shadow:!1,trace:!1,traceAttributes:{},highlight:!0,needsRegularUpdate:!0,snapToGrid:!1,scalable:!0,draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},isLabel:!1},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],minorTicks:4,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,ticksDistance:1,strokeOpacity:1,strokeWidth:1,strokeColor:"black",highlightStrokeColor:"#888888",includeBoundaries:!1},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",strokeWidth:2,strokeColor:"blue",ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:.5,type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:"#FF7F00",highlightFillColor:"#FF7F00",strokeColor:"#FF7F00",fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"black",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:"#0000FF"},arc:{visible:!1}},arc:{label:{},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",useDirection:!1},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",withTicks:!0,straightFirst:!0,straightLast:!0,lastArrow:!0,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1},needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1},point2:{needsRegularUpdate:!1},label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"black"},line2:{strokeColor:"black"}},button:{disabled:!1},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#C3D9FF","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,label:{}},checkbox:{disabled:!1},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",center:{visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",center:{visible:!1,fixed:!1,withLabel:!1,name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:"#00FF00",highlightFillColor:"#00FF00",fillOpacity:.3,highlightFillOpacity:.3,strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",foci:{fixed:!1,visible:!1,withLabel:!1,name:""}},curve:{strokeWidth:1,strokeColor:"#0000ff",fillColor:"none",fixed:!0,useQDT:!1,handDrawing:!1,curveType:null,RDPsmoothing:!1,numberPointsHigh:1600,numberPointsLow:400,doAdvancedPlot:!0,doAdvancedPlotOld:!1,label:{position:"lft"}},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,gridX:1,gridY:1,strokeColor:"#C0C0C0",strokeOpacity:.5,strokeWidth:1,dash:0,snapToGrid:!1,snapSizeX:10,snapSizeY:10},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"black",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#C3D9FF",center:{visible:!1,fixed:!1,withLabel:!1,name:""}},inequality:{fillColor:"red",fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,needsRegularUpdate:!1},integral:{axis:"x",withLabel:!0,strokeWidth:0,strokeOpacity:0,fillOpacity:.8,curveLeft:{visible:!0,withLabel:!1,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20
}},input:{disabled:!1},intersection:{alwaysIntersect:!0},label:{strokeColor:"black",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"black",fixed:!0,position:"urt",offset:[10,10]},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#C3D9FF","#4096EE","#008C00"]},line:{firstArrow:!1,lastArrow:!1,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:"#0000ff",highlightStrokeColor:"#888888",withTicks:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,defaultDistance:1,strokeOpacity:.3},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,fillColor:"#ff0000",highlightFillColor:"#EEEEEE",strokeWidth:2,strokeColor:"#ff0000",highlightStrokeColor:"#C3D9FF",zoom:!1,showInfobox:!0,infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:"#00FF00",highlightFillColor:"#00FF00",fillOpacity:.3,highlightFillOpacity:.3,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!1,name:"",strokeColor:"#ff0000",fillColor:"#ff0000",fixed:!1},label:{offset:[0,0]}},prescribedangle:{anglepoint:{size:2,visible:!1,withLabel:!1}},regularpolygon:{hasInnerPoints:!1,fillColor:"#00FF00",highlightFillColor:"#00FF00",fillOpacity:.3,highlightFillOpacity:.3,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:"#ff0000",fillColor:"#ff0000",fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:"#ffff00"},sector:{fillColor:"#00FF00",highlightFillColor:"#00FF00",fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,arc:{visible:!1,fillColor:"none"},radiuspoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglepoint:{visible:!1,withLabel:!1},label:{offset:[0,0]}},segment:{label:{position:"top"}},semicircle:{midpoint:{visible:!1,withLabel:!1,fixed:!1,name:""}},slider:{snapWidth:-1,precision:2,firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,fixed:!0,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,drawZero:!0,insertTicks:!0,minorHeight:4,majorHeight:5,minorTicks:0,defaultDistance:1,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],strokeColor:"#000000"},highline:{strokeWidth:3,fixed:!0,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{strokeColor:"#000000"}},slopetriangle:{fillColor:"red",fillOpacity:.4,highlightFillColor:"red",highlightFillOpacity:.3,glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0}},stepfunction:{},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,precision:2,point1:{strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],defaultDistance:.1,strokeOpacity:1,strokeWidth:1,strokeColor:"#000000"},label:{position:"top"}},text:{fontSize:12,digits:2,parse:!0,useCaja:!1,isLabel:!1,strokeColor:"black",highlightStrokeColor:"black",highlightStrokeOpacity:.666666,useASCIIMathML:!1,useMathJax:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:"#ff0000"}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}},a.Validator=function(){var b,d=function(a){return/^[0-9]+px$/.test(a)},f=function(a){return"html"===a||"internal"===a},g=function(a){return e.isString(a)},h=function(b){return e.exists(a.normalizePointFace(b))},i=function(a){return Math.abs(a-Math.round(a))<c.eps},j=function(a){return i(a)&&a>0},k=function(a){return"vml"===a||"svg"===a||"canvas"===a||"no"===a},l=function(a){return a>0},m=function(a){return a>=0},n={},o={attractorDistance:m,color:g,defaultDistance:e.isNumber,display:f,doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:h,factor:e.isNumber,fillColor:g,fillOpacity:e.isNumber,firstArrow:!1,fontSize:i,dash:i,gridX:e.isNumber,gridY:e.isNumber,hasGrid:!1,highlightFillColor:g,highlightFillOpacity:e.isNumber,highlightStrokeColor:g,highlightStrokeOpacity:e.isNumber,insertTicks:!1,lastArrow:!1,majorHeight:i,minorHeight:i,minorTicks:m,minTicksDistance:j,numberPointsHigh:j,numberPointsLow:j,opacity:e.isNumber,radius:e.isNumber,RDPsmoothing:!1,renderer:k,right:d,showCopyright:!1,showInfobox:!1,showNavigation:!1,size:i,snapSizeX:l,snapSizeY:l,snapWidth:e.isNumber,snapToGrid:!1,snatchDistance:m,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:g,strokeOpacity:e.isNumber,strokeWidth:i,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(b in o)o.hasOwnProperty(b)&&(n[b.toLowerCase()]=o[b]);return n}(),a.normalizePointFace=function(a){var b={cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",diamond:"<>","<>":"<>",triangleup:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"};return b[a]},a.useStandardOptions=function(c){var d,e,f,g,h=a.Options,i=c.hasGrid;c.options.grid.hasGrid=h.grid.hasGrid,c.options.grid.gridX=h.grid.gridX,c.options.grid.gridY=h.grid.gridY,c.options.grid.gridColor=h.grid.gridColor,c.options.grid.gridOpacity=h.grid.gridOpacity,c.options.grid.gridDash=h.grid.gridDash,c.options.grid.snapToGrid=h.grid.snapToGrid,c.options.grid.snapSizeX=h.grid.SnapSizeX,c.options.grid.snapSizeY=h.grid.SnapSizeY,c.takeSizeFromFile=h.takeSizeFromFile,g=function(a,b){a.visProp.fillcolor=b.fillColor,a.visProp.highlightfillcolor=b.highlightFillColor,a.visProp.strokecolor=b.strokeColor,a.visProp.highlightstrokecolor=b.highlightStrokeColor};for(d in c.objects)if(c.objects.hasOwnProperty(d))if(f=c.objects[d],f.elementClass===b.OBJECT_CLASS_POINT)g(f,h.point);else if(f.elementClass===b.OBJECT_CLASS_LINE)for(g(f,h.line),e=0;e<f.ticks.length;e++)f.ticks[e].majorTicks=h.line.ticks.majorTicks,f.ticks[e].minTicksDistance=h.line.ticks.minTicksDistance,f.ticks[e].visProp.minorheight=h.line.ticks.minorHeight,f.ticks[e].visProp.majorheight=h.line.ticks.majorHeight;else f.elementClass===b.OBJECT_CLASS_CIRCLE?g(f,h.circle):f.type===b.OBJECT_TYPE_ANGLE?g(f,h.angle):f.type===b.OBJECT_TYPE_ARC?g(f,h.arc):f.type===b.OBJECT_TYPE_POLYGON?g(f,h.polygon):f.type===b.OBJECT_TYPE_CONIC?g(f,h.conic):f.type===b.OBJECT_TYPE_CURVE?g(f,h.curve):f.type===b.OBJECT_TYPE_SECTOR&&(f.arc.visProp.fillcolor=h.sector.fillColor,f.arc.visProp.highlightfillcolor=h.sector.highlightFillColor,f.arc.visProp.fillopacity=h.sector.fillOpacity,f.arc.visProp.highlightfillopacity=h.sector.highlightFillOpacity);c.fullUpdate(),i&&!c.hasGrid?c.removeGrids(c):!i&&c.hasGrid&&c.create("grid",[])},a.useBlackWhiteOptions=function(b){var c=a.Options;c.point.fillColor=d.rgb2bw(c.point.fillColor),c.point.highlightFillColor=d.rgb2bw(c.point.highlightFillColor),c.point.strokeColor=d.rgb2bw(c.point.strokeColor),c.point.highlightStrokeColor=d.rgb2bw(c.point.highlightStrokeColor),c.line.fillColor=d.rgb2bw(c.line.fillColor),c.line.highlightFillColor=d.rgb2bw(c.line.highlightFillColor),c.line.strokeColor=d.rgb2bw(c.line.strokeColor),c.line.highlightStrokeColor=d.rgb2bw(c.line.highlightStrokeColor),c.circle.fillColor=d.rgb2bw(c.circle.fillColor),c.circle.highlightFillColor=d.rgb2bw(c.circle.highlightFillColor),c.circle.strokeColor=d.rgb2bw(c.circle.strokeColor),c.circle.highlightStrokeColor=d.rgb2bw(c.circle.highlightStrokeColor),c.arc.fillColor=d.rgb2bw(c.arc.fillColor),c.arc.highlightFillColor=d.rgb2bw(c.arc.highlightFillColor),c.arc.strokeColor=d.rgb2bw(c.arc.strokeColor),c.arc.highlightStrokeColor=d.rgb2bw(c.arc.highlightStrokeColor),c.polygon.fillColor=d.rgb2bw(c.polygon.fillColor),c.polygon.highlightFillColor=d.rgb2bw(c.polygon.highlightFillColor),c.sector.fillColor=d.rgb2bw(c.sector.fillColor),c.sector.highlightFillColor=d.rgb2bw(c.sector.highlightFillColor),c.curve.strokeColor=d.rgb2bw(c.curve.strokeColor),c.grid.gridColor=d.rgb2bw(c.grid.gridColor),a.useStandardOptions(b)},a.Options.normalizePointFace=a.normalizePointFace,a.Options}),define("renderer/abstract",["jxg","options","base/coords","base/constants","math/math","math/geometry","utils/type","utils/env"],function(a,b,c,d,e,f,g,h){"use strict";return a.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type=""},a.extend(a.AbstractRenderer.prototype,{_updateVisual:function(a,b,c){(c||this.enhancedRendering)&&(b=b||{},a.visProp.draft?this.setDraft(a):(b.stroke||(this.setObjectStrokeColor(a,a.visProp.strokecolor,a.visProp.strokeopacity),this.setObjectStrokeWidth(a,a.visProp.strokewidth)),b.fill||this.setObjectFillColor(a,a.visProp.fillcolor,a.visProp.fillopacity),b.dash||this.setDashStyle(a,a.visProp),b.shadow||this.setShadow(a),b.gradient||this.setShadow(a)))},drawPoint:function(a){var c,d=b.normalizePointFace(a.visProp.face);c="o"===d?"ellipse":"[]"===d?"rect":"path",a.rendNode=this.appendChildPrim(this.createPrim(c,a.id),a.visProp.layer),this.appendNodesToElement(a,c),this._updateVisual(a,{dash:!0,shadow:!0},!0),this.updatePoint(a)},updatePoint:function(a){var c=a.visProp.size,d=b.normalizePointFace(a.visProp.face);isNaN(a.coords.scrCoords[2]+a.coords.scrCoords[1])||(this._updateVisual(a,{dash:!1,shadow:!1}),c*=a.board&&a.board.options.point.zoom?Math.sqrt(a.board.zoomX*a.board.zoomY):1,"o"===d?this.updateEllipsePrim(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2],c+1,c+1):"[]"===d?this.updateRectPrim(a.rendNode,a.coords.scrCoords[1]-c,a.coords.scrCoords[2]-c,2*c,2*c):this.updatePathPrim(a.rendNode,this.updatePathStringPoint(a,c,d),a.board),this.setShadow(a))},changePointStyle:function(a){var b=this.getElementById(a.id);g.exists(b)&&this.remove(b),this.drawPoint(a),g.clearVisPropOld(a),a.visProp.visible||this.hide(a),a.visProp.draft&&this.setDraft(a)},drawLine:function(a){a.rendNode=this.appendChildPrim(this.createPrim("line",a.id),a.visProp.layer),this.appendNodesToElement(a,"lines"),this.updateLine(a)},updateLine:function(a){var b,e,g,h,i,j,k,l,m=new c(d.COORDS_BY_USER,a.point1.coords.usrCoords,a.board),n=new c(d.COORDS_BY_USER,a.point2.coords.usrCoords,a.board),o=10,p=null;(a.visProp.firstarrow||a.visProp.lastarrow)&&(p=-4),f.calcStraight(a,m,n,p),i=j=k=l=0,(a.visProp.lastarrow||a.visProp.firstarrow)&&(e=a.point1.visProp.size,g=a.point2.visProp.size,b=e+g,a.visProp.lastarrow&&a.visProp.touchlastpoint&&(h=m.distance(d.COORDS_BY_SCREEN,n),h>b&&(k=(n.scrCoords[1]-m.scrCoords[1])*g/h,l=(n.scrCoords[2]-m.scrCoords[2])*g/h,n=new c(d.COORDS_BY_SCREEN,[n.scrCoords[1]-k,n.scrCoords[2]-l],a.board))),a.visProp.firstarrow&&a.visProp.touchfirstpoint&&(h=m.distance(d.COORDS_BY_SCREEN,n),h>b&&(i=(n.scrCoords[1]-m.scrCoords[1])*e/h,j=(n.scrCoords[2]-m.scrCoords[2])*e/h,m=new c(d.COORDS_BY_SCREEN,[m.scrCoords[1]+i,m.scrCoords[2]+j],a.board))),b=Math.max(3*parseInt(a.visProp.strokewidth,10),o),h=m.distance(d.COORDS_BY_SCREEN,n),a.visProp.lastarrow&&"vml"!==a.board.renderer.type&&h>=o&&(k=(n.scrCoords[1]-m.scrCoords[1])*b/h,l=(n.scrCoords[2]-m.scrCoords[2])*b/h),a.visProp.firstarrow&&"vml"!==a.board.renderer.type&&h>=o&&(i=(n.scrCoords[1]-m.scrCoords[1])*b/h,j=(n.scrCoords[2]-m.scrCoords[2])*b/h)),this.updateLinePrim(a.rendNode,m.scrCoords[1]+i,m.scrCoords[2]+j,n.scrCoords[1]-k,n.scrCoords[2]-l,a.board),this.makeArrows(a),this._updateVisual(a)},drawTicks:function(a){a.rendNode=this.appendChildPrim(this.createPrim("path",a.id),a.visProp.layer),this.appendNodesToElement(a,"path")},updateTicks:function(a){},drawCurve:function(a){a.rendNode=this.appendChildPrim(this.createPrim("path",a.id),a.visProp.layer),this.appendNodesToElement(a,"path"),this._updateVisual(a,{shadow:!0},!0),this.updateCurve(a)},updateCurve:function(a){this._updateVisual(a),a.visProp.handdrawing?this.updatePathPrim(a.rendNode,this.updatePathStringBezierPrim(a),a.board):this.updatePathPrim(a.rendNode,this.updatePathStringPrim(a),a.board),a.numberPoints>1&&this.makeArrows(a)},drawEllipse:function(a){a.rendNode=this.appendChildPrim(this.createPrim("ellipse",a.id),a.visProp.layer),this.appendNodesToElement(a,"ellipse"),this.updateEllipse(a)},updateEllipse:function(a){this._updateVisual(a);var b=a.Radius();b>0&&Math.abs(a.center.coords.usrCoords[0])>e.eps&&!isNaN(b+a.center.coords.scrCoords[1]+a.center.coords.scrCoords[2])&&b*a.board.unitX<2e6&&this.updateEllipsePrim(a.rendNode,a.center.coords.scrCoords[1],a.center.coords.scrCoords[2],b*a.board.unitX,b*a.board.unitY)},drawPolygon:function(a){a.rendNode=this.appendChildPrim(this.createPrim("polygon",a.id),a.visProp.layer),this.appendNodesToElement(a,"polygon"),this.updatePolygon(a)},updatePolygon:function(a){var b,c,d;for(this._updateVisual(a,{stroke:!0,dash:!0}),this.updatePolygonPrim(a.rendNode,a),c=a.vertices.length,d=!0,b=0;c>b;++b)if(!a.vertices[b].isReal){d=!1;break}for(c=a.borders.length,b=0;c>b;++b)d&&a.borders[b].visProp.visible?this.show(a.borders[b]):this.hide(a.borders[b])},displayCopyright:function(a,b){},drawInternalText:function(a){},updateInternalText:function(a){},drawText:function(a){var b,c;"html"===a.visProp.display&&h.isBrowser?(b=this.container.ownerDocument.createElement("div"),b.style.position="absolute",b.className=a.visProp.cssclass,c=""===this.container.style.zIndex?0:parseInt(this.container.style.zIndex,10),b.style.zIndex=c+a.board.options.layer.text,this.container.appendChild(b),b.setAttribute("id",this.container.id+"_"+a.id)):b=this.drawInternalText(a),a.rendNode=b,a.htmlStr="",this.updateText(a)},updateText:function(a){var b,c,d,e=a.plaintext;if(a.visProp.visible)if(this.updateTextStyle(a,!1),"html"===a.visProp.display){if(isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])||(c=a.coords.scrCoords[1],c=Math.abs(c)<1e6?c:1e6,b="right"===a.visProp.anchorx?Math.floor(a.board.canvasWidth-c):"middle"===a.visProp.anchorx?Math.floor(c-.5*a.size[0]):Math.floor(c),a.visPropOld.left!==a.visProp.anchorx+b&&("right"===a.visProp.anchorx?(a.rendNode.style.right=b+"px",a.rendNode.style.left="auto"):(a.rendNode.style.left=b+"px",a.rendNode.style.right="auto"),a.visPropOld.left=a.visProp.anchorx+b),c=a.coords.scrCoords[2]+this.vOffsetText,c=Math.abs(c)<1e6?c:1e6,b="bottom"===a.visProp.anchory?Math.floor(a.board.canvasHeight-c):"middle"===a.visProp.anchory?Math.floor(c-.5*a.size[1]):Math.floor(c),a.visPropOld.top!==a.visProp.anchory+b&&("bottom"===a.visProp.anchory?(a.rendNode.style.top="auto",a.rendNode.style.bottom=b+"px"):(a.rendNode.style.bottom="auto",a.rendNode.style.top=b+"px"),a.visPropOld.top=a.visProp.anchory+b)),a.htmlStr!==e){try{a.rendNode.innerHTML=e}catch(f){d=a.rendNode.parentNode,a.rendNode.parentNode.removeChild(a.rendNode),a.rendNode.innerHTML=e,d.appendChild(a.rendNode)}a.htmlStr=e,a.visProp.usemathjax?MathJax.Hub.Queue(["Typeset",MathJax.Hub,a.rendNode]):a.visProp.useasciimathml&&AMprocessNode(a.rendNode,!1)}this.transformImage(a,a.transformations)}else this.updateInternalText(a)},updateTextStyle:function(a,b){var c,d,e,f,i=a.visProp,j=h.isBrowser?i.display:"internal";if(b?(e=i.highlightstrokecolor,d=i.highlightstrokeopacity,f=i.highlightcssclass):(e=i.strokecolor,d=i.strokeopacity,f=i.cssclass),("html"===j||"canvas"!==this.type&&"no"!==this.type)&&(c=g.evaluate(a.visProp.fontsize),a.visPropOld.fontsize!==c)){a.needsSizeUpdate=!0;try{a.rendNode.style.fontSize=c+"px"}catch(k){a.rendNode.style.fontSize=c}a.visPropOld.fontsize=c}return"html"===j?(a.visPropOld.cssclass!==f&&(a.rendNode.className=f,a.visPropOld.cssclass=f,a.needsSizeUpdate=!0),this.setObjectStrokeColor(a,e,d)):this.updateInternalTextStyle(a,e,d),this},updateInternalTextStyle:function(a,b,c){this.setObjectStrokeColor(a,b,c)},drawImage:function(a){},updateImage:function(a){this.updateRectPrim(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1],a.size[0],a.size[1]),this.updateImageURL(a),this.transformImage(a,a.transformations),this._updateVisual(a,{stroke:!0,dash:!0},!0)},joinTransforms:function(a,b){var c,d=a.board.origin.scrCoords[1],f=a.board.origin.scrCoords[2],g=a.board.unitX,h=a.board.unitY,i=b.length,j=[[1,0,0],[-d/g,1/g,0],[f/h,0,-1/h]];for(c=0;i>c;c++)j=e.matMatMult(b[c].matrix,j);return j=e.matMatMult([[1,0,0],[d,g,0],[f,0,-h]],j)},transformImage:function(a,b){},updateImageURL:function(a){},updateImageStyle:function(a,b){a.rendNode.className=b?a.visProp.highlightcssclass:a.visProp.cssclass},appendChildPrim:function(a,b){},appendNodesToElement:function(a,b){},createPrim:function(a,b){return null},remove:function(a){},makeArrows:function(a){},updateEllipsePrim:function(a,b,c,d,e){},updateLinePrim:function(a,b,c,d,e,f){},updatePathPrim:function(a,b,c){},updatePathStringPoint:function(a,b,c){},updatePathStringPrim:function(a){},updatePathStringBezierPrim:function(a){},updatePolygonPrim:function(a,b){},updateRectPrim:function(a,b,c,d,e){},setPropertyPrim:function(a,b,c){},show:function(a){},hide:function(a){},setBuffering:function(a,b){},setDashStyle:function(a){},setDraft:function(a){if(a.visProp.draft){var b=a.board.options.elements.draft.color,c=a.board.options.elements.draft.opacity;a.type===d.OBJECT_TYPE_POLYGON?this.setObjectFillColor(a,b,c):(a.elementClass===d.OBJECT_CLASS_POINT?this.setObjectFillColor(a,b,c):this.setObjectFillColor(a,"none",0),this.setObjectStrokeColor(a,b,c),this.setObjectStrokeWidth(a,a.board.options.elements.draft.strokeWidth))}},removeDraft:function(a){a.type===d.OBJECT_TYPE_POLYGON?this.setObjectFillColor(a,a.visProp.fillcolor,a.visProp.fillopacity):(a.type===d.OBJECT_CLASS_POINT&&this.setObjectFillColor(a,a.visProp.fillcolor,a.visProp.fillopacity),this.setObjectStrokeColor(a,a.visProp.strokecolor,a.visProp.strokeopacity),this.setObjectStrokeWidth(a,a.visProp.strokewidth))},setGradient:function(a){},updateGradient:function(a){},setObjectFillColor:function(a,b,c){},setObjectStrokeColor:function(a,b,c){},setObjectStrokeWidth:function(a,b){},setShadow:function(a){},highlight:function(a){var b,c=a.visProp;if(!c.draft){if(a.type===d.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(a,c.highlightfillcolor,c.highlightfillopacity),b=0;b<a.borders.length;b++)this.setObjectStrokeColor(a.borders[b],a.borders[b].visProp.highlightstrokecolor,a.borders[b].visProp.highlightstrokeopacity);else a.elementClass===d.OBJECT_CLASS_TEXT?this.updateTextStyle(a,!0):a.type===d.OBJECT_TYPE_IMAGE?this.updateImageStyle(a,!0):(this.setObjectStrokeColor(a,c.highlightstrokecolor,c.highlightstrokeopacity),this.setObjectFillColor(a,c.highlightfillcolor,c.highlightfillopacity));c.highlightstrokewidth&&this.setObjectStrokeWidth(a,Math.max(c.highlightstrokewidth,c.strokewidth))}return this},noHighlight:function(a){var b,c=a.visProp;if(!a.visProp.draft){if(a.type===d.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(a,c.fillcolor,c.fillopacity),b=0;b<a.borders.length;b++)this.setObjectStrokeColor(a.borders[b],a.borders[b].visProp.strokecolor,a.borders[b].visProp.strokeopacity);else a.elementClass===d.OBJECT_CLASS_TEXT?this.updateTextStyle(a,!1):a.type===d.OBJECT_TYPE_IMAGE?this.updateImageStyle(a,!1):(this.setObjectStrokeColor(a,c.strokecolor,c.strokeopacity),this.setObjectFillColor(a,c.fillcolor,c.fillopacity));this.setObjectStrokeWidth(a,c.strokewidth)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(a){var b,c,d=function(a){a||(a=window.event),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},e=function(e,f){var g;g=b.createElement("span"),c.appendChild(g),g.appendChild(b.createTextNode(e)),h.addEvent(g,"mouseover",function(){this.style.backgroundColor=a.options.navbar.highlightFillColor},g),h.addEvent(g,"mouseover",function(){this.style.backgroundColor=a.options.navbar.highlightFillColor},g),h.addEvent(g,"mouseout",function(){this.style.backgroundColor=a.options.navbar.fillColor},g),h.addEvent(g,"click",f,a),h.addEvent(g,"mouseup",d,a),h.addEvent(g,"mousedown",d,a),h.addEvent(g,"touchend",d,a),h.addEvent(g,"touchstart",d,a)};h.isBrowser&&(b=a.containerObj.ownerDocument,c=b.createElement("div"),c.setAttribute("id",a.containerObj.id+"_navigationbar"),c.style.color=a.options.navbar.strokeColor,c.style.backgroundColor=a.options.navbar.fillColor,c.style.padding=a.options.navbar.padding,c.style.position=a.options.navbar.position,c.style.fontSize=a.options.navbar.fontSize,c.style.cursor=a.options.navbar.cursor,c.style.zIndex=a.options.navbar.zIndex,a.containerObj.appendChild(c),c.style.right=a.options.navbar.right,c.style.bottom=a.options.navbar.bottom,a.attr.showreload&&e(" ↻ ",function(){a.reload()}),a.attr.showcleartraces&&e(" ⊗ ",function(){a.clearTraces()}),a.attr.shownavigation&&(e(" – ",a.zoomOut),e(" o ",a.zoom100),e(" + ",a.zoomIn),e(" ← ",a.clickLeftArrow),e(" ↓ ",a.clickUpArrow),e(" ↑ ",a.clickDownArrow),e(" → ",a.clickRightArrow)))},getElementById:function(a){return this.container.ownerDocument.getElementById(this.container.id+"_"+a)},removeToInsertLater:function(a){var b=a.parentNode,c=a.nextSibling;return b.removeChild(a),function(){c?b.insertBefore(a,c):b.appendChild(a)}},resize:function(a,b){},createTouchpoints:function(a){},showTouchpoint:function(a){},hideTouchpoint:function(a){},updateTouchpoint:function(a,b){}}),a.AbstractRenderer}),define("renderer/no",["jxg","renderer/abstract"],function(a,b){"use strict";return a.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"},a.extend(a.NoRenderer.prototype,{drawPoint:function(a){},updatePoint:function(a){},changePointStyle:function(a){},drawLine:function(a){},updateLine:function(a){},drawTicks:function(a){},updateTicks:function(a){},drawCurve:function(a){},updateCurve:function(a){},drawEllipse:function(a){},updateEllipse:function(a){},drawPolygon:function(a){},updatePolygon:function(a){},displayCopyright:function(a,b){},drawInternalText:function(a){},updateInternalText:function(a){},drawText:function(a){},updateText:function(a){},updateTextStyle:function(a,b){},updateInternalTextStyle:function(a,b,c){},drawImage:function(a){},updateImage:function(a){},transformImage:function(a,b){},updateImageURL:function(a){},appendChildPrim:function(a,b){},appendNodesToElement:function(a,b){},createPrim:function(a,b){return null},remove:function(a){},makeArrows:function(a){},updateEllipsePrim:function(a,b,c,d,e){},updateLinePrim:function(a,b,c,d,e,f){},updatePathPrim:function(a,b,c){},updatePathStringPoint:function(a,b,c){},updatePathStringPrim:function(a){},updatePathStringBezierPrim:function(a){},updatePolygonPrim:function(a,b){},updateRectPrim:function(a,b,c,d,e){},setPropertyPrim:function(a,b,c){},show:function(a){},hide:function(a){},setBuffering:function(a,b){},setDashStyle:function(a){},setDraft:function(a){},removeDraft:function(a){},setGradient:function(a){},updateGradient:function(a){},setObjectFillColor:function(a,b,c){},setObjectStrokeColor:function(a,b,c){},setObjectStrokeWidth:function(a,b){},setShadow:function(a){},highlight:function(a){},noHighlight:function(a){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(a){},getElementById:function(a){return null},resize:function(a,b){},removeToInsertLater:function(){return function(){}}}),a.NoRenderer.prototype=new b,a.NoRenderer}),define("reader/file",["jxg","utils/env","utils/type","utils/encoding","utils/base64"],function(a,b,c,d,e){"use strict";return a.FileReader={parseFileContent:function(b,f,g,h,i){var j=!1;c.exists(h)||(h=!0);try{j=new XMLHttpRequest,"raw"===g.toLowerCase()?j.overrideMimeType("text/plain; charset=iso-8859-1"):j.overrideMimeType("text/xml; charset=iso-8859-1")}catch(k){try{j=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){try{j=new ActiveXObject("Microsoft.XMLHTTP")}catch(m){j=!1}}}if(!j)return void a.debug("AJAX not activated!");j.open("GET",b,h),"raw"===g.toLowerCase()?this.cbp=function(){var a=j;4===a.readyState&&f(a.responseText)}:this.cbp=function(){var a=j,b="";4===a.readyState&&(b=!c.exists(a.responseStream)||"PK"!==a.responseText.slice(0,2)&&31!==d.asciiCharCodeAt(a.responseText.slice(0,1),0)?a.responseText:e.decode(jxgBinFileReader(a)),this.parseString(b,f,g,i))},this.cb=c.bind(this.cbp,this),j.onreadystatechange=this.cb;try{j.send(null)}catch(n){throw new Error("JSXGraph: A problem occurred while trying to read '"+b+"'.")}},parseString:function(b,d,e,f){var g,h;if(e=e.toLowerCase(),g=a.readers[e],!c.exists(g))throw new Error("JSXGraph: There is no reader available for '"+e+"'.");h=new g(d,b),h.read(),"function"==typeof f&&f(d)}},!b.isMetroApp()&&b.isBrowser&&"object"==typeof navigator&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write('<script type="text/vbscript">\nFunction Base64Encode(inData)\n  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"\n  Dim cOut, sOut, I\n  For I = 1 To LenB(inData) Step 3\n    Dim nGroup, pOut, sGroup\n    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _\n      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))\n    nGroup = Oct(nGroup)\n    nGroup = String(8 - Len(nGroup), "0") & nGroup\n    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)\n    sOut = sOut + pOut\n  Next\n  Select Case LenB(inData) Mod 3\n    Case 1: \'8 bit final\n      sOut = Left(sOut, Len(sOut) - 2) + "=="\n    Case 2: \'16 bit final\n      sOut = Left(sOut, Len(sOut) - 1) + "="\n  End Select\n  Base64Encode = sOut\nEnd Function\n\nFunction MyASC(OneChar)\n  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)\nEnd Function\n\nFunction jxgBinFileReader(xhr)\n    Dim byteString\n    Dim b64String\n    Dim i\n    byteString = xhr.responseBody\n    ReDim byteArray(LenB(byteString))\n    For i = 1 To LenB(byteString)\n        byteArray(i-1) = AscB(MidB(byteString, i, 1))\n    Next\n    b64String = Base64Encode(byteString)\n    jxgBinFileReader = b64String\nEnd Function\n</script>\n'),a.FileReader}),define("parser/geonext",["jxg","base/constants","utils/type"],function(a,b,c){"use strict";return a.GeonextParser={replacePow:function(a){var b,c,d,e,f,g,h,i,j,k,l;for(a=a.replace(/(\s*)\^(\s*)/g,"^"),j=a.indexOf("^");j>=0;){if(i=a.slice(0,j),k=a.slice(j+1),")"===i.charAt(i.length-1)){for(b=1,c=i.length-2;c>=0&&b>0;)d=i.charAt(c),")"===d?b++:"("===d&&(b-=1),c-=1;if(0!==b)throw new Error("JSXGraph: Missing '(' in expression");for(e="",g=i.substring(0,c+1),h=c;h>=0&&g.substr(h,1).match(/([\w\.]+)/);)e=RegExp.$1+e,h-=1;e+=i.substring(c+1,i.length),e=e.replace(/([\(\)\+\*\%\^\-\/\]\[])/g,"\\$1")}else e="[\\w\\.]+";if(k.match(/^([\w\.]*\()/)){for(b=1,c=RegExp.$1.length;c<k.length&&b>0;)d=k.charAt(c),")"===d?b-=1:"("===d&&(b+=1),c+=1;if(0!==b)throw new Error("JSXGraph: Missing ')' in expression");f=k.substring(0,c),f=f.replace(/([\(\)\+\*\%\^\-\/\[\]])/g,"\\$1")}else f="[\\w\\.]+";l=new RegExp("("+e+")\\^("+f+")"),a=a.replace(l,"pow($1,$2)"),j=a.indexOf("^")}return a},replaceIf:function(a){var b,c,d,e,f,g,h,i,j,k="",l=null,m=null,n=null;if(d=a.indexOf("If("),0>d)return a;for(a=a.replace(/""/g,"0");d>=0;){for(b=a.slice(0,d),c=a.slice(d+3),f=1,e=0,g=-1,h=-1;e<c.length&&f>0;)i=c.charAt(e),")"===i?f-=1:"("===i?f+=1:","===i&&1===f&&(0>g?g=e:h=e),e+=1;if(j=c.slice(0,e-1),c=c.slice(e),0>g)return"";if(0>h)return"";l=j.slice(0,g),m=j.slice(g+1,h),n=j.slice(h+1),l=this.replaceIf(l),m=this.replaceIf(m),n=this.replaceIf(n),k+=b+"(("+l+")?("+m+"):("+n+"))",a=c,l=null,m=null,d=a.indexOf("If(")}return k+=c},replaceNameById:function(a,b,c){var d,e,f,g,h=0,i=["X","Y","L","V"],j=function(a){return c?"$('"+a+"')":a};for(g=0;g<i.length;g++)for(h=a.indexOf(i[g]+"(");h>=0;)h>=0&&(d=a.indexOf(")",h+2),d>=0&&(e=a.slice(h+2,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+2)+(c?"$('":"")+j(f.id)+a.slice(d)))),d=a.indexOf(")",h+2),h=a.indexOf(i[g]+"(",d);for(h=a.indexOf("Dist(");h>=0;)h>=0&&(d=a.indexOf(",",h+5),d>=0&&(e=a.slice(h+5,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+5)+j(f.id)+a.slice(d)))),d=a.indexOf(",",h+5),h=a.indexOf(",",d),d=a.indexOf(")",h+1),d>=0&&(e=a.slice(h+1,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(")",h+1),h=a.indexOf("Dist(",d);for(i=["Deg","Rad"],g=0;g<i.length;g++)for(h=a.indexOf(i[g]+"(");h>=0;)h>=0&&(d=a.indexOf(",",h+4),d>=0&&(e=a.slice(h+4,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+4)+j(f.id)+a.slice(d)))),d=a.indexOf(",",h+4),h=a.indexOf(",",d),d=a.indexOf(",",h+1),d>=0&&(e=a.slice(h+1,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(",",h+1),h=a.indexOf(",",d),d=a.indexOf(")",h+1),d>=0&&(e=a.slice(h+1,d),e=e.replace(/\\(['"])?/g,"$1"),f=b.elementsByName[e],f&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(")",h+1),h=a.indexOf(i[g]+"(",d);return a},replaceIdByObj:function(a){var b=/(X|Y|L)\(([\w_]+)\)/g;return a=a.replace(b,"$('$2').$1()"),b=/(V)\(([\w_]+)\)/g,a=a.replace(b,"$('$2').Value()"),b=/(Dist)\(([\w_]+),([\w_]+)\)/g,a=a.replace(b,"dist($('$2'), $('$3'))"),b=/(Deg)\(([\w_]+),([ \w\[\w_]+),([\w_]+)\)/g,a=a.replace(b,"deg($('$2'),$('$3'),$('$4'))"),b=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,a=a.replace(b,"rad($('$1'),$('$2'),$('$3'))"),b=/N\((.+)\)/g,a=a.replace(b,"($1)")},geonext2JS:function(a,b){var c,d,e,f=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],g=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"),d=a,d=this.replaceNameById(d,b),d=this.replaceIf(d),
d=this.replacePow(d),d=this.replaceIdByObj(d),e=0;e<f.length;e++)c=new RegExp(["(\\W|^)(",f[e],")"].join(""),"ig"),d=d.replace(c,["$1",g[e]].join(""));return d=d.replace(/True/g,"true"),d=d.replace(/False/g,"false"),d=d.replace(/fasle/g,"false"),d=d.replace(/Pi/g,"PI"),d=d.replace(/"/g,"'")},findDependencies:function(a,d,e){var f,g,h,i;c.exists(e)||(e=a.board),f=e.elementsByName;for(g in f)f.hasOwnProperty(g)&&g!==a.name&&(f[g].elementClass===b.OBJECT_CLASS_TEXT?f[g].visProp.islabel||(i=g.replace(/\[/g,"\\["),i=i.replace(/\]/g,"\\]"),h=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+i+")(,[\\w\\[\\]'_ ]+)*\\)","g"),d.search(h)>=0&&f[g].addChild(a)):(i=g.replace(/\[/g,"\\["),i=i.replace(/\]/g,"\\]"),h=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+i+")(,[\\w\\[\\]'_ ]+)*\\)","g"),d.search(h)>=0&&f[g].addChild(a)))},gxt2jc:function(a,b){var c;return a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"),c=a,c=this.replaceNameById(c,b,!0),c=c.replace(/True/g,"true"),c=c.replace(/False/g,"false"),c=c.replace(/fasle/g,"false")}},a.GeonextParser}),define("base/element",["jxg","base/constants","base/coords","math/math","math/statistics","options","parser/geonext","utils/event","utils/color","utils/type"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return a.GeometryElement=function(a,c,d,e){var f,g,i;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},h.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,arguments.length>0){this.board=a,this.type=d,this._org_type=d,this.elementClass=e||b.OBJECT_CLASS_OTHER,this.id=c.id,f=c.name,j.exists(f)||(f=this.board.generateName(this)),""!==f&&(this.board.elementsByName[f]=this),this.name=f,this.needsRegularUpdate=c.needsregularupdate,j.clearVisPropOld(this),i=this.resolveShortcuts(c);for(g in i)i.hasOwnProperty(g)&&this._set(g,i[g]);this.visProp.draft=i.draft&&i.draft.draft,this.visProp.gradientangle="270",this.visProp.gradientsecondopacity=this.visProp.fillopacity,this.visProp.gradientpositionx=.5,this.visProp.gradientpositiony=.5}},a.extend(a.GeometryElement.prototype,{addChild:function(a){var b,c;this.childElements[a.id]=a,this.addDescendants(a),a.ancestors[this.id]=this;for(b in this.descendants)if(this.descendants.hasOwnProperty(b)){this.descendants[b].ancestors[this.id]=this;for(c in this.ancestors)this.ancestors.hasOwnProperty(c)&&(this.descendants[b].ancestors[this.ancestors[c].id]=this.ancestors[c])}for(b in this.ancestors)if(this.ancestors.hasOwnProperty(b))for(c in this.descendants)this.descendants.hasOwnProperty(c)&&(this.ancestors[b].descendants[this.descendants[c].id]=this.descendants[c]);return this},addDescendants:function(a){var b;this.descendants[a.id]=a;for(b in a.childElements)a.childElements.hasOwnProperty(b)&&this.addDescendants(a.childElements[b]);return this},addParents:function(a){var b,c,d;for(d=j.isArray(a)?a:arguments,c=d.length,b=0;c>b;++b)j.isId(this.board,d[b])?this.parents.push(d[b]):j.exists(d[b].id)&&this.parents.push(d[b].id);this.parents=j.uniqueArray(this.parents)},setParents:function(a){this.parents=[],this.addParents(a)},removeChild:function(a){return delete this.childElements[a.id],this.removeDescendants(a),delete a.ancestors[this.id],this},removeDescendants:function(a){var b;delete this.descendants[a.id];for(b in a.childElements)a.childElements.hasOwnProperty(b)&&this.removeDescendants(a.childElements[b]);return this},countChildren:function(){var a,b,c=0;b=this.childElements;for(a in b)b.hasOwnProperty(a)&&a.indexOf("Label")<0&&c++;return c},getName:function(){return this.name},addTransform:function(a){return this},draggable:function(){return this.isDraggable&&!this.visProp.fixed&&this.type!==b.OBJECT_TYPE_GLIDER},setPosition:function(c,d){var e,f,g,h,i=[];if(!a.exists(this.parents))return this;for(g=this.parents.length,f=0;g>f;++f)if(e=this.board.select(this.parents[f]),j.isPoint(e)){if(!e.draggable())return this;i.push(e)}for(3===d.length&&(d=d.slice(1)),h=this.board.create("transform",d,{type:"translate"}),g=i.length,g>0?h.applyOnce(i):this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(h):this.addTransform(h),f=0;g>f;++f)i[f].type===b.OBJECT_TYPE_GLIDER&&i[f].updateGlider();return this},setPositionDirectly:function(a,d,f){var g=new c(a,d,this.board,!1),h=new c(a,f,this.board,!1),i=e.subtract(g.usrCoords,h.usrCoords);return this.setPosition(b.COORDS_BY_USER,i),this},generatePolynomial:function(){return[]},animate:function(a,b,c){c=c||{};var d,e,f,g=this.board.attr.animationdelay,h=Math.ceil(b/g),k=this,l=function(a,b,c){var d,e,g,j,l;for(d=i.rgb2hsv(a),e=i.rgb2hsv(b),g=(e[0]-d[0])/h,j=(e[1]-d[1])/h,l=(e[2]-d[2])/h,k.animationData[c]=[],f=0;h>f;f++)k.animationData[c][h-f-1]=i.hsv2rgb(d[0]+(f+1)*g,d[1]+(f+1)*j,d[2]+(f+1)*l)},m=function(a,b,c,d){var e,g;if(a=parseFloat(a),b=parseFloat(b),!isNaN(a)&&!isNaN(b))for(g=(b-a)/h,k.animationData[c]=[],f=0;h>f;f++)e=a+(f+1)*g,k.animationData[c][h-f-1]=d?Math.floor(e):e};this.animationData={};for(d in a)if(a.hasOwnProperty(d))switch(e=d.toLowerCase()){case"strokecolor":case"fillcolor":l(this.visProp[e],a[d],e);break;case"size":if(!j.isPoint(this))break;m(this.visProp[e],a[d],e,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":m(this.visProp[e],a[d],e,!1)}return this.animationCallback=c.callback,this.board.addAnimation(this),this},update:function(){return this.visProp.trace&&this.cloneToBackground(),this},updateRenderer:function(){return this},hideElement:function(){return this.visProp.visible=!1,this.board.renderer.hide(this),j.exists(this.label)&&this.hasLabel&&(this.label.hiddenByParent=!0,this.label.visProp.visible&&this.label.hideElement()),this},showElement:function(){return this.visProp.visible=!0,this.board.renderer.show(this),j.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visProp.visible||this.label.showElement().updateRenderer()),this},_set:function(a,b){a=a.toLocaleLowerCase(),this.visProp.hasOwnProperty(a)&&a.indexOf("color")>=0&&j.isString(b)&&9===b.length&&"#"===b.charAt(0)?(b=i.rgba2rgbo(b),this.visProp[a]=b[0],this.visProp[a.replace("color","opacity")]=b[1]):this.visProp[a]=b},resolveShortcuts:function(a){var b,c;for(b in f.shortcuts)if(f.shortcuts.hasOwnProperty(b)&&j.exists(a[b]))for(c=0;c<f.shortcuts[b].length;c++)j.exists(a[f.shortcuts[b][c]])||(a[f.shortcuts[b][c]]=a[b]);return a},setLabel:function(a){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(a)},setLabelText:function(a){return j.exists(this.label)&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(a)),this},setName:function(a){a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"slider"!==this.elType&&this.setLabelText(a),this.setAttribute({name:a})},setProperty:function(){a.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(c){var d,e,f,g,h,k,l,m={},n=function(a){return function(b){return a}};for(d=0;d<arguments.length;d++)g=arguments[d],j.isString(g)?(k=g.split(":"),m[j.trim(k[0])]=j.trim(k[1])):j.isArray(g)?m[g[0]]=g[1]:a.extend(m,g);m=this.resolveShortcuts(m);for(d in m)if(m.hasOwnProperty(d)){switch(e=d.replace(/\s+/g,"").toLowerCase(),f=m[d],l=this.visProp[e],e){case"name":l=this.name,delete this.board.elementsByName[this.name],this.name=f,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!("false"===f||f===!1),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"labelcolor":f=i.rgba2rgbo(f),h=f[1],f=f[0],0===h&&j.exists(this.label)&&this.hasLabel&&this.label.hideElement(),j.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=f,this.board.renderer.setObjectStrokeColor(this.label,f,h)),this.elementClass===b.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=f,this.visProp.strokeopacity=h,this.board.renderer.setObjectStrokeColor(this,this.visProp.strokecolor,this.visProp.strokeopacity));break;case"infoboxtext":"string"==typeof f?this.infoboxText=f:this.infoboxText=!1;break;case"visible":"false"===f||f===!1?(this.visProp.visible=!1,this.hideElement()):("true"===f||f===!0)&&(this.visProp.visible=!0,this.showElement());break;case"face":j.isPoint(this)&&(this.visProp.face=f,this.board.renderer.changePointStyle(this));break;case"trace":"false"===f||f===!1?(this.clearTrace(),this.visProp.trace=!1):this.visProp.trace=!0;break;case"gradient":this.visProp.gradient=f,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":f=i.rgba2rgbo(f),this.visProp.gradientsecondcolor=f[0],this.visProp.gradientsecondopacity=f[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=f,this.board.renderer.updateGradient(this);break;case"withlabel":this.visProp.withlabel=f,f?this.label?this.visProp.visible&&this.label.showElement():(this.createLabel(),this.visProp.visible||this.label.hideElement()):this.label&&this.hasLabel&&this.label.hideElement(),this.hasLabel=f;break;case"radius":(this.type===b.OBJECT_TYPE_ANGLE||this.type===b.OBJECT_TYPE_SECTOR)&&this.setRadius(f);break;case"rotate":(this.elementClass===b.OBJECT_CLASS_TEXT&&"internal"===this.visProp.display||this.type===b.OBJECT_TYPE_IMAGE)&&this.addRotation(f);break;case"ticksdistance":this.type===b.OBJECT_TYPE_TICKS&&"number"==typeof f&&(this.ticksFunction=n(f));break;case"generatelabelvalue":this.type===b.OBJECT_TYPE_TICKS&&"function"==typeof f&&(this.generateLabelValue=f);break;case"onpolygon":this.type===b.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!f);break;case"disabled":a.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!f);break;default:j.exists(this.visProp[e])&&(!a.Validator[e]||a.Validator[e]&&a.Validator[e](f)||a.Validator[e]&&j.isFunction(f)&&a.Validator[e](f()))&&(f=f.toLowerCase&&"false"===f.toLowerCase()?!1:f,this._set(e,f))}this.triggerEventHandlers(["attribute:"+e],[l,f,this])}return this.triggerEventHandlers(["attribute"],[m,this]),this.visProp.needsregularupdate?this.board.update(this):this.board.fullUpdate(),this},getProperty:function(){a.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(a){var b;switch(a=a.toLowerCase()){case"needsregularupdate":b=this.needsRegularUpdate;break;case"labelcolor":b=this.label.visProp.strokecolor;break;case"infoboxtext":b=this.infoboxText;break;case"withlabel":b=this.hasLabel;break;default:b=this.visProp[a]}return b},setDash:function(a){return this.setAttribute({dash:a}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.board.renderer.getElementById(this.id)),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new c(b.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new c(b.COORDS_BY_USER,[0,0],this.board)},setArrow:function(a,b){return this.visProp.firstarrow=a,this.visProp.lastarrow=b,this.prepareUpdate().update(),this},createGradient:function(){("linear"===this.visProp.gradient||"radial"===this.visProp.gradient)&&this.board.renderer.setGradient(this)},createLabel:function(){var b,c=this;return a.elements.text?(b=j.deepCopy(this.visProp.label,null),b.id=this.id+"Label",b.isLabel=!0,b.visible=this.visProp.visible,b.anchor=this,b.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=a.elements.text(this.board,[0,0,function(){return"function"==typeof c.name?c.name():c.name}],b),this.label.needsUpdate=!0,this.label.update(),this.label.dump=!1,this.visProp.visible||(this.label.hiddenByParent=!0,this.label.visProp.visible=!1),this.hasLabel=!0)):a.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(a){return a=j.def(a,!1),!this.visProp.highlight||this.highlighted&&!a||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var a;for(a in this.traces)this.traces.hasOwnProperty(a)&&this.board.renderer.remove(this.traces[a]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=d.normalize(this.stdform),this},toJSON:function(){var a,b,c=['{"name":',this.name];c.push(', "id":'+this.id),a=[];for(b in this.visProp)this.visProp.hasOwnProperty(b)&&j.exists(this.visProp[b])&&a.push('"'+b+'":'+this.visProp[b]);return c.push(', "visProp":{'+a.toString()+"}"),c.push("}"),c.join("")},addRotation:function(a){var c,d,e,f,g,h=this;return(this.elementClass===b.OBJECT_CLASS_TEXT&&"internal"===this.visProp.display||this.type===b.OBJECT_TYPE_IMAGE)&&0!==a&&(c=this.board.create("transform",[function(){return-h.X()},function(){return-h.Y()}],{type:"translate"}),d=this.board.create("transform",[function(){return h.X()},function(){return h.Y()}],{type:"translate"}),e=this.board.create("transform",[function(){return h.board.unitX/h.board.unitY},function(){return 1}],{type:"scale"}),f=this.board.create("transform",[function(){return h.board.unitY/h.board.unitX},function(){return 1}],{type:"scale"}),g=this.board.create("transform",[a*Math.PI/180],{type:"rotate"}),c.bindTo(this),e.bindTo(this),g.bindTo(this),f.bindTo(this),d.bindTo(this)),this},highlightStrokeColor:function(b){return a.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:b}),this},strokeColor:function(b){return a.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:b}),this},strokeWidth:function(b){return a.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:b}),this},fillColor:function(b){return a.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:b}),this},highlightFillColor:function(b){return a.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:b}),this},labelColor:function(b){return a.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:b}),this},dash:function(b){return a.deprecated("dash()","setAttribute()"),this.setAttribute({dash:b}),this},visible:function(b){return a.deprecated("visible()","setAttribute()"),this.setAttribute({visible:b}),this},shadow:function(b){return a.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:b}),this},getType:function(){return this.elType},getParents:function(){return j.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var a,b=j.deepCopy(this.visProp),c=["attractors","snatchdistance","traceattributes","frozen","shadow","gradientangle","gradientsecondopacity","gradientpositionx","gradientpositiony","needsregularupdate","zoom","layer","offset"],d=c.length;for(b.id=this.id,b.name=this.name,a=0;d>a;a++)delete b[c[a]];return b},hasPoint:function(a,b){return!1},handleSnapToGrid:function(c){var d,e,f,g,h=!1,i=this.visProp.snapsizex,j=this.visProp.snapsizey;return a.exists(this.coords)?(h=this.visProp.snaptogrid||c===!0,h&&(d=this.coords.usrCoords[1],e=this.coords.usrCoords[2],0>=i&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(f=this.board.defaultAxes.x.defaultTicks,i=f.ticksDelta*(f.visProp.minorticks+1)),0>=j&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(f=this.board.defaultAxes.y.defaultTicks,j=f.ticksDelta*(f.visProp.minorticks+1)),i>0&&j>0&&(g=this.board.getBoundingBox(),d=Math.round(d/i)*i,e=Math.round(e/j)*j,d<g[0]?d+=i:d>g[2]&&(d-=i),e<g[3]?e+=j:e>g[1]&&(e-=j),this.coords.setCoordinates(b.COORDS_BY_USER,[d,e]))),this):this},addEvent:a.shortcut(a.GeometryElement.prototype,"on"),removeEvent:a.shortcut(a.GeometryElement.prototype,"off"),__evt__over:function(a){},__evt__mouseover:function(a){},__evt__out:function(a){},__evt__mouseout:function(a){},__evt__move:function(a){},__evt__mousemove:function(a){},__evt__drag:function(a){},__evt__mousedrag:function(a){},__evt__touchdrag:function(a){},__evt__down:function(a){},__evt__mousedown:function(a){},__evt__touchdown:function(a){},__evt__up:function(a){},__evt__mouseup:function(a){},__evt__touchup:function(a){},__evt__attribute:function(a,b){},__evt__attribute_:function(a,b,c){},__evt:function(){}}),a.GeometryElement}),define("base/transformation",["jxg","base/constants","math/math","utils/type"],function(a,b,c,d){"use strict";return a.Transformation=function(a,c,d){this.elementClass=b.OBJECT_CLASS_OTHER,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=a,this.isNumericMatrix=!1,this.setMatrix(a,c,d),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bind",melt:"melt"}},a.Transformation.prototype={},a.extend(a.Transformation.prototype,{update:function(){return this},setMatrix:function(a,b,e){var f;for(this.isNumericMatrix=!0,f=0;f<e.length;f++)if("number"!=typeof e[f]){this.isNumericMatrix=!1;break}if("translate"===b){if(2!==e.length)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=d.createEvalFunction(a,e,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if("scale"===b){if(2!==e.length)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=d.createEvalFunction(a,e,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if("reflect"===b)e.length<4&&(e[0]=a.select(e[0])),2===e.length&&(e[1]=a.select(e[1])),4===e.length&&(this.evalParam=d.createEvalFunction(a,e,4)),this.update=function(){var a,b,d,f,g,h,i,j;1===e.length?i=e[0].stdform:2===e.length?i=c.crossProduct(e[1].coords.usrCoords,e[0].coords.usrCoords):4===e.length&&(i=c.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),a=i[1],b=i[2],d=i[0],j=[-d*a,-d*b,a*a+b*b],h=j[2],f=j[0]/j[2],g=j[1]/j[2],a=-i[2],b=i[1],this.matrix[1][1]=(a*a-b*b)/h,this.matrix[1][2]=2*a*b/h,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=f*(1-this.matrix[1][1])-g*this.matrix[1][2],this.matrix[2][0]=g*(1-this.matrix[2][2])-f*this.matrix[2][1]};else if("rotate"===b)3===e.length?this.evalParam=d.createEvalFunction(a,e,3):e.length>0&&e.length<=2&&(this.evalParam=d.createEvalFunction(a,e,1),2===e.length&&(e[1]=a.select(e[1]))),this.update=function(){var a,b,c=this.evalParam(0),d=Math.cos(c),f=Math.sin(c);this.matrix[1][1]=d,this.matrix[1][2]=-f,this.matrix[2][1]=f,this.matrix[2][2]=d,e.length>1&&(3===e.length?(a=this.evalParam(1),b=this.evalParam(2)):(a=e[1].X(),b=e[1].Y()),this.matrix[1][0]=a*(1-d)+b*f,this.matrix[2][0]=b*(1-d)-a*f)};else if("shear"===b){if(2!==e.length)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=d.createEvalFunction(a,e,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if("generic"===b){if(9!==e.length)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=d.createEvalFunction(a,e,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(a,b){return this.update(),d.exists(b)?c.matVecMult(this.matrix,a.initialCoords.usrCoords):c.matVecMult(this.matrix,a.coords.usrCoords)},applyOnce:function(a){var e,f,g;for(d.isArray(a)||(a=[a]),f=a.length,g=0;f>g;g++)this.update(),e=c.matVecMult(this.matrix,a[g].coords.usrCoords),a[g].coords.setCoordinates(b.COORDS_BY_USER,e)},bindTo:function(a){var b,c;if(d.isArray(a))for(c=a.length,b=0;c>b;b++)a[b].transformations.push(this);else a.transformations.push(this)},setProperty:function(b){a.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(a){},melt:function(a){var b,c,d,e,f,g,h=[];for(c=a.matrix.length,d=this.matrix[0].length,b=0;c>b;b++)h[b]=[];for(this.update(),a.update(),b=0;c>b;b++)for(g=0;d>g;g++){for(f=0,e=0;c>e;e++)f+=a.matrix[b][e]*this.matrix[e][g];h[b][g]=f}return this.update=function(){var a=this.matrix.length,c=this.matrix[0].length;for(b=0;a>b;b++)for(g=0;c>g;g++)this.matrix[b][g]=h[b][g]},this}}),a.createTransform=function(b,c,d){return new a.Transformation(b,d.type,c)},a.registerElement("transform",a.createTransform),{Transformation:a.Transformation,createTransform:a.createTransform}}),define("base/coordselement",["jxg","options","math/math","math/geometry","math/numerics","math/statistics","base/coords","base/constants","base/element","parser/geonext","utils/type","base/transformation"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return a.CoordsElement=function(a,b){var c;for(k.exists(a)||(a=[1,0,0]),c=0;c<a.length;++c)a[c]=parseFloat(a[c]);this.coords=new g(h.COORDS_BY_USER,a,this.board),this.initialCoords=new g(h.COORDS_BY_USER,a,this.board),this.position=null,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.updateConstraint=function(){return this},this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=k.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",onPolygon:"onPolygon"}),k.exists(this.element)&&this.addAnchor(a,b),this.isDraggable=!0},a.extend(a.CoordsElement.prototype,{updateCoords:function(a){return this.needsUpdate?(k.exists(a)||(a=!1),this.type===h.OBJECT_TYPE_GLIDER&&(a?this.updateGliderFromParent():this.updateGlider()),this.visProp.frozen||this.updateConstraint(),this.updateTransform(),this):this},updateGlider:function(){var a,b,e,f,i,j,l,m,n,o,p,q,r,s,t,u,v,w=2*Math.PI,x=!1,y=this.slideObject;if(this.needsUpdateFromParent=!1,y.elementClass===h.OBJECT_CLASS_CIRCLE)this.visProp.isgeonext&&(w=1),u=d.projectPointToCircle(this,y,this.board),v=d.rad([y.center.X()+1,y.center.Y()],y.center,this)/w;else if(y.elementClass===h.OBJECT_CLASS_LINE){if(this.onPolygon){if(b=y.point1.coords.usrCoords,e=y.point2.coords.usrCoords,a=1,f=e[a]-b[a],Math.abs(f)<c.eps&&(a=2,f=e[a]-b[a]),l=d.projectPointToLine(this,y,this.board),m=(l.usrCoords[a]-b[a])/f,j=y.parentPolygon,0>m){for(a=0;a<j.borders.length;a++)if(y===j.borders[a]){y=j.borders[(a-1+j.borders.length)%j.borders.length];break}}else if(m>1)for(a=0;a<j.borders.length;a++)if(y===j.borders[a]){y=j.borders[(a+1+j.borders.length)%j.borders.length];break}y.id!==this.slideObject.id&&(this.slideObject=y)}b=y.point1.coords,e=y.point2.coords,f=b.distance(h.COORDS_BY_USER,e),f<c.eps?(u=b,x=!0,v=0):(u=d.projectPointToLine(this,y,this.board),b=b.usrCoords.slice(0),e=e.usrCoords.slice(0),Math.abs(e[0])<c.eps?(a=1,f=e[a],Math.abs(f)<c.eps&&(a=2,f=e[a]),f=(u.usrCoords[a]-b[a])/f,n=f>=0?1:-1,f=Math.abs(f),v=n*f/(f+1)):Math.abs(b[0])<c.eps?(a=1,f=b[a],Math.abs(f)<c.eps&&(a=2,f=b[a]),f=(u.usrCoords[a]-e[a])/f,v=0>f?(1-2*f)/(1-f):1/(f+1)):(a=1,f=e[a]-b[a],Math.abs(f)<c.eps&&(a=2,f=e[a]-b[a]),v=(u.usrCoords[a]-b[a])/f)),this.visProp.snapwidth>0&&Math.abs(this._smax-this._smin)>=c.eps&&(v=Math.max(Math.min(v,1),0),i=v*(this._smax-this._smin)+this._smin,i=Math.round(i/this.visProp.snapwidth)*this.visProp.snapwidth,v=(i-this._smin)/(this._smax-this._smin),this.update(!0)),b=y.point1.coords,!y.visProp.straightfirst&&Math.abs(b.usrCoords[0])>c.eps&&0>v&&(u=b,x=!0,v=0),e=y.point2.coords,!y.visProp.straightlast&&Math.abs(e.usrCoords[0])>c.eps&&v>1&&(u=e,x=!0,v=1)}else y.type===h.OBJECT_TYPE_TURTLE?(this.updateConstraint(),u=d.projectPointToTurtle(this,y,this.board),v=this.position):y.elementClass===h.OBJECT_CLASS_CURVE?y.type===h.OBJECT_TYPE_ARC||y.type===h.OBJECT_TYPE_SECTOR?(u=d.projectPointToCircle(this,y,this.board),q=d.rad(y.radiuspoint,y.center,this),o=0,p=d.rad(y.radiuspoint,y.center,y.anglepoint),v=q,("minor"===y.visProp.selection&&p>Math.PI||"major"===y.visProp.selection&&p<Math.PI)&&(o=p,p=2*Math.PI),(o>q||q>p)&&(v=p,(o>q&&q>.5*o||q>p&&q>.5*p+Math.PI)&&(v=o),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),w=p-o,this.visProp.isgeonext&&(w=1),Math.abs(w)>c.eps&&(v/=w)):(this.updateConstraint(),y.transformations.length>0?(y.updateTransformMatrix(),t=c.inverse(y.transformMat),s=c.matVecMult(t,this.coords.usrCoords),r=new g(h.COORDS_BY_USER,s,this.board).usrCoords,s=d.projectCoordsToCurve(r[1],r[2],this.position||0,y,this.board),u=s[0],v=s[1]):(u=d.projectPointToCurve(this,y,this.board),v=this.position)):k.isPoint(y)&&(u=d.projectPointToPoint(this,y,this.board),v=this.position);this.coords.setCoordinates(h.COORDS_BY_USER,u.usrCoords,x),this.position=v},updateGliderFromParent:function(){var a,b,e,f,g,i,j,l,m,n=this.slideObject,o=2*Math.PI;return this.needsUpdateFromParent?(n.elementClass===h.OBJECT_CLASS_CIRCLE?(e=n.Radius(),this.visProp.isgeonext&&(o=1),g=[n.center.X()+e*Math.cos(this.position*o),n.center.Y()+e*Math.sin(this.position*o)]):n.elementClass===h.OBJECT_CLASS_LINE?(a=n.point1.coords.usrCoords,b=n.point2.coords.usrCoords,Math.abs(b[0])<c.eps?(f=Math.min(Math.abs(this.position),1-c.eps),f/=1-f,this.position<0&&(f=-f),g=[a[0]+f*b[0],a[1]+f*b[1],a[2]+f*b[2]]):Math.abs(a[0])<c.eps?(f=Math.max(this.position,c.eps),f=Math.min(f,2-c.eps),f=f>1?(f-1)/(f-2):(1-f)/f,g=[b[0]+f*a[0],b[1]+f*a[1],b[2]+f*a[2]]):(f=this.position,g=[a[0]+f*(b[0]-a[0]),a[1]+f*(b[1]-a[1]),a[2]+f*(b[2]-a[2])])):n.type===h.OBJECT_TYPE_TURTLE?(this.coords.setCoordinates(h.COORDS_BY_USER,[n.Z(this.position),n.X(this.position),n.Y(this.position)]),this.updateConstraint(),g=d.projectPointToTurtle(this,n,this.board).usrCoords):n.elementClass===h.OBJECT_CLASS_CURVE?(this.coords.setCoordinates(h.COORDS_BY_USER,[n.Z(this.position),n.X(this.position),n.Y(this.position)]),n.type===h.OBJECT_TYPE_ARC||n.type===h.OBJECT_TYPE_SECTOR?(i=d.rad([n.center.X()+1,n.center.Y()],n.center,n.radiuspoint),j=0,m=d.rad(n.radiuspoint,n.center,n.anglepoint),("minor"===n.visProp.selection&&m>Math.PI||"major"===n.visProp.selection&&m<Math.PI)&&(j=m,m=2*Math.PI),o=m-j,this.visProp.isgeonext&&(o=1),l=this.position*o,(j>l||l>m)&&(l=m,(j>l&&l>.5*j||l>m&&l>.5*m+Math.PI)&&(l=j),this.position=l,Math.abs(o)>c.eps&&(this.position/=o)),e=n.Radius(),g=[n.center.X()+e*Math.cos(this.position*o+i),n.center.Y()+e*Math.sin(this.position*o+i)]):(this.updateConstraint(),g=d.projectPointToCurve(this,n,this.board).usrCoords)):k.isPoint(n)&&(g=d.projectPointToPoint(this,n,this.board).usrCoords),void this.coords.setCoordinates(h.COORDS_BY_USER,g,!1)):void(this.needsUpdateFromParent=!0)},updateRendererGeneric:function(a){var b;return this.needsUpdate?(this.visProp.visible&&(b=this.isReal,this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>c.eps?this.isReal:!1,this.isReal?(b!==this.isReal&&(this.board.renderer.show(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.show(this.label)),this.board.renderer[a](this)):b!==this.isReal&&(this.board.renderer.hide(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.hide(this.label))),this.hasLabel&&this.visProp.visible&&this.label&&this.label.visProp.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.needsUpdate=!1,this):this},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(a){return this.isReal&&a.isReal?this.coords.distance(h.COORDS_BY_USER,a.coords):NaN},snapToGrid:function(a){return this.handleSnapToGrid(a)},handleSnapToPoints:function(a){var b,c,e,f,g,i,j=0,l=1/0,m=null,n=!1;if(f=this.board.objectsList.length,this.visProp.ignoredsnaptopoints&&(g=this.visProp.ignoredsnaptopoints.length),this.visProp.snaptopoints||a){for(b=0;f>b;b++){if(c=this.board.objectsList[b],this.visProp.ignoredsnaptopoints){for(n=!1,i=0;g>i;i++)if(c==this.board.select(this.visProp.ignoredsnaptopoints[i])){n=!0;break}if(n)continue}k.isPoint(c)&&c!==this&&c.visProp.visible&&(e=d.projectPointToPoint(this,c,this.board),j="screen"===this.visProp.attractorunit?e.distance(h.COORDS_BY_SCREEN,this.coords):e.distance(h.COORDS_BY_USER,this.coords),j<this.visProp.attractordistance&&l>j&&(l=j,m=e))}null!==m&&this.coords.setCoordinates(h.COORDS_BY_USER,m.usrCoords)}return this},snapToPoints:function(a){return this.handleSnapToPoints(a)},handleAttractors:function(){var a,b,c,e=0,f=this.visProp.attractors.length;if(0!==this.visProp.attractordistance){for(a=0;f>a;a++)if(b=this.board.select(this.visProp.attractors[a]),k.exists(b)&&b!==this){if(k.isPoint(b)?c=d.projectPointToPoint(this,b,this.board):b.elementClass===h.OBJECT_CLASS_LINE?c=d.projectPointToLine(this,b,this.board):b.elementClass===h.OBJECT_CLASS_CIRCLE?c=d.projectPointToCircle(this,b,this.board):b.elementClass===h.OBJECT_CLASS_CURVE?c=d.projectPointToCurve(this,b,this.board):b.type===h.OBJECT_TYPE_TURTLE&&(c=d.projectPointToTurtle(this,b,this.board)),e="screen"===this.visProp.attractorunit?c.distance(h.COORDS_BY_SCREEN,this.coords):c.distance(h.COORDS_BY_USER,this.coords),e<this.visProp.attractordistance){(this.type!==h.OBJECT_TYPE_GLIDER||this.slideObject!==b)&&this.makeGlider(b);break}b===this.slideObject&&e>=this.visProp.snatchdistance&&this.popSlideObject()}return this}},setPositionDirectly:function(a,b){var d,e,i,j,k=this.coords;if(this.relativeCoords)return e=new g(a,b,this.board),this.visProp.islabel?(i=f.subtract(e.scrCoords,k.scrCoords),this.relativeCoords.scrCoords[1]+=i[1],this.relativeCoords.scrCoords[2]+=i[2]):(i=f.subtract(e.usrCoords,k.usrCoords),this.relativeCoords.usrCoords[1]+=i[1],this.relativeCoords.usrCoords[2]+=i[2]),this;for(this.coords.setCoordinates(a,b),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),d=this.transformations.length-1;d>=0;d--)a===h.COORDS_BY_SCREEN?j=new g(a,b,this.board).usrCoords:(2===b.length&&(b=[1].concat(b)),j=b),this.initialCoords.setCoordinates(h.COORDS_BY_USER,c.matVecMult(c.inverse(this.transformations[d].matrix),j));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===h.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(a,b){var c;return b=new g(a,b,this.board),c=this.board.create("transform",b.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(c):this.addTransform(this,c),this.prepareUpdate().update(),this},setPosition:function(a,b){return this.setPositionDirectly(a,b)},setGliderPosition:function(a){return this.type===h.OBJECT_TYPE_GLIDER&&(this.position=a,this.board.update()),this},makeGlider:function(b){var c,d,e,f=this.board.select(b),g=!1;if(f.type===h.OBJECT_TYPE_POLYGON){
for(c=Number.MAX_VALUE,d=0;d<f.borders.length;d++)e=a.Math.Geometry.distPointLine(this.coords.usrCoords,f.borders[d].stdform),c>e&&(c=e,b=f.borders[d]);f=this.board.select(b),g=!0}if(!k.exists(f))throw new Error("JSXGraph: slide object undefined.");if(f.type===h.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.");return this.slideObject=this.board.select(b),this.slideObjects.push(this.slideObject),this.addParents(b),this.type=h.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=g,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),0===this.slideObjects.length?(this.type=this._org_type,this.type===h.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===h.OBJECT_CLASS_TEXT?this.elType="text":this.type===h.OBJECT_TYPE_IMAGE&&(this.elType="image"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var a,b;if(this.type!==h.OBJECT_TYPE_GLIDER){if(this.transformations.length=0,this.isDraggable)return;this.isDraggable=!0,this.elementClass===h.OBJECT_CLASS_POINT&&(this.type=h.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null}for(a in this.board.objects)this.board.objects.hasOwnProperty(a)&&(b=this.board.objects[a],b.descendants&&(delete b.descendants[this.id],delete b.childElements[this.id],this.hasLabel&&(delete b.descendants[this.label.id],delete b.childElements[this.label.id])));this.ancestors={},this.slideObject=null,this.slideObjects=[],this.elementClass===h.OBJECT_CLASS_POINT?(this.type=h.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===h.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===h.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(a){var b,c,d=[],e=["X","Y"],f=function(a){return function(){return a}},g=function(a){return function(){return a.Value()}};for(this.elementClass===h.OBJECT_CLASS_POINT&&(this.type=h.OBJECT_TYPE_CAS),this.isDraggable=!1,b=0;b<a.length;b++)c=a[b],"string"==typeof c?(d[b]=this.board.jc.snippet(c,!0,null,!0),2===a.length&&(this[e[b]+"jc"]=a[b])):"function"==typeof c?d[b]=c:"number"==typeof c?d[b]=f(c):"object"==typeof c&&"function"==typeof c.Value&&(d[b]=g(c)),d[b].origin=c;return 1===a.length?this.updateConstraint=function(){var a=d[0]();k.isArray(a)?this.coords.setCoordinates(h.COORDS_BY_USER,a):this.coords=a}:2===a.length?(this.XEval=d[0],this.YEval=d[1],this.setParents([d[0].origin,d[1].origin]),this.updateConstraint=function(){this.coords.setCoordinates(h.COORDS_BY_USER,[this.XEval(),this.YEval()])}):(this.ZEval=d[0],this.XEval=d[1],this.YEval=d[2],this.setParents([d[0].origin,d[1].origin,d[2].origin]),this.updateConstraint=function(){this.coords.setCoordinates(h.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])}),this.prepareUpdate().update(),this.board.isSuspendedUpdate||this.updateRenderer(),this},addAnchor:function(a,b){b?this.relativeCoords=new g(h.COORDS_BY_SCREEN,a.slice(0,2),this.board):this.relativeCoords=new g(h.COORDS_BY_USER,a,this.board),this.element.addChild(this),this.addParents(this.element),this.XEval=function(){var a,b,c;return this.visProp.islabel?(a=parseFloat(this.visProp.offset[0]),c=this.element.getLabelAnchor(),b=new g(h.COORDS_BY_SCREEN,[a+this.relativeCoords.scrCoords[1]+c.scrCoords[1],0],this.board),b.usrCoords[1]):(c=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+c.usrCoords[1])},this.YEval=function(){var a,b,c;return this.visProp.islabel?(a=-parseFloat(this.visProp.offset[1]),c=this.element.getLabelAnchor(),b=new g(h.COORDS_BY_SCREEN,[0,a+this.relativeCoords.scrCoords[2]+c.scrCoords[2]],this.board),b.usrCoords[2]):(c=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+c.usrCoords[2])},this.ZEval=k.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(h.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.coords=new g(h.COORDS_BY_SCREEN,[0,0],this.board)},updateTransform:function(){var a;if(0===this.transformations.length)return this;for(a=0;a<this.transformations.length;a++)this.transformations[a].update();return this},addTransform:function(a,b){var c,d=k.isArray(b)?b:[b],e=d.length;for(0===this.transformations.length&&(this.baseElement=a),c=0;e>c;c++)this.transformations.push(d[c]);return this},startAnimation:function(a,b){var c=this;return this.type!==h.OBJECT_TYPE_GLIDER||k.exists(this.intervalCode)||(this.intervalCode=window.setInterval(function(){c._anim(a,b)},250),k.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return k.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(a,b,c){c=c||{};var d,f,g=[],i=[],j=this.board.attr.animationdelay,l=b/j,m=function(b,c){return function(){return a[b][c]}};if(k.isArray(a)){for(d=0;d<a.length;d++)k.isPoint(a[d])?i[d]=a[d]:i[d]={elementClass:h.OBJECT_CLASS_POINT,X:m(d,0),Y:m(d,1)};if(b=b||0,0===b)return this.setPosition(h.COORDS_BY_USER,[i[i.length-1].X(),i[i.length-1].Y()]),this.board.update(this);if(!k.exists(c.interpolate)||c.interpolate)for(f=e.Neville(i),d=0;l>d;d++)g[d]=[],g[d][0]=f[0]((l-d)/l*f[3]()),g[d][1]=f[1]((l-d)/l*f[3]());else for(d=0;l>d;d++)g[d]=[],g[d][0]=a[Math.floor((l-d)/l*(a.length-1))][0],g[d][1]=a[Math.floor((l-d)/l*(a.length-1))][1];this.animationPath=g}else k.isFunction(a)&&(this.animationPath=a,this.animationStart=(new Date).getTime());return this.animationCallback=c.callback,this.board.addAnimation(this),this},moveTo:function(a,b,d){d=d||{},a=new g(h.COORDS_BY_USER,a,this.board);var e,f=this.board.attr.animationdelay,i=Math.ceil(b/f),j=[],l=this.coords.usrCoords[1],m=this.coords.usrCoords[2],n=a.usrCoords[1]-l,o=a.usrCoords[2]-m,p=function(a){return d.effect&&"<>"===d.effect?Math.pow(Math.sin(a/i*Math.PI/2),2):a/i};if(!k.exists(b)||0===b||Math.abs(a.usrCoords[0]-this.coords.usrCoords[0])>c.eps)return this.setPosition(h.COORDS_BY_USER,a.usrCoords),this.board.update(this);if(!k.exists(d.callback)&&Math.abs(n)<c.eps&&Math.abs(o)<c.eps)return this;for(e=i;e>=0;e--)j[i-e]=[a.usrCoords[0],l+n*p(e),m+o*p(e)];return this.animationPath=j,this.animationCallback=d.callback,this.board.addAnimation(this),this},visit:function(a,b,c){a=new g(h.COORDS_BY_USER,a,this.board);var d,e,f,i=this.board.attr.animationdelay,j=[],l=this.coords.usrCoords[1],m=this.coords.usrCoords[2],n=a.usrCoords[1]-l,o=a.usrCoords[2]-m,p=function(a){var b=f/2>a?2*a/f:2*(f-a)/f;return c.effect&&"<>"===c.effect?Math.pow(Math.sin(b*Math.PI/2),2):b};for("number"==typeof c?c={repeat:c}:(c=c||{},k.exists(c.repeat)||(c.repeat=1)),f=Math.ceil(b/(i*c.repeat)),e=0;e<c.repeat;e++)for(d=f;d>=0;d--)j[e*(f+1)+f-d]=[a.usrCoords[0],l+n*p(d),m+o*p(d)];return this.animationPath=j,this.animationCallback=c.callback,this.board.addAnimation(this),this},_anim:function(a,b){var c,e,f,g,i,j,k,l,m=1;return this.intervalCount+=1,this.intervalCount>b&&(this.intervalCount=0),this.slideObject.elementClass===h.OBJECT_CLASS_LINE?(c=this.slideObject.point1.coords.distance(h.COORDS_BY_SCREEN,this.slideObject.point2.coords),e=this.slideObject.getSlope(),e!==1/0?(i=Math.atan(e),f=Math.round(this.intervalCount/b*c*Math.cos(i)),g=Math.round(this.intervalCount/b*c*Math.sin(i))):(f=0,g=Math.round(this.intervalCount/b*c)),0>a?(j=this.slideObject.point2,this.slideObject.point2.coords.scrCoords[1]-this.slideObject.point1.coords.scrCoords[1]>0?m=-1:this.slideObject.point2.coords.scrCoords[1]-this.slideObject.point1.coords.scrCoords[1]===0&&this.slideObject.point2.coords.scrCoords[2]-this.slideObject.point1.coords.scrCoords[2]>0&&(m=-1)):(j=this.slideObject.point1,this.slideObject.point1.coords.scrCoords[1]-this.slideObject.point2.coords.scrCoords[1]>0?m=-1:this.slideObject.point1.coords.scrCoords[1]-this.slideObject.point2.coords.scrCoords[1]===0&&this.slideObject.point1.coords.scrCoords[2]-this.slideObject.point2.coords.scrCoords[2]>0&&(m=-1)),this.coords.setCoordinates(h.COORDS_BY_SCREEN,[j.coords.scrCoords[1]+m*f,j.coords.scrCoords[2]+m*g])):this.slideObject.elementClass===h.OBJECT_CLASS_CURVE?(k=a>0?Math.round(this.intervalCount/b*this.board.canvasWidth):Math.round((b-this.intervalCount)/b*this.board.canvasWidth),this.coords.setCoordinates(h.COORDS_BY_SCREEN,[k,0]),this.coords=d.projectPointToCurve(this,this.slideObject,this.board)):this.slideObject.elementClass===h.OBJECT_CLASS_CIRCLE&&(i=0>a?this.intervalCount/b*2*Math.PI:(b-this.intervalCount)/b*2*Math.PI,l=this.slideObject.Radius(),this.coords.setCoordinates(h.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+l*Math.cos(i),this.slideObject.center.coords.usrCoords[2]+l*Math.sin(i)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var a=[this.Z(),this.X(),this.Y()];return 0!==this.parents.length&&(a=this.parents),this.type===h.OBJECT_TYPE_GLIDER&&(a=[this.X(),this.Y(),this.slideObject.id]),a}}),a.CoordsElement.create=function(a,b,c,d,e,f){var g,h,i=!1;for(h=0;h<c.length;h++)("function"==typeof c[h]||"string"==typeof c[h])&&(i=!0);if(i)g=new a(b,[0,0],d,e,f),g.addConstraint(c);else if(k.isNumber(c[0])&&k.isNumber(c[1]))g=new a(b,c,d,e,f),k.exists(d.slideobject)?g.makeGlider(d.slideobject):g.baseElement=g,g.isDraggable=!0;else{if("object"!=typeof c[0]||"object"!=typeof c[1])return!1;g=new a(b,[0,0],d,e,f),g.addTransform(c[0],c[1]),g.isDraggable=!1}return g.handleSnapToGrid(),g.handleSnapToPoints(),g.handleAttractors(),g.addParents(c),g},a.CoordsElement}),define("base/text",["jxg","base/constants","base/coords","base/element","parser/geonext","math/statistics","utils/env","utils/type","math/math","base/coordselement"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k={HTMLSliderInputEventHandler:function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()}};return a.Text=function(a,c,d,e){this.constructor(a,d,b.OBJECT_TYPE_TEXT,b.OBJECT_CLASS_TEXT),this.element=this.board.select(d.anchor),this.coordsConstructor(c,this.visProp.islabel),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this._setUpdateText(e),this.updateText(),this.board.renderer.drawText(this),this.board.finalizeAdding(this),"string"==typeof this.content&&this.notifyParents(this.content),this.elType="text",this.methodMap=h.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords"})},a.Text.prototype=new d,h.copyPrototypeMethods(a.Text,j,"coordsConstructor"),a.extend(a.Text.prototype,{hasPoint:function(a,b){var c,d,e,f,g=this.board.options.precision.hasPoint;return this.transformations.length>0&&(c=i.matVecMult(i.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,a,b]),a=c[1],b=c[2]),c="right"===this.visProp.anchorx?this.coords.scrCoords[1]-this.size[0]:"middle"===this.visProp.anchorx?this.coords.scrCoords[1]-.5*this.size[0]:this.coords.scrCoords[1],d=c+this.size[0],f="top"===this.visProp.anchory?this.coords.scrCoords[2]+this.size[1]:"middle"===this.visProp.anchory?this.coords.scrCoords[2]+.5*this.size[1]:this.coords.scrCoords[2],e=f-this.size[1],"all"===this.visProp.dragarea?a>=c-g&&d+g>a&&b>=e-g&&f+g>=b:b>=e-g&&f+g>=b&&(a>=c-g&&c+2*g>=a||a>=d-2*g&&d+g>=a)},_setUpdateText:function(a){var b;this.orgText=a,"function"==typeof a?this.updateText=function(){this.visProp.parse&&!this.visProp.usemathjax?this.plaintext=this.replaceSub(this.replaceSup(this.convertGeonext2CSS(a()))):this.plaintext=a()}:h.isString(a)&&!this.visProp.parse?this.updateText=function(){this.plaintext=a}:(h.isNumber(a)?this.content=a.toFixed(this.visProp.digits):this.visProp.useasciimathml?this.content="'`"+a+"`'":this.visProp.usemathjax?this.content="'"+a+"'":this.content=this.generateTerm(a,!0),b=this.board.jc.snippet(this.content,!0,"",!1),this.updateText=function(){this.plaintext=b()})},_setText:function(a){return this._setUpdateText(a),this.updateText(),this.prepareUpdate().update().updateRenderer(),this.board.infobox&&this.id===this.board.infobox.id||this.updateSize(),this},setTextJessieCode:function(a){var b;return this.visProp.castext=a,b="function"==typeof a?function(){return h.sanitizeHTML(a())}:h.isNumber(a)?a:h.sanitizeHTML(a),this._setText(b)},setText:function(a){return this._setText(a)},updateSize:function(){var b,c,d;if(!g.isBrowser||"no"===this.board.renderer.type)return this;if("html"===this.visProp.display||"vml"===this.board.renderer.type)a.exists(this.rendNode.offsetWidth)?(c=[this.rendNode.offsetWidth,this.rendNode.offsetHeight],0===c[0]&&0===c[1]?(d=this,window.setTimeout(function(){d.size=[d.rendNode.offsetWidth,d.rendNode.offsetHeight]},0)):this.size=c):this.size=this.crudeSizeEstimate();else if("internal"===this.visProp.display)if("svg"===this.board.renderer.type)try{b=this.rendNode.getBBox(),this.size=[b.width,b.height]}catch(e){}else"canvas"===this.board.renderer.type&&(this.size=this.crudeSizeEstimate());return this},crudeSizeEstimate:function(){return[parseFloat(this.visProp.fontsize)*this.plaintext.length*.45,.9*parseFloat(this.visProp.fontsize)]},utf8_decode:function(a){return a.replace(/&#x(\w+);/g,function(a,b){return String.fromCharCode(parseInt(b,16))})},replaceSub:function(a){if(!a.indexOf)return a;for(var b,c=a.indexOf("_{");c>=0;)a=a.substr(0,c)+a.substr(c).replace(/_\{/,"<sub>"),b=a.substr(c).indexOf("}"),b>=0&&(a=a.substr(0,b)+a.substr(b).replace(/\}/,"</sub>")),c=a.indexOf("_{");for(c=a.indexOf("_");c>=0;)a=a.substr(0,c)+a.substr(c).replace(/_(.?)/,"<sub>$1</sub>"),c=a.indexOf("_");return a},replaceSup:function(a){if(!a.indexOf)return a;for(var b,c=a.indexOf("^{");c>=0;)a=a.substr(0,c)+a.substr(c).replace(/\^\{/,"<sup>"),b=a.substr(c).indexOf("}"),b>=0&&(a=a.substr(0,b)+a.substr(b).replace(/\}/,"</sup>")),c=a.indexOf("^{");for(c=a.indexOf("^");c>=0;)a=a.substr(0,c)+a.substr(c).replace(/\^(.?)/,"<sup>$1</sup>"),c=a.indexOf("^");return a},getSize:function(){return this.size},setCoords:function(a,c){var d,e,f;return h.isArray(a)&&a.length>1&&(c=a[1],a=a[0]),this.visProp.islabel&&h.exists(this.element)?(d=this.element.getLabelAnchor(),e=(a-d.usrCoords[1])*this.board.unitX,f=-(c-d.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(b.COORDS_BY_SCREEN,[e,f])):this.coords.setCoordinates(b.COORDS_BY_USER,[a,c]),this.prepareUpdate().update().updateRenderer(),this},update:function(a){return this.needsUpdate?(this.updateCoords(a),this.updateText(),"internal"===this.visProp.display&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return this.updateRendererGeneric("updateText")},expandShortMath:function(a){var b=/([\)0-9\.])\s*([\(a-zA-Z_])/g;return a.replace(b,"$1*$2")},generateTerm:function(a,b){var c,d,f,g,i='""';if(a=a||"",a=a.replace(/\r/g,""),a=a.replace(/\n/g,""),a=a.replace(/"/g,"'"),a=a.replace(/'/g,"\\'"),a=a.replace(/&amp;arc;/g,"&ang;"),a=a.replace(/<arc\s*\/>/g,"&ang;"),a=a.replace(/&lt;arc\s*\/&gt;/g,"&ang;"),a=a.replace(/&lt;sqrt\s*\/&gt;/g,"&radic;"),a=a.replace(/&lt;value&gt;/g,"<value>"),a=a.replace(/&lt;\/value&gt;/g,"</value>"),f=a.indexOf("<value>"),g=a.indexOf("</value>"),f>=0)for(;f>=0;)i+=' + "'+this.replaceSub(this.replaceSup(a.slice(0,f)))+'"',d=a.slice(f+7,g),b===!0&&(d=this.expandShortMath(d)),c=e.geonext2JS(d,this.board),c=c.replace(/\\"/g,"'"),c=c.replace(/\\'/g,"'"),i+=c.indexOf("toFixed")<0&&h.isNumber(h.bind(this.board.jc.snippet(c,!0,"",!1),this)())?"+("+c+").toFixed("+this.visProp.digits+")":"+("+c+")",a=a.slice(g+8),f=a.indexOf("<value>"),g=a.indexOf("</value>");return i+=' + "'+this.replaceSub(this.replaceSup(a))+'"',i=this.convertGeonext2CSS(i),i=i.replace(/&amp;/g,"&"),i=i.replace(/"/g,"'")},convertGeonext2CSS:function(a){return"string"==typeof a&&(a=a.replace(/<overline>/g,"<span style=text-decoration:overline>"),a=a.replace(/&lt;overline&gt;/g,"<span style=text-decoration:overline>"),a=a.replace(/<\/overline>/g,"</span>"),a=a.replace(/&lt;\/overline&gt;/g,"</span>"),a=a.replace(/<arrow>/g,"<span style=text-decoration:overline>"),a=a.replace(/&lt;arrow&gt;/g,"<span style=text-decoration:overline>"),a=a.replace(/<\/arrow>/g,"</span>"),a=a.replace(/&lt;\/arrow&gt;/g,"</span>")),a},notifyParents:function(a){var b,c=null;a=a.replace(/&lt;value&gt;/g,"<value>"),a=a.replace(/&lt;\/value&gt;/g,"</value>");do b=/<value>([\w\s\*\/\^\-\+\(\)\[\],<>=!]+)<\/value>/,c=b.exec(a),null!==c&&(e.findDependencies(this,c[1],this.board),a=a.substr(c.index),a=a.replace(b,""));while(null!==c);return this},getParents:function(){var a=[this.Z(),this.X(),this.Y(),this.orgText];return 0!==this.parents.length&&(a=this.parents),a},bounds:function(){var a=this.coords.usrCoords;return this.visProp.islabel||0==this.board.unitY||0==this.board.unitX?[0,0,0,0]:[a[1],a[2]+this.size[1]/this.board.unitY,a[1]+this.size[0]/this.board.unitX,a[2]]}}),a.createText=function(b,c,d){var e,f=h.copyAttributes(d,b.options,"text"),g=c.slice(0,-1),i=c[c.length-1];if(f.anchor=f.parent||f.anchor,e=j.create(a.Text,b,g,f,i),!e)throw new Error("JSXGraph: Can't create text with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==h.evaluate(f.rotate)&&"internal"===f.display&&e.addRotation(h.evaluate(f.rotate)),e},a.registerElement("text",a.createText),a.createHTMLSlider=function(b,c,d){var e,f,i=h.copyAttributes(d,b.options,"htmlslider");if(2!==c.length||2!==c[0].length||3!==c[1].length)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parents are: [[x,y], [min, start, max]]");return i.anchor=i.parent||i.anchor,i.fixed=i.fixed||!0,f=[c[0][0],c[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],e=a.createText(b,f,i),e.type=h.OBJECT_TYPE_HTMLSLIDER,e.rendNodeForm=e.rendNode.childNodes[0],e.rendNodeForm.id=e.rendNode.id+"_form",e.rendNodeRange=e.rendNodeForm.childNodes[0],e.rendNodeRange.id=e.rendNode.id+"_range",e.rendNodeRange.min=c[1][0],e.rendNodeRange.max=c[1][2],e.rendNodeRange.step=i.step,e.rendNodeRange.value=c[1][1],e.rendNodeLabel=e.rendNodeForm.childNodes[1],e.rendNodeLabel.id=e.rendNode.id+"_label",i.withlabel&&(e.rendNodeLabel.innerHTML=e.name+"="),e.rendNodeOut=e.rendNodeForm.childNodes[2],e.rendNodeOut.id=e.rendNode.id+"_out",e.rendNodeOut.value=c[1][1],e.rendNodeRange.style.width=i.widthrange+"px",e.rendNodeRange.style.verticalAlign="middle",e.rendNodeOut.style.width=i.widthout+"px",e._val=c[1][1],a.supportsVML()?g.addEvent(e.rendNodeForm,"change",k.HTMLSliderInputEventHandler,e):g.addEvent(e.rendNodeForm,"input",k.HTMLSliderInputEventHandler,e),e.Value=function(){return this._val},e},a.registerElement("htmlslider",a.createHTMLSlider),{Text:a.Text,createText:a.createText,createHTMLSlider:a.createHTMLSlider}}),define("utils/uuid",["jxg"],function(a){"use strict";var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c=b.split("");return a.Util=a.Util||{},a.Util.genUUID=function(){var a,b,d=[],e=0;for(b=0;36>b;b++)8===b||13===b||18===b||23===b?d[b]="-":14===b?d[b]="4":(2>=e&&(e=33554432+16777216*Math.random()|0),a=15&e,e>>=4,d[b]=c[19===b?3&a|8:a]);return d.join("")},a.Util}),define("parser/jessiecode",["jxg","base/constants","base/text","math/math","math/geometry","math/statistics","utils/type","utils/uuid","utils/env"],function(JXG,Const,Text,Mat,Geometry,Statistics,Type,UUID,Env){var priv={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}};JXG.JessieCode=function(a,b){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.board=null,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,this.code="","string"==typeof a&&this.parse(a,b)},JXG.extend(JXG.JessieCode.prototype,{node:function(a,b,c){return{type:a,value:b,children:c}},createNode:function(a,b,c){var d,e=this.node(a,b,[]);for(d=2;d<arguments.length;d++)e.children.push(arguments[d]);return e.line=this.parCurLine,e.col=this.parCurColumn,e},pushScope:function(a){var b={args:a,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=b,b.id=this.scopes.push(b)-1,b},popScope:function(){var a=this.scope.previous;return this.scope=null!==a?a:this.scope,this.scope},getElementById:function(a){return this.board.objects[a]},log:function(){this.$log.push(arguments),"object"==typeof console&&console.log&&console.log.apply(console,arguments)},creator:function(){var a,b={};return a=function(a){var c;return"function"==typeof b[this.board.id+a]?c=b[this.board.id+a]:(c=function(b){return function(c,d){var e;return e=Type.exists(d)?d:{name:0!==b.lhs[b.scope]?b.lhs[b.scope]:""},b.board.create(a,c,e)}}(this),c.creator=!0,b[this.board.id+a]=c),c},a.clearCache=function(){b={}},a}(),letvar:function(a,b){this.builtIn[a]&&this._warn('"'+a+'" is a predefined value.'),this.scope.locals[a]=b},isLocalVariable:function(a){for(var b=this.scope;null!==b;){if(Type.exists(b.locals[a]))return b;b=b.previous}return null},isParameter:function(a){for(var b=this.scope;null!==b;){if(Type.indexOf(b.args,a)>-1)return b;b=b.previous}return null},isCreator:function(a){return!!JXG.elements[a]},isMathMethod:function(a){return"E"!==a&&!!Math[a]},isBuiltIn:function(a){return!!this.builtIn[a]},getvar:function(a,b){var c,d;return b=Type.def(b,!1),c=this.isLocalVariable(a),null!==c?c.locals[a]:this.isCreator(a)?this.creator(a):this.isBuiltIn(a)?this.builtIn[a]:this.isMathMethod(a)?Math[a]:b||(c=this.board.select(a),c===a)?d:c},resolve:function(a){for(var b=this.scope;null!==b;){if(Type.exists(b.locals[a]))return b.locals[a];b=b.previous}},getvarJS:function(a,b,c){var d,e="";return b=Type.def(b,!1),c=Type.def(c,!1),d=this.isParameter(a),null!==d?a:(d=this.isLocalVariable(a),null===d||c?this.isCreator(a)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(c?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+a+"'].concat([a, props])); })":(c&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(a)?this.builtIn[a].src||this.builtIn[a]:this.isMathMethod(a)?"Math."+a:b?"":(Type.isId(this.board,a)?e="$jc$.board.objects['"+a+"']":Type.isName(this.board,a)?e="$jc$.board.elementsByName['"+a+"']":Type.isGroup(this.board,a)&&(e="$jc$.board.groups['"+a+"']"),e)):"$jc$.resolve('"+a+"')")},makeMap:function(a){return a.isMap=!0,a},functionCodeJS:function(a){var b=a.children[0].join(", "),c="",d="";return"op_map"===a.value&&(c="{ return  ",d=" }"),"function ("+b+") {\nvar $oldscope$ = $jc$.scope;\n$jc$.scope = $jc$.scopes["+this.scope.id+"];\nvar r = (function () "+c+this.compile(a.children[1],!0)+d+")();\n$jc$.scope = $oldscope$;\nreturn r;\n}"},defineFunction:function(node){var fun,i,bo="",bc="",list=node.children[0],scope=this.pushScope(list);if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function($jc$,list){var fun,p=list.join(", "),str="var f = "+$jc$.functionCodeJS(node)+"; f;";try{return fun=eval(str)}catch(e){return $jc$._warn("error compiling function\n\n"+str+"\n\n"+e.toString()),function(){}}}(this,list),this.popScope()}else fun=function(a,b,c){return function(){var d,e;for(e=b.scope,b.scope=b.scopes[c],d=0;d<a.length;d++)b.scope.locals[a[d]]=arguments[d];return d=b.execute(node.children[1]),b.scope=e,d}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=function(a){return function(){return a.compile(a.replaceIDs(Type.deepCopy(node)))}}(this),fun.deps={},this.collectDependencies(node.children[1],fun.deps),fun},mergeAttributes:function(a){var b,c={};for(b=0;b<arguments.length;b++)c=Type.deepCopy(c,arguments[b],!0);return c},setProp:function(a,b,c){var d,e,f={};a.elementClass!==Const.OBJECT_CLASS_POINT||"X"!==b&&"Y"!==b?a.elementClass!==Const.OBJECT_CLASS_TEXT||"X"!==b&&"Y"!==b?a.type&&a.elementClass&&a.visProp?Type.exists(a[a.methodMap[b]])&&"function"!=typeof a[a.methodMap[b]]?a[a.methodMap[b]]=c:(f[b]=c,a.setAttribute(f)):a[b]=c:("number"==typeof c?a[b]=function(){return c}:"function"==typeof c?(a.isDraggable=!1,a[b]=c):"string"==typeof c&&(a.isDraggable=!1,a[b]=Type.createFunction(c,this.board,null,!0),a[b+"jc"]=c),a[b].origin=c,this.board.update()):(b=b.toLowerCase(),a.isDraggable&&"number"==typeof c?(d="x"===b?c:a.X(),e="y"===b?c:a.Y(),a.setPosition(Const.COORDS_BY_USER,[d,e])):!a.isDraggable||"function"!=typeof c&&"string"!=typeof c?a.isDraggable||(d="x"===b?c:a.XEval.origin,e="y"===b?c:a.YEval.origin,a.addConstraint([d,e])):(d="x"===b?c:a.coords.usrCoords[1],e="y"===b?c:a.coords.usrCoords[2],a.addConstraint([d,e])),this.board.update())},parse:function(a,b,c){var d,e,f,g,h=a.replace(/\r\n/g,"\n").split("\n"),i=[];c||(this.code+=a+"\n"),Text&&(e=Text.Text.prototype.setText,Text.Text.prototype.setText=Text.Text.prototype.setTextJessieCode);try{for(Type.exists(b)||(b=!1),d=0;d<h.length;d++)b&&(h[d]=JXG.GeonextParser.geonext2JS(h[d],this.board)),i.push(h[d]);a=i.join("\n"),f=parser.parse(a),g=this.execute(f)}finally{Text&&(Text.Text.prototype.setText=e)}return g},snippet:function(a,b,c,d){var e;return b=Type.def(b,!0),c=Type.def(c,""),d=Type.def(d,!1),e=(b?" function ("+c+") { return ":"")+a+(b?"; }":"")+";",this.parse(e,d,!0)},replaceIDs:function(a){var b,c;if(a.replaced&&(c=this.board.objects[a.children[1][0].value],Type.exists(c)&&""!==c.name&&(a.type="node_var",a.value=c.name,a.children.length=0,delete a.replaced)),a.children)for(b=a.children.length;b>0;b--)Type.exists(a.children[b-1])&&(a.children[b-1]=this.replaceIDs(a.children[b-1]));return a},replaceNames:function(a){var b,c;if(c=a.value,"node_op"===a.type&&"op_lhs"===c&&1===a.children.length?this.isLHS=!0:"node_var"===a.type&&(this.isLHS?this.letvar(c,!0):!Type.exists(this.getvar(c,!0))&&Type.exists(this.board.elementsByName[c])&&(a=this.createReplacementNode(a))),a.children)for(b=a.children.length;b>0;b--)Type.exists(a.children[b-1])&&(a.children[b-1]=this.replaceNames(a.children[b-1]));return"node_op"===a.type&&"op_lhs"===a.value&&1===a.children.length&&(this.isLHS=!1),a},createReplacementNode:function(a){var b=a.value,c=this.board.elementsByName[b];return a=this.createNode("node_op","op_execfun",this.createNode("node_var","$"),[this.createNode("node_str",c.id)]),a.replaced=!0,a},collectDependencies:function(a,b){var c,d,e;if(d=a.value,"node_var"===a.type&&(e=this.getvar(d),e&&e.visProp&&e.type&&e.elementClass&&e.id&&(b[e.id]=e)),"node_op"===a.type&&"op_execfun"===a.value&&a.children.length>1&&"$"===a.children[0].value&&a.children[1].length>0&&(e=a.children[1][0].value,b[e]=this.board.objects[e]),a.children)for(c=a.children.length;c>0;c--)Type.exists(a.children[c-1])&&this.collectDependencies(a.children[c-1],b)},resolveProperty:function(a,b,c){return c=Type.def(c,!1),a&&a.methodMap&&(Type.exists(a.subs)&&Type.exists(a.subs[b])?a=a.subs:Type.exists(a.methodMap[b])?b=a.methodMap[b]:(a=a.visProp,b=b.toLowerCase())),Type.exists(a)||this._error(a+" is not an object"),Type.exists(a[b])||this._error("unknown property "+b),c&&"function"==typeof a[b]?function(){return a[b].apply(a,arguments)}:a[b]},getLHS:function(a){var b;if("node_var"===a.type)b={o:this.scope.locals,what:a.value};else if("node_op"===a.type&&"op_property"===a.value)b={o:this.execute(a.children[0]),what:a.children[1]};else{if("node_op"!==a.type||"op_extvalue"!==a.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");b={o:this.execute(a.children[0]),what:this.execute(a.children[1])}}return b},getLHSCompiler:function(a,b){var c;if("node_var"===a.type)c=a.value;else if("node_op"===a.type&&"op_property"===a.value)c=[this.compile(a.children[0],b),"'"+a.children[1]+"'"];else{if("node_op"!==a.type||"op_extvalue"!==a.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");c=[this.compile(a.children[0]),"node_const"===a.children[1].type?a.children[1].value:this.compile(a.children[1],b)]}return c},execute:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=[];if(b=0,!a)return b;switch(this.line=a.line,this.col=a.col,a.type){case"node_op":switch(a.value){case"op_none":a.children[0]&&this.execute(a.children[0]),a.children[1]&&(b=this.execute(a.children[1]));break;case"op_assign":c=this.getLHS(a.children[0]),this.lhs[this.scope.id]=c[1],c.o.type&&c.o.elementClass&&c.o.methodMap&&"label"===c.what&&this._error("Left-hand side of assignment is read-only."),b=this.execute(a.children[1]),c.o!==this.scope.locals||Type.isArray(c.o)&&"number"==typeof c.what?this.setProp(c.o,c.what,b):this.letvar(c.what,b),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(a.children[0])&&(b=this.execute(a.children[1]));break;case"op_conditional":case"op_if_else":b=this.execute(a.children[0])?this.execute(a.children[1]):this.execute(a.children[2]);break;case"op_while":for(;this.execute(a.children[0]);)this.execute(a.children[1]);break;case"op_do":do this.execute(a.children[0]);while(this.execute(a.children[1]));break;case"op_for":for(this.execute(a.children[0]);this.execute(a.children[1]);this.execute(a.children[2]))this.execute(a.children[3]);break;case"op_proplst":a.children[0]&&this.execute(a.children[0]),a.children[1]&&this.execute(a.children[1]);break;case"op_emptyobject":b={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(a.children[0]),b=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][a.children[0]]=this.execute(a.children[1]);break;case"op_array":for(b=[],f=a.children[0].length,d=0;f>d;d++)b.push(this.execute(a.children[0][d]));break;case"op_extvalue":b=this.execute(a.children[0]),d=this.execute(a.children[1]),b="number"==typeof d&&Math.abs(Math.round(d)-d)<Mat.eps?b[d]:g;break;case"op_return":if(0!==this.scope)return this.execute(a.children[0]);this._error("Unexpected return.");break;case"op_map":a.children[1].isMath||this._error("In a map only function calls and mathematical expressions are allowed."),j=this.defineFunction(a),j.isMap=!0,b=j;break;case"op_function":j=this.defineFunction(a),j.isMap=!1,b=j;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,h=a.children[1],Type.exists(a.children[2]))if(a.children[3])for(i=a.children[2],k={},d=0;d<i.length;d++)k=Type.deepCopy(k,this.execute(i[d]),!0);else k=this.execute(a.children[2]);for(j=this.execute(a.children[0]),l=j&&j.sc?j.sc:this,!j.creator&&Type.exists(a.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),d=0;d<h.length;d++)m[d]=this.execute(h[d]),this.dpstack[this.pscope].push({line:a.children[1][d].line,col:a.children[1][d].ecol});if("function"!=typeof j||j.creator)if("function"==typeof j&&j.creator){e=this.line;try{for(b=j(m,k),b.jcLineStart=e,b.jcLineEnd=a.eline,d=e;d<=a.line;d++)this.lineToElement[d]=b;b.debugParents=this.dpstack[this.pscope]}catch(n){this._error(n.toString())}}else this._error("Function '"+j+"' is undefined.");else b=j.apply(l,m);
this.dpstack.pop(),this.pscope--;break;case"op_property":e=this.execute(a.children[0]),c=a.children[1],b=this.resolveProperty(e,c,!1),Type.exists(b)&&(b.sc=e);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(a.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),c=this.getvar(a.children[0]),b=this.del(c);break;case"op_equ":b=this.execute(a.children[0])==this.execute(a.children[1]);break;case"op_neq":b=this.execute(a.children[0])!=this.execute(a.children[1]);break;case"op_approx":b=Math.abs(this.execute(a.children[0])-this.execute(a.children[1]))<Mat.eps;break;case"op_grt":b=this.execute(a.children[0])>this.execute(a.children[1]);break;case"op_lot":b=this.execute(a.children[0])<this.execute(a.children[1]);break;case"op_gre":b=this.execute(a.children[0])>=this.execute(a.children[1]);break;case"op_loe":b=this.execute(a.children[0])<=this.execute(a.children[1]);break;case"op_or":b=this.execute(a.children[0])||this.execute(a.children[1]);break;case"op_and":b=this.execute(a.children[0])&&this.execute(a.children[1]);break;case"op_not":b=!this.execute(a.children[0]);break;case"op_add":b=this.add(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_sub":b=this.sub(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_div":b=this.div(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_mod":b=this.mod(this.execute(a.children[0]),this.execute(a.children[1]),!0);break;case"op_mul":b=this.mul(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_exp":b=this.pow(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_neg":b=-1*this.execute(a.children[0])}break;case"node_var":b=this.getvar(a.value);break;case"node_const":b=Number(a.value);break;case"node_const_bool":b=a.value;break;case"node_str":b=a.value.replace(/\\(.)/,"$1")}return b},compile:function(a,b){var c,d,e,f,g="";if(Type.exists(b)||(b=!1),!a)return g;switch(a.type){case"node_op":switch(a.value){case"op_none":a.children[0]&&(g=this.compile(a.children[0],b)),a.children[1]&&(g+=this.compile(a.children[1],b));break;case"op_assign":b?(c=this.getLHSCompiler(a.children[0]),Type.isArray(c)?g="$jc$.setProp("+c[0]+", "+c[1]+", "+this.compile(a.children[1],b)+");\n":(this.isLocalVariable(c)!==this.scope&&(this.scope.locals[c]=!0),g="$jc$.scopes["+this.scope.id+"].locals['"+c+"'] = "+this.compile(a.children[1],b)+";\n")):(c=this.compile(a.children[0]),g=c+" = "+this.compile(a.children[1],b)+";\n");break;case"op_if":g=" if ("+this.compile(a.children[0],b)+") "+this.compile(a.children[1],b);break;case"op_if_else":g=" if ("+this.compile(a.children[0],b)+")"+this.compile(a.children[1],b),g+=" else "+this.compile(a.children[2],b);break;case"op_conditional":g="(("+this.compile(a.children[0],b)+")?("+this.compile(a.children[1],b),g+="):("+this.compile(a.children[2],b)+"))";break;case"op_while":g=" while ("+this.compile(a.children[0],b)+") {\n"+this.compile(a.children[1],b)+"}\n";break;case"op_do":g=" do {\n"+this.compile(a.children[0],b)+"} while ("+this.compile(a.children[1],b)+");\n";break;case"op_for":g=" for ("+this.compile(a.children[0],b)+"; "+this.compile(a.children[1],b)+"; "+this.compile(a.children[2],b)+") {\n"+this.compile(a.children[3],b)+"\n}\n";break;case"op_proplst":a.children[0]&&(g=this.compile(a.children[0],b)+", "),g+=this.compile(a.children[1],b);break;case"op_prop":g=a.children[0]+": "+this.compile(a.children[1],b);break;case"op_emptyobject":g=b?"{}":"<< >>";break;case"op_proplst_val":g=this.compile(a.children[0],b);break;case"op_array":for(e=[],d=0;d<a.children[0].length;d++)e.push(this.compile(a.children[0][d]),b);g="["+e.join(", ")+"]";break;case"op_extvalue":g=this.compile(a.children[0],b)+"["+this.compile(a.children[1],b)+"]";break;case"op_return":g=" return "+this.compile(a.children[0],b)+";\n";break;case"op_map":a.children[1].isMath||this._error("In a map only function calls and mathematical expressions are allowed."),e=a.children[0],g=b?" $jc$.makeMap(function ("+e.join(", ")+") { return "+this.compile(a.children[1],b)+"; })":"map ("+e.join(", ")+") -> "+this.compile(a.children[1],b);break;case"op_function":e=a.children[0],f=this.pushScope(e),g=b?this.functionCodeJS(a):" function ("+e.join(", ")+") "+this.compile(a.children[1],b),this.popScope();break;case"op_execfunmath":console.log("TODO"),g="-1";break;case"op_execfun":if(a.children[2]){for(e=[],d=0;d<a.children[2].length;d++)e.push(this.compile(a.children[2][d],b));b&&(c="$jc$.mergeAttributes("+e.join(", ")+")")}for(a.children[0].withProps=!!a.children[2],e=[],d=0;d<a.children[1].length;d++)e.push(this.compile(a.children[1][d],b));g=this.compile(a.children[0],b)+"("+e.join(", ")+(a.children[2]&&b?", "+c:"")+")"+(a.children[2]&&!b?c:""),b&&"$"===a.children[0].value&&(g="$jc$.board.objects["+this.compile(a.children[1][0],b)+"]");break;case"op_property":g=b&&"X"!==a.children[1]&&"Y"!==a.children[1]?"$jc$.resolveProperty("+this.compile(a.children[0],b)+", '"+a.children[1]+"', true)":this.compile(a.children[0],b)+"."+a.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),g=b?"$jc$.use('":"use('",g+=a.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),g=b?"$jc$.del(":"remove(",g+=this.compile(a.children[0],b)+")";break;case"op_equ":g="("+this.compile(a.children[0],b)+" == "+this.compile(a.children[1],b)+")";break;case"op_neq":g="("+this.compile(a.children[0],b)+" != "+this.compile(a.children[1],b)+")";break;case"op_approx":g="("+this.compile(a.children[0],b)+" ~= "+this.compile(a.children[1],b)+")";break;case"op_grt":g="("+this.compile(a.children[0],b)+" > "+this.compile(a.children[1],b)+")";break;case"op_lot":g="("+this.compile(a.children[0],b)+" < "+this.compile(a.children[1],b)+")";break;case"op_gre":g="("+this.compile(a.children[0],b)+" >= "+this.compile(a.children[1],b)+")";break;case"op_loe":g="("+this.compile(a.children[0],b)+" <= "+this.compile(a.children[1],b)+")";break;case"op_or":g="("+this.compile(a.children[0],b)+" || "+this.compile(a.children[1],b)+")";break;case"op_and":g="("+this.compile(a.children[0],b)+" && "+this.compile(a.children[1],b)+")";break;case"op_not":g="!("+this.compile(a.children[0],b)+")";break;case"op_add":g=b?"$jc$.add("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" + "+this.compile(a.children[1],b)+")";break;case"op_sub":g=b?"$jc$.sub("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" - "+this.compile(a.children[1],b)+")";break;case"op_div":g=b?"$jc$.div("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" / "+this.compile(a.children[1],b)+")";break;case"op_mod":g=b?"$jc$.mod("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+", true)":"("+this.compile(a.children[0],b)+" % "+this.compile(a.children[1],b)+")";break;case"op_mul":g=b?"$jc$.mul("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" * "+this.compile(a.children[1],b)+")";break;case"op_exp":g=b?"$jc$.pow("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+"^"+this.compile(a.children[1],b)+")";break;case"op_neg":g="(-"+this.compile(a.children[0],b)+")"}break;case"node_var":g=b?this.getvarJS(a.value,!1,a.withProps):a.value;break;case"node_const":g=a.value;break;case"node_const_bool":g=a.value;break;case"node_str":g="'"+a.value+"'"}return a.needsBrackets&&(g="{\n"+g+"}\n"),g},X:function(a){return a.X()},Y:function(a){return a.Y()},V:function(a){return a.Value()},L:function(a){return a.L()},dist:function(a,b){return Type.exists(a)&&Type.exists(a.Dist)||this._error("Error: Can't calculate distance."),a.Dist(b)},add:function(a,b){var c,d,e;if(a=Type.evalSlider(a),b=Type.evalSlider(b),Type.isArray(a)&&Type.isArray(b))for(d=Math.min(a.length,b.length),e=[],c=0;d>c;c++)e[c]=a[c]+b[c];else Type.isNumber(a)&&Type.isNumber(b)?e=a+b:Type.isString(a)||Type.isString(b)?e=a.toString()+b.toString():this._error("Operation + not defined on operands "+typeof a+" and "+typeof b);return e},sub:function(a,b){var c,d,e;if(a=Type.evalSlider(a),b=Type.evalSlider(b),Type.isArray(a)&&Type.isArray(b))for(d=Math.min(a.length,b.length),e=[],c=0;d>c;c++)e[c]=a[c]-b[c];else Type.isNumber(a)&&Type.isNumber(b)?e=a-b:this._error("Operation - not defined on operands "+typeof a+" and "+typeof b);return e},mul:function(a,b){var c,d,e;if(a=Type.evalSlider(a),b=Type.evalSlider(b),Type.isArray(a)&&Type.isNumber(b)&&(c=a,a=b,b=a),Type.isArray(a)&&Type.isArray(b))d=Math.min(a.length,b.length),e=Mat.innerProduct(a,b,d);else if(Type.isNumber(a)&&Type.isArray(b))for(d=b.length,e=[],c=0;d>c;c++)e[c]=a*b[c];else Type.isNumber(a)&&Type.isNumber(b)?e=a*b:this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},div:function(a,b){var c,d,e;if(a=Type.evalSlider(a),b=Type.evalSlider(b),Type.isArray(a)&&Type.isNumber(b))for(d=a.length,e=[],c=0;d>c;c++)e[c]=a[c]/b;else Type.isNumber(a)&&Type.isNumber(b)?e=a/b:this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},mod:function(a,b){var c,d,e;if(a=Type.evalSlider(a),b=Type.evalSlider(b),Type.isArray(a)&&Type.isNumber(b))for(d=a.length,e=[],c=0;d>c;c++)e[c]=Mat.mod(a[c],b,!0);else Type.isNumber(a)&&Type.isNumber(b)?e=Mat.mod(a,b,!0):this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},pow:function(a,b){return a=Type.evalSlider(a),b=Type.evalSlider(b),Math.pow(a,b)},ifthen:function(a,b,c){return a?b:c},del:function(a){"object"==typeof a&&JXG.exists(a.type)&&JXG.exists(a.elementClass)&&this.board.removeObject(a)},use:function(a){var b,c,d=!1;if("string"==typeof a){for(b in JXG.boards)if(JXG.boards.hasOwnProperty(b)&&JXG.boards[b].container===a){c=JXG.boards[b],d=!0;break}}else c=a,d=!0;d?(this.board=c,this.builtIn.$board=c,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+a+"' not found!")},findSymbol:function(a,b){var c,d;for(b=Type.def(b,-1),d=-1===b?this.scope:this.scopes[b];null!==d;){for(c in d.locals)if(d.locals.hasOwnProperty(c)&&d.locals[c]===a)return[c,d];d=d.previous}return[]},importModule:function(a){return priv.modules[a.toLowerCase()]},defineBuiltIn:function(){var a=this,b={PI:Math.PI,EULER:Math.E,X:a.X,Y:a.Y,V:a.V,L:a.L,dist:a.dist,rad:Geometry.rad,deg:Geometry.trueAngle,factorial:Mat.factorial,trunc:Type.trunc,log:Mat.log,ln:Math.log,log10:Mat.log10,lg:Mat.log10,log2:Mat.log2,lb:Mat.log2,ld:Mat.log2,cosh:Mat.cosh,sinh:Mat.sinh,IfThen:a.ifthen,"import":a.importModule,use:a.use,remove:a.del,$:a.getElementById,$board:a.board,$log:a.log};return b.rad.sc=Geometry,b.deg.sc=Geometry,b.factorial.sc=Mat,b.X.src="$jc$.X",b.Y.src="$jc$.Y",b.V.src="$jc$.V",b.L.src="$jc$.L",b.dist.src="$jc$.dist",b.rad.src="JXG.Math.Geometry.rad",b.deg.src="JXG.Math.Geometry.trueAngle",b.factorial.src="JXG.Math.factorial",b.trunc.src="JXG.trunc",b.ln.src="Math.log",b.log10.src="JXG.Math.log10",b.lg.src="JXG.Math.log10",b.log2.src="JXG.Math.log2",b.lb.src="JXG.Math.log2",b.ld.src="JXG.Math.log2",b.cosh.src="JXG.Math.cosh",b.sinh.src="JXG.Math.sinh",b["import"].src="$jc$.importModule",b.use.src="$jc$.use",b.remove.src="$jc$.del",b.IfThen.src="$jc$.ifthen",b.$.src="(function (n) { return $jc$.board.select(n); })",b.$board&&(b.$board.src="$jc$.board"),b.$log.src="$jc$.log",b},_debug:function(a){"object"==typeof console?console.log(a):Env.isBrowser&&document&&null!==document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=a+"<br />")},_error:function(a){var b=new Error("Error("+this.line+"): "+a);throw b.line=this.line,b},_warn:function(a){"object"==typeof console?console.log("Warning("+this.line+"): "+a):Env.isBrowser&&document&&null!==document.getElementById(this.warnLog)&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+a+"<br />")},_log:function(a){"object"!=typeof window&&"object"==typeof self&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+a.toString()}):console.log("Log: ",arguments)}});var parser=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,6],[92,1],[92,3]],performAction:function(a,b,e,f,g,h,i){var j=h.length-1;switch(g){case 1:return h[j-1];case 2:this.$=c.createNode(d(i[j-4]),"node_op","op_if",h[j-2],h[j]);break;case 3:this.$=c.createNode(d(i[j-6]),"node_op","op_if_else",h[j-4],h[j-2],h[j]);break;case 4:this.$=c.createNode(d(i[j-4]),"node_op","op_while",h[j-2],h[j]);break;case 5:this.$=c.createNode(d(i[j-8]),"node_op","op_for",h[j-6],h[j-4],h[j-2],h[j]);break;case 6:this.$=c.createNode(d(i[j-6]),"node_op","op_do",h[j-5],h[j-2]);break;case 7:this.$=c.createNode(d(i[j-1]),"node_op","op_use",h[j]);break;case 8:this.$=c.createNode(d(i[j-1]),"node_op","op_delete",h[j]);break;case 9:this.$=c.createNode(d(i[j-1]),"node_op","op_return",void 0);break;case 10:this.$=c.createNode(d(i[j-2]),"node_op","op_return",h[j-1]);break;case 11:this.$=c.createNode(d(i[j]),"node_op","op_none");break;case 12:this.$=h[j-1],this.$.needsBrackets=!0;break;case 13:this.$=c.createNode(d(i[j-1]),"node_op","op_none",h[j-1],h[j]);break;case 14:this.$=c.createNode(d(i[j]),"node_op","op_none");break;case 15:this.$=h[j];break;case 16:this.$=h[j];break;case 17:this.$=h[j];break;case 18:this.$=h[j];break;case 19:this.$=h[j];break;case 20:this.$=h[j];break;case 21:this.$=h[j];break;case 22:this.$=h[j-1];break;case 23:this.$=h[j];break;case 24:this.$=h[j];break;case 25:this.$=c.createNode(d(i[j-2]),"node_op","op_assign",h[j-2],h[j]),this.$.isMath=!1;break;case 26:this.$=h[j];break;case 27:this.$=c.createNode(d(i[j-4]),"node_op","op_conditional",h[j-4],h[j-2],h[j]),this.$.isMath=!1;break;case 28:this.$=h[j];break;case 29:this.$=c.createNode(d(i[j-2]),"node_op","op_or",h[j-2],h[j]),this.$.isMath=!1;break;case 30:this.$=h[j];break;case 31:this.$=c.createNode(d(i[j-2]),"node_op","op_and",h[j-2],h[j]),this.$.isMath=!1;break;case 32:this.$=h[j];break;case 33:this.$=c.createNode(d(i[j-2]),"node_op","op_equ",h[j-2],h[j]),this.$.isMath=!1;break;case 34:this.$=c.createNode(d(i[j-2]),"node_op","op_neq",h[j-2],h[j]),this.$.isMath=!1;break;case 35:this.$=c.createNode(d(i[j-2]),"node_op","op_approx",h[j-2],h[j]),this.$.isMath=!1;break;case 36:this.$=h[j];break;case 37:this.$=c.createNode(d(i[j-2]),"node_op","op_lot",h[j-2],h[j]),this.$.isMath=!1;break;case 38:this.$=c.createNode(d(i[j-2]),"node_op","op_grt",h[j-2],h[j]),this.$.isMath=!1;break;case 39:this.$=c.createNode(d(i[j-2]),"node_op","op_loe",h[j-2],h[j]),this.$.isMath=!1;break;case 40:this.$=c.createNode(d(i[j-2]),"node_op","op_gre",h[j-2],h[j]),this.$.isMath=!1;break;case 41:this.$=h[j];break;case 42:this.$=c.createNode(d(i[j-2]),"node_op","op_add",h[j-2],h[j]),this.$.isMath=!0;break;case 43:this.$=c.createNode(d(i[j-2]),"node_op","op_sub",h[j-2],h[j]),this.$.isMath=!0;break;case 44:this.$=h[j];break;case 45:this.$=c.createNode(d(i[j-2]),"node_op","op_mul",h[j-2],h[j]),this.$.isMath=!0;break;case 46:this.$=c.createNode(d(i[j-2]),"node_op","op_div",h[j-2],h[j]),this.$.isMath=!0;break;case 47:this.$=c.createNode(d(i[j-2]),"node_op","op_mod",h[j-2],h[j]),this.$.isMath=!0;break;case 48:this.$=h[j];break;case 49:this.$=c.createNode(d(i[j-2]),"node_op","op_exp",h[j-2],h[j]),this.$.isMath=!0;break;case 50:this.$=h[j];break;case 51:this.$=c.createNode(d(i[j-1]),"node_op","op_not",h[j]),this.$.isMath=!1;break;case 52:this.$=h[j];break;case 53:this.$=c.createNode(d(i[j-1]),"node_op","op_neg",h[j]),this.$.isMath=!0;break;case 54:this.$=h[j];break;case 55:this.$=h[j];break;case 56:this.$=h[j];break;case 57:this.$=h[j],this.$.isMath=!1;break;case 58:this.$=h[j];break;case 59:this.$=c.createNode(d(i[j-2]),"node_op","op_property",h[j-2],h[j]),this.$.isMath=!0;break;case 60:this.$=c.createNode(d(i[j-3]),"node_op","op_extvalue",h[j-3],h[j-1]),this.$.isMath=!0;break;case 61:this.$=c.createNode(d(i[j]),"node_var",h[j]);break;case 62:this.$=h[j];break;case 63:this.$=h[j],this.$.isMath=!1;break;case 64:this.$=h[j],this.$.isMath=!1;break;case 65:this.$=h[j-1];break;case 66:this.$=h[j],this.$.isMath=!1;break;case 67:this.$=h[j],this.$.isMath=!1;break;case 68:this.$=h[j],this.$.isMath=!1;break;case 69:this.$=h[j],this.$.isMath=!0;break;case 70:this.$=c.createNode(d(i[j]),"node_const",null);break;case 71:this.$=c.createNode(d(i[j]),"node_const_bool",!0);break;case 72:this.$=c.createNode(d(i[j]),"node_const_bool",!1);break;case 73:this.$=c.createNode(d(i[j]),"node_str",h[j].substring(1,h[j].length-1));break;case 74:this.$=c.createNode(d(i[j]),"node_const",parseFloat(h[j]));break;case 75:this.$=c.createNode(d(i[j]),"node_const",NaN);break;case 76:this.$=c.createNode(d(i[j]),"node_const",1/0);break;case 77:this.$=c.createNode(d(i[j-1]),"node_op","op_array",[]);break;case 78:this.$=c.createNode(d(i[j-2]),"node_op","op_array",h[j-1]);break;case 79:this.$=c.createNode(d(i[j-1]),"node_op","op_emptyobject",{});break;case 80:this.$=c.createNode(d(i[j-2]),"node_op","op_proplst_val",h[j-1]);break;case 81:this.$=h[j];break;case 82:this.$=c.createNode(d(i[j-2]),"node_op","op_proplst",h[j-2],h[j]);break;case 83:this.$=c.createNode(d(i[j-2]),"node_op","op_prop",h[j-2],h[j]);break;case 84:this.$=h[j];break;case 85:this.$=h[j];break;case 86:this.$=h[j];break;case 87:this.$=c.createNode(d(i[j-1]),"node_op","op_execfun",h[j-1],h[j]),this.$.isMath=!0;break;case 88:this.$=c.createNode(d(i[j-2]),"node_op","op_execfun",h[j-2],h[j-1],h[j],!0),this.$.isMath=!1;break;case 89:this.$=c.createNode(d(i[j-1]),"node_op","op_execfun",h[j-1],h[j]),this.$.isMath=!0;break;case 90:this.$=c.createNode(d(i[j-3]),"node_op","op_extvalue",h[j-3],h[j-1]),this.$.isMath=!0;break;case 91:this.$=c.createNode(d(i[j-2]),"node_op","op_property",h[j-2],h[j]),this.$.isMath=!0;break;case 92:this.$=[];break;case 93:this.$=h[j-1];break;case 94:this.$=[h[j]];break;case 95:this.$=h[j-2].concat(h[j]);break;case 96:this.$=c.createNode(d(i[j]),"node_var",h[j]),this.$.isMath=!0;break;case 97:this.$=h[j],this.$.isMath=!1;break;case 98:this.$=[h[j]];break;case 99:this.$=h[j-2].concat(h[j]);break;case 100:this.$=c.createNode(d(i[j-3]),"node_op","op_function",[],h[j]),this.$.isMath=!1;break;case 101:this.$=c.createNode(d(i[j-4]),"node_op","op_function",h[j-2],h[j]),this.$.isMath=!1;break;case 102:this.$=c.createNode(d(i[j-5]),"node_op","op_map",h[j-3],h[j]);break;case 103:this.$=[h[j]];break;case 104:this.$=h[j-2].concat(h[j])}},table:[{3:1,4:2,5:[2,14],7:[2,14],8:[2,14],14:[2,14],15:[2,14],16:[2,14],17:[2,14],19:[2,14],20:[2,14],21:[2,14],23:[2,14],26:[2,14],50:[2,14],51:[2,14],58:[2,14],65:[2,14],74:[2,14],75:[2,14],76:[2,14],77:[2,14],78:[2,14],79:[2,14],80:[2,14],82:[2,14],91:[2,14],93:[2,14]},{1:[3]},{5:[1,3],6:6,7:[1,13],8:[1,37],9:20,11:4,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{1:[2,1]},{5:[2,13],7:[2,13],8:[2,13],14:[2,13],15:[2,13],16:[2,13],17:[2,13],19:[2,13],20:[2,13],21:[2,13],23:[2,13],26:[2,13],27:[2,13],50:[2,13],51:[2,13],58:[2,13],65:[2,13],74:[2,13],75:[2,13],76:[2,13],77:[2,13],78:[2,13],79:[2,13],80:[2,13],82:[2,13],91:[2,13],93:[2,13]},{5:[2,15],7:[2,15],8:[2,15],12:[2,15],14:[2,15],15:[2,15],16:[2,15],17:[2,15],19:[2,15],20:[2,15],21:[2,15],23:[2,15],26:[2,15],27:[2,15],50:[2,15],51:[2,15],58:[2,15],65:[2,15],74:[2,15],75:[2,15],76:[2,15],77:[2,15],78:[2,15],79:[2,15],80:[2,15],82:[2,15],91:[2,15],93:[2,15]},{5:[2,16],7:[2,16],8:[2,16],12:[2,16],14:[2,16],15:[2,16],16:[2,16],17:[2,16],19:[2,16],20:[2,16],21:[2,16],23:[2,16],26:[2,16],27:[2,16],50:[2,16],51:[2,16],58:[2,16],65:[2,16],74:[2,16],75:[2,16],76:[2,16],77:[2,16],78:[2,16],79:[2,16],80:[2,16],82:[2,16],91:[2,16],93:[2,16]},{5:[2,17],7:[2,17],8:[2,17],12:[2,17],14:[2,17],15:[2,17],16:[2,17],17:[2,17],19:[2,17],20:[2,17],21:[2,17],23:[2,17],26:[2,17],27:[2,17],50:[2,17],51:[2,17],58:[2,17],65:[2,17],74:[2,17],75:[2,17],76:[2,17],77:[2,17],78:[2,17],79:[2,17],80:[2,17],82:[2,17],91:[2,17],93:[2,17]},{5:[2,18],7:[2,18],8:[2,18],12:[2,18],14:[2,18],15:[2,18],16:[2,18],17:[2,18],19:[2,18],20:[2,18],21:[2,18],23:[2,18],26:[2,18],27:[2,18],50:[2,18],51:[2,18],58:[2,18],65:[2,18],74:[2,18],75:[2,18],76:[2,18],77:[2,18],78:[2,18],79:[2,18],80:[2,18],82:[2,18],91:[2,18],93:[2,18]},{5:[2,19],7:[2,19],8:[2,19],12:[2,19],14:[2,19],15:[2,19],16:[2,19],17:[2,19],19:[2,19],20:[2,19],21:[2,19],23:[2,19],26:[2,19],27:[2,19],50:[2,19],51:[2,19],58:[2,19],65:[2,19],74:[2,19],75:[2,19],76:[2,19],77:[2,19],78:[2,19],79:[2,19],80:[2,19],82:[2,19],91:[2,19],93:[2,19]},{5:[2,20],7:[2,20],8:[2,20],12:[2,20],14:[2,20],15:[2,20],16:[2,20],17:[2,20],19:[2,20],20:[2,20],21:[2,20],23:[2,20],26:[2,20],27:[2,20],50:[2,20],51:[2,20],58:[2,20],65:[2,20],74:[2,20],75:[2,20],76:[2,20],77:[2,20],78:[2,20],79:[2,20],80:[2,20],82:[2,20],91:[2,20],93:[2,20]},{5:[2,21],7:[2,21],8:[2,21],12:[2,21],14:[2,21],15:[2,21],16:[2,21],17:[2,21],19:[2,21],20:[2,21],21:[2,21],23:[2,21],26:[2,21],27:[2,21],50:[2,21],51:[2,21],58:[2,21],65:[2,21],74:[2,21],75:[2,21],76:[2,21],77:[2,21],78:[2,21],79:[2,21],80:[2,21],82:[2,21],91:[2,21],93:[2,21]},{4:61,7:[2,14],8:[2,14],14:[2,14],15:[2,14],16:[2,14],17:[2,14],19:[2,14],20:[2,14],21:[2,14],23:[2,14],26:[2,14],27:[2,14],50:[2,14],51:[2,14],58:[2,14],65:[2,14],74:[2,14],75:[2,14],76:[2,14],77:[2,14],78:[2,14],79:[2,14],80:[2,14],82:[2,14],91:[2,14],93:[2,14]},{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:[1,13],8:[1,37],9:20,11:65,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{20:[1,66]},{20:[1,67]},{8:[1,37],9:69,16:[1,68],20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{16:[1,70]},{5:[2,11],7:[2,11],8:[2,11],12:[2,11],14:[2,11],15:[2,11],16:[2,11],17:[2,11],19:[2,11],20:[2,11],21:[2,11],23:[2,11],26:[2,11],27:[2,11],50:[2,11],51:[2,11],58:[2,11],65:[2,11],74:[2,11],75:[2,11],76:[2,11],77:[2,11],78:[2,11],79:[2,11],80:[2,11],82:[2,11],91:[2,11],93:[2,11]},{8:[2,23],10:[2,23],16:[2,23],32:[2,23],34:[2,23],35:[2,23],37:[2,23],39:[2,23],41:[2,23],42:[2,23],43:[2,23],45:[2,23],46:[2,23],47:[2,23],48:[2,23],50:[2,23],51:[2,23],53:[2,23],54:[2,23],55:[2,23],57:[2,23],64:[2,23],65:[2,23],66:[2,23],83:[2,23],86:[2,23]},{8:[2,24],10:[2,24],16:[2,24],32:[2,24],34:[2,24],35:[2,24],37:[2,24],39:[2,24],41:[2,24],42:[2,24],43:[2,24],45:[2,24],46:[2,24],47:[2,24],48:[2,24],50:[2,24],51:[2,24],53:[2,24],54:[2,24],55:[2,24],57:[2,24],64:[2,24],65:[2,24],66:[2,24],83:[2,24],86:[2,24]},{8:[2,48],10:[2,48],16:[2,48],32:[1,71],34:[2,48],35:[2,48],37:[2,48],39:[2,48],41:[2,48],42:[2,48],43:[2,48],45:[2,48],46:[2,48],47:[2,48],48:[2,48],50:[2,48],51:[2,48],53:[2,48],54:[2,48],55:[2,48],57:[1,72],64:[2,48],65:[2,48],66:[2,48],83:[2,48],86:[2,48]},{8:[2,26],10:[2,26],16:[2,26],32:[2,26],34:[1,73],35:[2,26],37:[1,74],39:[2,26],41:[2,26],42:[2,26],43:[2,26],45:[2,26],46:[2,26],47:[2,26],48:[2,26],50:[2,26],51:[2,26],53:[2,26],54:[2,26],55:[2,26],57:[2,26],64:[2,26],65:[2,26],66:[2,26],83:[2,26],86:[2,26]},{8:[1,78],10:[2,54],16:[2,54],32:[2,54],34:[2,54],35:[2,54],37:[2,54],39:[2,54],41:[2,54],42:[2,54],43:[2,54],45:[2,54],46:[2,54],47:[2,54],48:[2,54],50:[2,54],51:[2,54],53:[2,54],54:[2,54],55:[2,54],57:[2,54],64:[1,75],65:[1,76],66:[2,54],83:[2,54],86:[2,54],88:77},{8:[1,78],10:[2,55],16:[2,55],32:[2,55],34:[2,55],35:[2,55],37:[2,55],39:[2,55],41:[2,55],42:[2,55],43:[2,55],45:[2,55],46:[2,55],47:[2,55],48:[2,55],50:[2,55],51:[2,55],53:[2,55],54:[2,55],55:[2,55],57:[2,55],64:[1,81],65:[1,80],66:[2,55],83:[2,55],86:[2,55],88:79},{8:[2,28],10:[2,28],16:[2,28],32:[2,28],34:[2,28],35:[2,28],37:[2,28],39:[1,82],41:[2,28],42:[2,28],43:[2,28],45:[2,28],46:[2,28],47:[2,28],48:[2,28],50:[2,28],51:[2,28],53:[2,28],54:[2,28],55:[2,28],57:[2,28],64:[2,28],65:[2,28],66:[2,28],83:[2,28],86:[2,28]},{8:[2,56],10:[2,56],16:[2,56],32:[2,56],34:[2,56],35:[2,56],37:[2,56],39:[2,56],41:[2,56],42:[2,56],43:[2,56],45:[2,56],46:[2,56],47:[2,56],48:[2,56],50:[2,56],51:[2,56],53:[2,56],54:[2,56],55:[2,56],57:[2,56],64:[2,56],65:[2,56],66:[2,56],83:[2,56],86:[2,56]},{8:[2,57],10:[2,57],16:[2,57],32:[2,57],34:[2,57],35:[2,57],37:[2,57],39:[2,57],41:[2,57],42:[2,57],43:[2,57],45:[2,57],46:[2,57],47:[2,57],48:[2,57],50:[2,57],51:[2,57],53:[2,57],54:[2,57],55:[2,57],57:[2,57],64:[2,57],65:[2,57],66:[2,57],83:[2,57],86:[2,57]},{8:[2,58],10:[2,58],16:[2,58],32:[2,58],34:[2,58],35:[2,58],37:[2,58],39:[2,58],41:[2,58],42:[2,58],43:[2,58],45:[2,58],46:[2,58],47:[2,58],48:[2,58],50:[2,58],51:[2,58],53:[2,58],54:[2,58],55:[2,58],57:[2,58],64:[2,58],65:[2,58],66:[2,58],83:[2,58],86:[2,58]},{8:[2,30],10:[2,30],16:[2,30],32:[2,30],34:[2,30],35:[2,30],37:[2,30],39:[2,30],41:[1,83],42:[1,84],43:[1,85],45:[2,30],46:[2,30],47:[2,30],48:[2,30],50:[2,30],51:[2,30],53:[2,30],54:[2,30],55:[2,30],57:[2,30],64:[2,30],65:[2,30],66:[2,30],83:[2,30],86:[2,30]},{8:[2,61],10:[2,61],16:[2,61],32:[2,61],34:[2,61],35:[2,61],37:[2,61],39:[2,61],41:[2,61],42:[2,61],43:[2,61],45:[2,61],46:[2,61],47:[2,61],48:[2,61],50:[2,61],51:[2,61],53:[2,61],54:[2,61],55:[2,61],57:[2,61],64:[2,61],65:[2,61],66:[2,61],83:[2,61],86:[2,61]},{8:[2,62],10:[2,62],16:[2,62],32:[2,62],34:[2,62],35:[2,62],37:[2,62],39:[2,62],41:[2,62],42:[2,62],43:[2,62],45:[2,62],46:[2,62],47:[2,62],48:[2,62],50:[2,62],51:[2,62],53:[2,62],54:[2,62],55:[2,62],57:[2,62],64:[2,62],65:[2,62],66:[2,62],83:[2,62],86:[2,62]},{8:[2,63],10:[2,63],16:[2,63],32:[2,63],34:[2,63],35:[2,63],37:[2,63],39:[2,63],41:[2,63],42:[2,63],43:[2,63],45:[2,63],46:[2,63],47:[2,63],48:[2,63],50:[2,63],51:[2,63],53:[2,63],54:[2,63],55:[2,63],57:[2,63],64:[2,63],65:[2,63],66:[2,63],83:[2,63],86:[2,63]},{8:[2,64],10:[2,64],16:[2,64],32:[2,64],34:[2,64],35:[2,64],37:[2,64],39:[2,64],41:[2,64],42:[2,64],43:[2,64],45:[2,64],46:[2,64],47:[2,64],48:[2,64],50:[2,64],51:[2,64],53:[2,64],54:[2,64],55:[2,64],57:[2,64],64:[2,64],65:[2,64],66:[2,64],83:[2,64],86:[2,64]},{8:[1,37],9:86,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,87]},{8:[1,88]},{8:[2,32],10:[2,32],16:[2,32],32:[2,32],34:[2,32],35:[2,32],37:[2,32],39:[2,32],41:[2,32],42:[2,32],43:[2,32],45:[1,89],46:[1,90],47:[1,91],48:[1,92],50:[2,32],51:[2,32],53:[2,32],54:[2,32],55:[2,32],57:[2,32],64:[2,32],65:[2,32],66:[2,32],83:[2,32],86:[2,32]},{8:[2,66],10:[2,66],16:[2,66],32:[2,66],34:[2,66],35:[2,66],37:[2,66],39:[2,66],41:[2,66],42:[2,66],43:[2,66],45:[2,66],46:[2,66],47:[2,66],48:[2,66],50:[2,66],51:[2,66],53:[2,66],54:[2,66],55:[2,66],57:[2,66],64:[2,66],65:[2,66],66:[2,66],83:[2,66],86:[2,66]},{8:[2,67],10:[2,67],16:[2,67],32:[2,67],34:[2,67],35:[2,67],37:[2,67],39:[2,67],41:[2,67],42:[2,67],43:[2,67],45:[2,67],46:[2,67],47:[2,67],48:[2,67],50:[2,67],51:[2,67],53:[2,67],54:[2,67],55:[2,67],57:[2,67],64:[2,67],65:[2,67],66:[2,67],83:[2,67],86:[2,67]},{8:[2,68],10:[2,68],16:[2,68],32:[2,68],34:[2,68],35:[2,68],37:[2,68],39:[2,68],41:[2,68],42:[2,68],43:[2,68],45:[2,68],46:[2,68],47:[2,68],48:[2,68],50:[2,68],51:[2,68],53:[2,68],54:[2,68],55:[2,68],57:[2,68],64:[2,68],65:[2,68],66:[2,68],83:[2,68],86:[2,68]},{8:[2,69],10:[2,69],16:[2,69],32:[2,69],34:[2,69],35:[2,69],37:[2,69],39:[2,69],41:[2,69],42:[2,69],43:[2,69],45:[2,69],46:[2,69],47:[2,69],48:[2,69],50:[2,69],51:[2,69],53:[2,69],54:[2,69],55:[2,69],57:[2,69],64:[2,69],65:[2,69],66:[2,69],83:[2,69],86:[2,69]},{20:[1,97],72:98,73:99,77:[1,51],78:[1,52],79:[1,53],80:[1,54],83:[1,93],84:94,85:95,87:96},{8:[1,37],20:[1,33],29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],81:101,82:[1,45],91:[1,38],93:[1,39]},{8:[2,36],10:[2,36],16:[2,36],32:[2,36],34:[2,36],35:[2,36],37:[2,36],39:[2,36],41:[2,36],42:[2,36],43:[2,36],45:[2,36],46:[2,36],47:[2,36],48:[2,36],50:[1,103],51:[1,104],53:[2,36],54:[2,36],55:[2,36],57:[2,36],64:[2,36],65:[2,36],66:[2,36],83:[2,36],86:[2,36]},{8:[2,70],10:[2,70],16:[2,70],32:[2,70],34:[2,70],35:[2,70],37:[2,70],39:[2,70],41:[2,70],42:[2,70],43:[2,70],45:[2,70],46:[2,70],47:[2,70],48:[2,70],50:[2,70],51:[2,70],53:[2,70],54:[2,70],55:[2,70],57:[2,70],64:[2,70],65:[2,70],66:[2,70],83:[2,70],86:[2,70]},{8:[2,71],10:[2,71],16:[2,71],32:[2,71],34:[2,71],35:[2,71],37:[2,71],39:[2,71],41:[2,71],42:[2,71],43:[2,71],45:[2,71],46:[2,71],47:[2,71],48:[2,71],50:[2,71],51:[2,71],53:[2,71],54:[2,71],55:[2,71],57:[2,71],64:[2,71],65:[2,71],66:[2,71],
83:[2,71],86:[2,71]},{8:[2,72],10:[2,72],16:[2,72],32:[2,72],34:[2,72],35:[2,72],37:[2,72],39:[2,72],41:[2,72],42:[2,72],43:[2,72],45:[2,72],46:[2,72],47:[2,72],48:[2,72],50:[2,72],51:[2,72],53:[2,72],54:[2,72],55:[2,72],57:[2,72],64:[2,72],65:[2,72],66:[2,72],83:[2,72],86:[2,72]},{8:[2,73],10:[2,73],16:[2,73],32:[2,73],34:[2,73],35:[2,73],37:[2,73],39:[2,73],41:[2,73],42:[2,73],43:[2,73],45:[2,73],46:[2,73],47:[2,73],48:[2,73],50:[2,73],51:[2,73],53:[2,73],54:[2,73],55:[2,73],57:[2,73],64:[2,73],65:[2,73],66:[2,73],83:[2,73],86:[2,73]},{8:[2,74],10:[2,74],16:[2,74],32:[2,74],34:[2,74],35:[2,74],37:[2,74],39:[2,74],41:[2,74],42:[2,74],43:[2,74],45:[2,74],46:[2,74],47:[2,74],48:[2,74],50:[2,74],51:[2,74],53:[2,74],54:[2,74],55:[2,74],57:[2,74],64:[2,74],65:[2,74],66:[2,74],83:[2,74],86:[2,74]},{8:[2,75],10:[2,75],16:[2,75],32:[2,75],34:[2,75],35:[2,75],37:[2,75],39:[2,75],41:[2,75],42:[2,75],43:[2,75],45:[2,75],46:[2,75],47:[2,75],48:[2,75],50:[2,75],51:[2,75],53:[2,75],54:[2,75],55:[2,75],57:[2,75],64:[2,75],65:[2,75],66:[2,75],83:[2,75],86:[2,75]},{8:[2,76],10:[2,76],16:[2,76],32:[2,76],34:[2,76],35:[2,76],37:[2,76],39:[2,76],41:[2,76],42:[2,76],43:[2,76],45:[2,76],46:[2,76],47:[2,76],48:[2,76],50:[2,76],51:[2,76],53:[2,76],54:[2,76],55:[2,76],57:[2,76],64:[2,76],65:[2,76],66:[2,76],83:[2,76],86:[2,76]},{8:[2,41],10:[2,41],16:[2,41],32:[2,41],34:[2,41],35:[2,41],37:[2,41],39:[2,41],41:[2,41],42:[2,41],43:[2,41],45:[2,41],46:[2,41],47:[2,41],48:[2,41],50:[2,41],51:[2,41],53:[1,105],54:[1,106],55:[1,107],57:[2,41],64:[2,41],65:[2,41],66:[2,41],83:[2,41],86:[2,41]},{8:[2,44],10:[2,44],16:[2,44],32:[2,44],34:[2,44],35:[2,44],37:[2,44],39:[2,44],41:[2,44],42:[2,44],43:[2,44],45:[2,44],46:[2,44],47:[2,44],48:[2,44],50:[2,44],51:[2,44],53:[2,44],54:[2,44],55:[2,44],57:[2,44],64:[2,44],65:[2,44],66:[2,44],83:[2,44],86:[2,44]},{8:[2,50],10:[2,50],16:[2,50],32:[2,50],34:[2,50],35:[2,50],37:[2,50],39:[2,50],41:[2,50],42:[2,50],43:[2,50],45:[2,50],46:[2,50],47:[2,50],48:[2,50],50:[2,50],51:[2,50],53:[2,50],54:[2,50],55:[2,50],57:[2,50],64:[2,50],65:[2,50],66:[2,50],83:[2,50],86:[2,50]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:108,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:110,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:111,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{6:6,7:[1,13],8:[1,37],9:20,11:4,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:113,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:114,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:115,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{14:[1,116]},{5:[2,7],7:[2,7],8:[2,7],12:[2,7],14:[2,7],15:[2,7],16:[2,7],17:[2,7],19:[2,7],20:[2,7],21:[2,7],23:[2,7],26:[2,7],27:[2,7],50:[2,7],51:[2,7],58:[2,7],65:[2,7],74:[2,7],75:[2,7],76:[2,7],77:[2,7],78:[2,7],79:[2,7],80:[2,7],82:[2,7],91:[2,7],93:[2,7]},{5:[2,8],7:[2,8],8:[2,8],12:[2,8],14:[2,8],15:[2,8],16:[2,8],17:[2,8],19:[2,8],20:[2,8],21:[2,8],23:[2,8],26:[2,8],27:[2,8],50:[2,8],51:[2,8],58:[2,8],65:[2,8],74:[2,8],75:[2,8],76:[2,8],77:[2,8],78:[2,8],79:[2,8],80:[2,8],82:[2,8],91:[2,8],93:[2,8]},{5:[2,9],7:[2,9],8:[2,9],12:[2,9],14:[2,9],15:[2,9],16:[2,9],17:[2,9],19:[2,9],20:[2,9],21:[2,9],23:[2,9],26:[2,9],27:[2,9],50:[2,9],51:[2,9],58:[2,9],65:[2,9],74:[2,9],75:[2,9],76:[2,9],77:[2,9],78:[2,9],79:[2,9],80:[2,9],82:[2,9],91:[2,9],93:[2,9]},{16:[1,117]},{5:[2,22],7:[2,22],8:[2,22],12:[2,22],14:[2,22],15:[2,22],16:[2,22],17:[2,22],19:[2,22],20:[2,22],21:[2,22],23:[2,22],26:[2,22],27:[2,22],50:[2,22],51:[2,22],58:[2,22],65:[2,22],74:[2,22],75:[2,22],76:[2,22],77:[2,22],78:[2,22],79:[2,22],80:[2,22],82:[2,22],91:[2,22],93:[2,22]},{8:[1,37],20:[1,33],29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:119,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,36:121,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{20:[1,122]},{8:[1,37],9:123,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,87],10:[2,87],16:[2,87],20:[1,126],32:[2,87],34:[2,87],35:[2,87],37:[2,87],39:[2,87],41:[2,87],42:[2,87],43:[2,87],45:[2,87],46:[2,87],47:[2,87],48:[2,87],50:[2,87],51:[2,87],53:[2,87],54:[2,87],55:[2,87],57:[2,87],64:[2,87],65:[2,87],66:[2,87],68:127,82:[1,45],83:[2,87],86:[2,87],89:124,90:125},{8:[1,37],10:[1,128],20:[1,33],29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],81:129,82:[1,45],91:[1,38],93:[1,39]},{8:[2,89],10:[2,89],16:[2,89],32:[2,89],34:[2,89],35:[2,89],37:[2,89],39:[2,89],41:[2,89],42:[2,89],43:[2,89],45:[2,89],46:[2,89],47:[2,89],48:[2,89],50:[2,89],51:[2,89],53:[2,89],54:[2,89],55:[2,89],57:[2,89],64:[2,89],65:[2,89],66:[2,89],83:[2,89],86:[2,89]},{8:[1,37],9:130,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{20:[1,131]},{8:[1,37],20:[1,33],31:109,38:132,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,40:133,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,40:134,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,40:135,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{10:[1,136]},{10:[1,137],20:[1,139],92:138},{20:[1,139],92:140},{8:[1,37],20:[1,33],31:109,44:141,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,44:142,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,44:143,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,44:144,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,79],10:[2,79],16:[2,79],32:[2,79],34:[2,79],35:[2,79],37:[2,79],39:[2,79],41:[2,79],42:[2,79],43:[2,79],45:[2,79],46:[2,79],47:[2,79],48:[2,79],50:[2,79],51:[2,79],53:[2,79],54:[2,79],55:[2,79],57:[2,79],64:[2,79],65:[2,79],66:[2,79],83:[2,79],86:[2,79]},{83:[1,145],86:[1,146]},{83:[2,81],86:[2,81]},{35:[1,147]},{35:[2,84]},{35:[2,85]},{35:[2,86]},{8:[2,77],10:[2,77],16:[2,77],32:[2,77],34:[2,77],35:[2,77],37:[2,77],39:[2,77],41:[2,77],42:[2,77],43:[2,77],45:[2,77],46:[2,77],47:[2,77],48:[2,77],50:[2,77],51:[2,77],53:[2,77],54:[2,77],55:[2,77],57:[2,77],64:[2,77],65:[2,77],66:[2,77],83:[2,77],86:[2,77]},{66:[1,148],86:[1,149]},{10:[2,98],66:[2,98],86:[2,98]},{8:[1,37],20:[1,33],31:109,49:150,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,49:151,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:152,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:153,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],31:109,50:[1,59],51:[1,60],52:154,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,51],10:[2,51],16:[2,51],32:[2,51],34:[2,51],35:[2,51],37:[2,51],39:[2,51],41:[2,51],42:[2,51],43:[2,51],45:[2,51],46:[2,51],47:[2,51],48:[2,51],50:[2,51],51:[2,51],53:[2,51],54:[2,51],55:[2,51],57:[2,51],64:[2,51],65:[2,51],66:[2,51],83:[2,51],86:[2,51]},{8:[2,48],10:[2,48],16:[2,48],32:[2,48],34:[2,48],35:[2,48],37:[2,48],39:[2,48],41:[2,48],42:[2,48],43:[2,48],45:[2,48],46:[2,48],47:[2,48],48:[2,48],50:[2,48],51:[2,48],53:[2,48],54:[2,48],55:[2,48],57:[1,72],64:[2,48],65:[2,48],66:[2,48],83:[2,48],86:[2,48]},{8:[2,52],10:[2,52],16:[2,52],32:[2,52],34:[2,52],35:[2,52],37:[2,52],39:[2,52],41:[2,52],42:[2,52],43:[2,52],45:[2,52],46:[2,52],47:[2,52],48:[2,52],50:[2,52],51:[2,52],53:[2,52],54:[2,52],55:[2,52],57:[2,52],64:[2,52],65:[2,52],66:[2,52],83:[2,52],86:[2,52]},{8:[2,53],10:[2,53],16:[2,53],32:[2,53],34:[2,53],35:[2,53],37:[2,53],39:[2,53],41:[2,53],42:[2,53],43:[2,53],45:[2,53],46:[2,53],47:[2,53],48:[2,53],50:[2,53],51:[2,53],53:[2,53],54:[2,53],55:[2,53],57:[2,53],64:[2,53],65:[2,53],66:[2,53],83:[2,53],86:[2,53]},{5:[2,12],7:[2,12],8:[2,12],10:[2,12],12:[2,12],14:[2,12],15:[2,12],16:[2,12],17:[2,12],19:[2,12],20:[2,12],21:[2,12],23:[2,12],26:[2,12],27:[2,12],32:[2,12],34:[2,12],35:[2,12],37:[2,12],39:[2,12],41:[2,12],42:[2,12],43:[2,12],45:[2,12],46:[2,12],47:[2,12],48:[2,12],50:[2,12],51:[2,12],53:[2,12],54:[2,12],55:[2,12],57:[2,12],58:[2,12],64:[2,12],65:[2,12],66:[2,12],74:[2,12],75:[2,12],76:[2,12],77:[2,12],78:[2,12],79:[2,12],80:[2,12],82:[2,12],83:[2,12],86:[2,12],91:[2,12],93:[2,12]},{10:[1,155]},{10:[1,156]},{16:[1,157]},{8:[1,158]},{5:[2,10],7:[2,10],8:[2,10],12:[2,10],14:[2,10],15:[2,10],16:[2,10],17:[2,10],19:[2,10],20:[2,10],21:[2,10],23:[2,10],26:[2,10],27:[2,10],50:[2,10],51:[2,10],58:[2,10],65:[2,10],74:[2,10],75:[2,10],76:[2,10],77:[2,10],78:[2,10],79:[2,10],80:[2,10],82:[2,10],91:[2,10],93:[2,10]},{8:[2,25],10:[2,25],16:[2,25],32:[2,25],34:[2,25],35:[2,25],37:[2,25],39:[2,25],41:[2,25],42:[2,25],43:[2,25],45:[2,25],46:[2,25],47:[2,25],48:[2,25],50:[2,25],51:[2,25],53:[2,25],54:[2,25],55:[2,25],57:[2,25],64:[2,25],65:[2,25],66:[2,25],83:[2,25],86:[2,25]},{8:[2,49],10:[2,49],16:[2,49],32:[2,49],34:[2,49],35:[2,49],37:[2,49],39:[2,49],41:[2,49],42:[2,49],43:[2,49],45:[2,49],46:[2,49],47:[2,49],48:[2,49],50:[2,49],51:[2,49],53:[2,49],54:[2,49],55:[2,49],57:[2,49],64:[2,49],65:[2,49],66:[2,49],83:[2,49],86:[2,49]},{35:[1,159]},{8:[2,29],10:[2,29],16:[2,29],32:[2,29],34:[2,29],35:[2,29],37:[2,29],39:[1,82],41:[2,29],42:[2,29],43:[2,29],45:[2,29],46:[2,29],47:[2,29],48:[2,29],50:[2,29],51:[2,29],53:[2,29],54:[2,29],55:[2,29],57:[2,29],64:[2,29],65:[2,29],66:[2,29],83:[2,29],86:[2,29]},{8:[2,59],10:[2,59],16:[2,59],32:[2,59],34:[2,59],35:[2,59],37:[2,59],39:[2,59],41:[2,59],42:[2,59],43:[2,59],45:[2,59],46:[2,59],47:[2,59],48:[2,59],50:[2,59],51:[2,59],53:[2,59],54:[2,59],55:[2,59],57:[2,59],64:[2,59],65:[2,59],66:[2,59],83:[2,59],86:[2,59]},{66:[1,160]},{8:[2,88],10:[2,88],16:[2,88],32:[2,88],34:[2,88],35:[2,88],37:[2,88],39:[2,88],41:[2,88],42:[2,88],43:[2,88],45:[2,88],46:[2,88],47:[2,88],48:[2,88],50:[2,88],51:[2,88],53:[2,88],54:[2,88],55:[2,88],57:[2,88],64:[2,88],65:[2,88],66:[2,88],83:[2,88],86:[1,161]},{8:[2,94],10:[2,94],16:[2,94],32:[2,94],34:[2,94],35:[2,94],37:[2,94],39:[2,94],41:[2,94],42:[2,94],43:[2,94],45:[2,94],46:[2,94],47:[2,94],48:[2,94],50:[2,94],51:[2,94],53:[2,94],54:[2,94],55:[2,94],57:[2,94],64:[2,94],65:[2,94],66:[2,94],83:[2,94],86:[2,94]},{8:[2,96],10:[2,96],16:[2,96],32:[2,96],34:[2,96],35:[2,96],37:[2,96],39:[2,96],41:[2,96],42:[2,96],43:[2,96],45:[2,96],46:[2,96],47:[2,96],48:[2,96],50:[2,96],51:[2,96],53:[2,96],54:[2,96],55:[2,96],57:[2,96],64:[2,96],65:[2,96],66:[2,96],83:[2,96],86:[2,96]},{8:[2,97],10:[2,97],16:[2,97],32:[2,97],34:[2,97],35:[2,97],37:[2,97],39:[2,97],41:[2,97],42:[2,97],43:[2,97],45:[2,97],46:[2,97],47:[2,97],48:[2,97],50:[2,97],51:[2,97],53:[2,97],54:[2,97],55:[2,97],57:[2,97],64:[2,97],65:[2,97],66:[2,97],83:[2,97],86:[2,97]},{8:[2,92],10:[2,92],16:[2,92],20:[2,92],32:[2,92],34:[2,92],35:[2,92],37:[2,92],39:[2,92],41:[2,92],42:[2,92],43:[2,92],45:[2,92],46:[2,92],47:[2,92],48:[2,92],50:[2,92],51:[2,92],53:[2,92],54:[2,92],55:[2,92],57:[2,92],64:[2,92],65:[2,92],66:[2,92],82:[2,92],83:[2,92],86:[2,92]},{10:[1,162],86:[1,149]},{66:[1,163]},{8:[2,91],10:[2,91],16:[2,91],32:[2,91],34:[2,91],35:[2,91],37:[2,91],39:[2,91],41:[2,91],42:[2,91],43:[2,91],45:[2,91],46:[2,91],47:[2,91],48:[2,91],50:[2,91],51:[2,91],53:[2,91],54:[2,91],55:[2,91],57:[2,91],64:[2,91],65:[2,91],66:[2,91],83:[2,91],86:[2,91]},{8:[2,31],10:[2,31],16:[2,31],32:[2,31],34:[2,31],35:[2,31],37:[2,31],39:[2,31],41:[1,83],42:[1,84],43:[1,85],45:[2,31],46:[2,31],47:[2,31],48:[2,31],50:[2,31],51:[2,31],53:[2,31],54:[2,31],55:[2,31],57:[2,31],64:[2,31],65:[2,31],66:[2,31],83:[2,31],86:[2,31]},{8:[2,33],10:[2,33],16:[2,33],32:[2,33],34:[2,33],35:[2,33],37:[2,33],39:[2,33],41:[2,33],42:[2,33],43:[2,33],45:[1,89],46:[1,90],47:[1,91],48:[1,92],50:[2,33],51:[2,33],53:[2,33],54:[2,33],55:[2,33],57:[2,33],64:[2,33],65:[2,33],66:[2,33],83:[2,33],86:[2,33]},{8:[2,34],10:[2,34],16:[2,34],32:[2,34],34:[2,34],35:[2,34],37:[2,34],39:[2,34],41:[2,34],42:[2,34],43:[2,34],45:[1,89],46:[1,90],47:[1,91],48:[1,92],50:[2,34],51:[2,34],53:[2,34],54:[2,34],55:[2,34],57:[2,34],64:[2,34],65:[2,34],66:[2,34],83:[2,34],86:[2,34]},{8:[2,35],10:[2,35],16:[2,35],32:[2,35],34:[2,35],35:[2,35],37:[2,35],39:[2,35],41:[2,35],42:[2,35],43:[2,35],45:[1,89],46:[1,90],47:[1,91],48:[1,92],50:[2,35],51:[2,35],53:[2,35],54:[2,35],55:[2,35],57:[2,35],64:[2,35],65:[2,35],66:[2,35],83:[2,35],86:[2,35]},{8:[2,65],10:[2,65],16:[2,65],32:[2,65],34:[2,65],35:[2,65],37:[2,65],39:[2,65],41:[2,65],42:[2,65],43:[2,65],45:[2,65],46:[2,65],47:[2,65],48:[2,65],50:[2,65],51:[2,65],53:[2,65],54:[2,65],55:[2,65],57:[2,65],64:[2,65],65:[2,65],66:[2,65],83:[2,65],86:[2,65]},{25:164,26:[1,12]},{10:[1,165],86:[1,166]},{10:[2,103],86:[2,103]},{10:[1,167],86:[1,166]},{8:[2,37],10:[2,37],16:[2,37],32:[2,37],34:[2,37],35:[2,37],37:[2,37],39:[2,37],41:[2,37],42:[2,37],43:[2,37],45:[2,37],46:[2,37],47:[2,37],48:[2,37],50:[1,103],51:[1,104],53:[2,37],54:[2,37],55:[2,37],57:[2,37],64:[2,37],65:[2,37],66:[2,37],83:[2,37],86:[2,37]},{8:[2,38],10:[2,38],16:[2,38],32:[2,38],34:[2,38],35:[2,38],37:[2,38],39:[2,38],41:[2,38],42:[2,38],43:[2,38],45:[2,38],46:[2,38],47:[2,38],48:[2,38],50:[1,103],51:[1,104],53:[2,38],54:[2,38],55:[2,38],57:[2,38],64:[2,38],65:[2,38],66:[2,38],83:[2,38],86:[2,38]},{8:[2,39],10:[2,39],16:[2,39],32:[2,39],34:[2,39],35:[2,39],37:[2,39],39:[2,39],41:[2,39],42:[2,39],43:[2,39],45:[2,39],46:[2,39],47:[2,39],48:[2,39],50:[1,103],51:[1,104],53:[2,39],54:[2,39],55:[2,39],57:[2,39],64:[2,39],65:[2,39],66:[2,39],83:[2,39],86:[2,39]},{8:[2,40],10:[2,40],16:[2,40],32:[2,40],34:[2,40],35:[2,40],37:[2,40],39:[2,40],41:[2,40],42:[2,40],43:[2,40],45:[2,40],46:[2,40],47:[2,40],48:[2,40],50:[1,103],51:[1,104],53:[2,40],54:[2,40],55:[2,40],57:[2,40],64:[2,40],65:[2,40],66:[2,40],83:[2,40],86:[2,40]},{8:[2,80],10:[2,80],16:[2,80],32:[2,80],34:[2,80],35:[2,80],37:[2,80],39:[2,80],41:[2,80],42:[2,80],43:[2,80],45:[2,80],46:[2,80],47:[2,80],48:[2,80],50:[2,80],51:[2,80],53:[2,80],54:[2,80],55:[2,80],57:[2,80],64:[2,80],65:[2,80],66:[2,80],83:[2,80],86:[2,80]},{20:[1,97],72:98,73:99,77:[1,51],78:[1,52],79:[1,53],80:[1,54],85:168,87:96},{8:[1,37],20:[1,33],29:169,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,78],10:[2,78],16:[2,78],32:[2,78],34:[2,78],35:[2,78],37:[2,78],39:[2,78],41:[2,78],42:[2,78],43:[2,78],45:[2,78],46:[2,78],47:[2,78],48:[2,78],50:[2,78],51:[2,78],53:[2,78],54:[2,78],55:[2,78],57:[2,78],64:[2,78],65:[2,78],66:[2,78],83:[2,78],86:[2,78]},{8:[1,37],20:[1,33],29:170,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,42],10:[2,42],16:[2,42],32:[2,42],34:[2,42],35:[2,42],37:[2,42],39:[2,42],41:[2,42],42:[2,42],43:[2,42],45:[2,42],46:[2,42],47:[2,42],48:[2,42],50:[2,42],51:[2,42],53:[1,105],54:[1,106],55:[1,107],57:[2,42],64:[2,42],65:[2,42],66:[2,42],83:[2,42],86:[2,42]},{8:[2,43],10:[2,43],16:[2,43],32:[2,43],34:[2,43],35:[2,43],37:[2,43],39:[2,43],41:[2,43],42:[2,43],43:[2,43],45:[2,43],46:[2,43],47:[2,43],48:[2,43],50:[2,43],51:[2,43],53:[1,105],54:[1,106],55:[1,107],57:[2,43],64:[2,43],65:[2,43],66:[2,43],83:[2,43],86:[2,43]},{8:[2,45],10:[2,45],16:[2,45],32:[2,45],34:[2,45],35:[2,45],37:[2,45],39:[2,45],41:[2,45],42:[2,45],43:[2,45],45:[2,45],46:[2,45],47:[2,45],48:[2,45],50:[2,45],51:[2,45],53:[2,45],54:[2,45],55:[2,45],57:[2,45],64:[2,45],65:[2,45],66:[2,45],83:[2,45],86:[2,45]},{8:[2,46],10:[2,46],16:[2,46],32:[2,46],34:[2,46],35:[2,46],37:[2,46],39:[2,46],41:[2,46],42:[2,46],43:[2,46],45:[2,46],46:[2,46],47:[2,46],48:[2,46],50:[2,46],51:[2,46],53:[2,46],54:[2,46],55:[2,46],57:[2,46],64:[2,46],65:[2,46],66:[2,46],83:[2,46],86:[2,46]},{8:[2,47],10:[2,47],16:[2,47],32:[2,47],34:[2,47],35:[2,47],37:[2,47],39:[2,47],41:[2,47],42:[2,47],43:[2,47],45:[2,47],46:[2,47],47:[2,47],48:[2,47],50:[2,47],51:[2,47],53:[2,47],54:[2,47],55:[2,47],57:[2,47],64:[2,47],65:[2,47],66:[2,47],83:[2,47],86:[2,47]},{6:6,7:[1,13],8:[1,37],9:20,11:171,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{6:6,7:[1,13],8:[1,37],9:20,11:172,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:173,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:174,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],20:[1,33],29:175,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[2,60],10:[2,60],16:[2,60],32:[2,60],34:[2,60],35:[2,60],37:[2,60],39:[2,60],41:[2,60],42:[2,60],43:[2,60],45:[2,60],46:[2,60],47:[2,60],48:[2,60],50:[2,60],51:[2,60],53:[2,60],54:[2,60],55:[2,60],57:[2,60],64:[2,60],65:[2,60],66:[2,60],83:[2,60],86:[2,60]},{20:[1,126],68:127,82:[1,45],90:176},{8:[2,93],10:[2,93],16:[2,93],20:[2,93],32:[2,93],34:[2,93],35:[2,93],37:[2,93],39:[2,93],41:[2,93],42:[2,93],43:[2,93],45:[2,93],46:[2,93],47:[2,93],48:[2,93],50:[2,93],51:[2,93],53:[2,93],54:[2,93],55:[2,93],57:[2,93],64:[2,93],65:[2,93],66:[2,93],82:[2,93],83:[2,93],86:[2,93]},{8:[2,90],10:[2,90],16:[2,90],32:[2,90],34:[2,90],35:[2,90],37:[2,90],39:[2,90],41:[2,90],42:[2,90],43:[2,90],45:[2,90],46:[2,90],47:[2,90],48:[2,90],50:[2,90],51:[2,90],53:[2,90],54:[2,90],55:[2,90],57:[2,90],64:[2,90],65:[2,90],66:[2,90],83:[2,90],86:[2,90]},{8:[2,100],10:[2,100],16:[2,100],32:[2,100],34:[2,100],35:[2,100],37:[2,100],39:[2,100],41:[2,100],42:[2,100],43:[2,100],45:[2,100],46:[2,100],47:[2,100],48:[2,100],50:[2,100],51:[2,100],53:[2,100],54:[2,100],55:[2,100],57:[2,100],64:[2,100],65:[2,100],66:[2,100],83:[2,100],86:[2,100]},{25:177,26:[1,12]},{20:[1,178]},{94:[1,179]},{83:[2,82],86:[2,82]},{83:[2,83],86:[2,83]},{10:[2,99],66:[2,99],86:[2,99]},{5:[2,2],7:[2,2],8:[2,2],12:[1,180],14:[2,2],15:[2,2],16:[2,2],17:[2,2],19:[2,2],20:[2,2],21:[2,2],23:[2,2],26:[2,2],27:[2,2],50:[2,2],51:[2,2],58:[2,2],65:[2,2],74:[2,2],75:[2,2],76:[2,2],77:[2,2],78:[2,2],79:[2,2],80:[2,2],82:[2,2],91:[2,2],93:[2,2]},{5:[2,4],7:[2,4],8:[2,4],12:[2,4],14:[2,4],15:[2,4],16:[2,4],17:[2,4],19:[2,4],20:[2,4],21:[2,4],23:[2,4],26:[2,4],27:[2,4],50:[2,4],51:[2,4],58:[2,4],65:[2,4],74:[2,4],75:[2,4],76:[2,4],77:[2,4],78:[2,4],79:[2,4],80:[2,4],82:[2,4],91:[2,4],93:[2,4]},{16:[1,181]},{10:[1,182]},{8:[2,27],10:[2,27],16:[2,27],32:[2,27],34:[2,27],35:[2,27],37:[2,27],39:[2,27],41:[2,27],42:[2,27],43:[2,27],45:[2,27],46:[2,27],47:[2,27],48:[2,27],50:[2,27],51:[2,27],53:[2,27],54:[2,27],55:[2,27],57:[2,27],64:[2,27],65:[2,27],66:[2,27],83:[2,27],86:[2,27]},{8:[2,95],10:[2,95],16:[2,95],32:[2,95],34:[2,95],35:[2,95],37:[2,95],39:[2,95],41:[2,95],42:[2,95],43:[2,95],45:[2,95],46:[2,95],47:[2,95],48:[2,95],50:[2,95],51:[2,95],53:[2,95],54:[2,95],55:[2,95],57:[2,95],64:[2,95],65:[2,95],66:[2,95],83:[2,95],86:[2,95]},{8:[2,101],10:[2,101],16:[2,101],32:[2,101],34:[2,101],35:[2,101],37:[2,101],39:[2,101],41:[2,101],42:[2,101],43:[2,101],45:[2,101],46:[2,101],47:[2,101],48:[2,101],50:[2,101],51:[2,101],53:[2,101],54:[2,101],55:[2,101],57:[2,101],64:[2,101],65:[2,101],66:[2,101],83:[2,101],86:[2,101]},{10:[2,104],86:[2,104]},{8:[1,37],9:183,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{6:6,7:[1,13],8:[1,37],9:20,11:184,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{8:[1,37],9:185,20:[1,33],29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{16:[1,186]},{8:[2,102],10:[2,102],16:[2,102],32:[2,102],34:[2,102],35:[2,102],37:[2,102],39:[2,102],41:[2,102],42:[2,102],43:[2,102],45:[2,102],46:[2,102],47:[2,102],48:[2,102],50:[2,102],51:[2,102],53:[2,102],54:[2,102],55:[2,102],57:[2,102],64:[2,102],65:[2,102],66:[2,102],83:[2,102],86:[2,102]},{5:[2,3],7:[2,3],8:[2,3],12:[2,3],14:[2,3],15:[2,3],16:[2,3],17:[2,3],19:[2,3],20:[2,3],21:[2,3],23:[2,3],26:[2,3],27:[2,3],50:[2,3],51:[2,3],58:[2,3],65:[2,3],74:[2,3],75:[2,3],76:[2,3],77:[2,3],78:[2,3],79:[2,3],80:[2,3],82:[2,3],91:[2,3],93:[2,3]},{10:[1,187]},{5:[2,6],7:[2,6],8:[2,6],12:[2,6],14:[2,6],15:[2,6],16:[2,6],17:[2,6],19:[2,6],20:[2,6],21:[2,6],23:[2,6],26:[2,6],27:[2,6],50:[2,6],51:[2,6],58:[2,6],65:[2,6],74:[2,6],75:[2,6],76:[2,6],77:[2,6],78:[2,6],79:[2,6],80:[2,6],82:[2,6],91:[2,6],93:[2,6]},{6:6,7:[1,13],8:[1,37],9:20,11:188,13:7,14:[1,14],15:[1,15],16:[1,21],17:[1,16],18:8,19:[1,17],20:[1,33],21:[1,18],22:9,23:[1,19],24:11,25:5,26:[1,12],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:[1,59],51:[1,60],52:56,56:57,58:[1,58],59:26,60:27,61:29,62:30,63:31,65:[1,46],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:[1,48],75:[1,49],76:[1,50],77:[1,51],78:[1,52],79:[1,53],80:[1,54],82:[1,45],91:[1,38],93:[1,39]},{5:[2,5],7:[2,5],8:[2,5],12:[2,5],14:[2,5],15:[2,5],16:[2,5],17:[2,5],19:[2,5],20:[2,5],21:[2,5],23:[2,5],26:[2,5],27:[2,5],50:[2,5],51:[2,5],58:[2,5],65:[2,5],74:[2,5],75:[2,5],76:[2,5],77:[2,5],78:[2,5],79:[2,5],80:[2,5],82:[2,5],91:[2,5],93:[2,5]}],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(a,b){if(!b.recoverable)throw new Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1);this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var o=this.lexer.yylloc;f.push(o);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var q,r,s,t,u,v,w,x,y,z={};;){if(s=d[d.length-1],this.defaultActions[s]?t=this.defaultActions[s]:((null===q||"undefined"==typeof q)&&(q=b()),t=g[s]&&g[s][q]),"undefined"==typeof t||!t.length||!t[0]){var A="";y=[];for(v in g[s])this.terminals_[v]&&v>l&&y.push("'"+this.terminals_[v]+"'");A=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(i+1)+": Unexpected "+(q==m?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[q]||q,line:this.lexer.yylineno,loc:o,expected:y})}if(t[0]instanceof Array&&t.length>1)throw new Error("Parse Error: multiple actions possible at state: "+s+", token: "+q);switch(t[0]){case 1:d.push(q),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(t[1]),q=null,r?(q=r,r=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,o=this.lexer.yylloc,k>0&&k--);break;case 2:if(w=this.productions_[t[1]][1],z.$=e[e.length-w],z._$={first_line:f[f.length-(w||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(w||1)].first_column,last_column:f[f.length-1].last_column},p&&(z._$.range=[f[f.length-(w||1)].range[0],f[f.length-1].range[1]]),u=this.performAction.apply(z,[h,j,i,this.yy,t[1],e,f].concat(n)),"undefined"!=typeof u)return u;w&&(d=d.slice(0,-1*w*2),e=e.slice(0,-1*w),f=f.slice(0,-1*w)),d.push(this.productions_[t[1]][0]),e.push(z.$),f.push(z._$),x=g[d[d.length-2]][d[d.length-1]],d.push(x);break;case 3:return!0}}return!0}},c={node:function(a,b,c){return{type:a,value:b,children:c}},createNode:function(a,b,c,d){var e,f=this.node(b,c,[]);for(e=3;e<arguments.length;e++)f.children.push(arguments[e]);return f.line=a[0],f.col=a[1],f.eline=a[2],f.ecol=a[3],f}},d=function(a){return[a.first_line,a.first_column,a.last_line,a.last_column]},e=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),
this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if(c=this._input.match(this.rules[e[f]]),c&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(a=this.test_match(c,e[f]),a!==!1)return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?(a=this.test_match(b,e[d]),a!==!1?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 0:break;case 1:return 78;case 2:return 78;case 3:return 77;case 4:return 77;case 5:break;case 6:break;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:return 94;case 22:return 82;case 23:return 83;case 24:return 26;case 25:return 27;case 26:return 16;case 27:return"#";case 28:return 34;case 29:return 35;case 30:return 79;case 31:return 64;case 32:return 65;case 33:return 66;case 34:return 8;case 35:return 10;case 36:return 58;case 37:return 57;case 38:return 53;case 39:return 54;case 40:return 55;case 41:return 50;case 42:return 51;case 43:return 47;case 44:return 45;case 45:return 48;case 46:return 46;case 47:return 41;case 48:return 43;case 49:return 42;case 50:return 39;case 51:return 37;case 52:return 32;case 53:return 86;case 54:return 5;case 55:return 20;case 56:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56],inclusive:!0}}};return a}();return b.lexer=e,a.prototype=b,b.Parser=a,new a}();return"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var b=require("fs").readFileSync(require("path").normalize(a[1]),"utf8");return exports.parser.parse(b)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1))),parser.yy.parseError=parser.parseError,JXG.JessieCode}),define("base/point",["jxg","options","math/math","math/geometry","math/numerics","base/coords","base/constants","base/element","parser/geonext","utils/type","base/transformation","base/coordselement"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return a.Point=function(a,b,c){this.constructor(a,c,g.OBJECT_TYPE_POINT,g.OBJECT_CLASS_POINT),this.element=this.board.select(c.anchor),this.coordsConstructor(b),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createLabel()},a.Point.prototype=new h,j.copyPrototypeMethods(a.Point,l,"coordsConstructor"),a.extend(a.Point.prototype,{hasPoint:function(a,b){var c,d=this.coords.scrCoords;return c=parseFloat(this.visProp.size)+.5*parseFloat(this.visProp.strokewidth),c<this.board.options.precision.hasPoint&&(c=this.board.options.precision.hasPoint),Math.abs(d[1]-a)<c+2&&Math.abs(d[2]-b)<c+2},update:function(a){return this.needsUpdate?(this.updateCoords(a),this.visProp.trace&&this.cloneToBackground(!0),this):this},updateTransform:function(){var a,b;if(0===this.transformations.length||null===this.baseElement)return this;for(a=this===this.baseElement?this.transformations[0].apply(this.baseElement,"self"):this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(g.COORDS_BY_USER,a),b=1;b<this.transformations.length;b++)this.coords.setCoordinates(g.COORDS_BY_USER,this.transformations[b].apply(this));return this},updateRenderer:function(){return this.visProp.size>0&&this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(a,b,c,e){var f;a=this.board.select(a),b=this.board.select(b),f=d.intersectionFunction(this.board,a,b,c,e,this.visProp.alwaysintersect),this.addConstraint([f]);try{a.addChild(this),b.addChild(this)}catch(h){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof a+"' and '"+typeof b+"'.")}this.type=g.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[a.id,b.id,c,e],this.generatePolynomial=function(){var c=a.generatePolynomial(this),d=b.generatePolynomial(this);return 0===c.length||0===d.length?[]:[c[0],d[0]]},this.prepareUpdate().update()},setStyle:function(a){var b=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"],c=[2,3,4,1,2,3,4,2,3,4,2,3,4];return this.visProp.face=b[a],this.visProp.size=c[a],this.board.renderer.changePointStyle(this),this},normalizeFace:function(c){return a.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),b.normalizePointFace(c)},face:function(b){a.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:b})},size:function(b){a.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:b})},cloneToBackground:function(){var a={};return a.id=this.id+"T"+this.numTraces,this.numTraces+=1,a.coords=this.coords,a.visProp=j.deepCopy(this.visProp,this.visProp.traceattributes,!0),a.visProp.layer=this.board.options.layer.trace,a.elementClass=g.OBJECT_CLASS_POINT,a.board=this.board,j.clearVisPropOld(a),this.board.renderer.drawPoint(a),this.traces[a.id]=a.rendNode,this}}),a.createPoint=function(b,c,d){var e,f;if(f=j.copyAttributes(d,b.options,"point"),e=l.create(a.Point,b,c,f),!e)throw new Error("JSXGraph: Can't create point with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return e},a.createGlider=function(a,b,c){var d,e,f=j.copyAttributes(c,a.options,"glider");return e=1===b.length?[0,0]:b.slice(0,2),d=a.create("point",e,f),d.makeGlider(b[b.length-1]),d},a.createIntersectionPoint=function(a,b,c){var e,f,h,i,k,l,m=j.copyAttributes(c,a.options,"intersection");b.push(0,0),f=a.select(b[0]),h=a.select(b[1]),k=b[2]||0,l=b[3]||0,e=a.create("point",[0,0,0],m),i=d.intersectionFunction(a,f,h,k,l,e.visProp.alwaysintersect),e.addConstraint([i]);try{f.addChild(e),h.addChild(e)}catch(n){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.")}return e.type=g.OBJECT_TYPE_INTERSECTION,e.elType="intersection",e.setParents([f.id,h.id]),e.intersectionNumbers=[k,l],e.getParents=function(){return this.parents.concat(this.intersectionNumbers)},e.generatePolynomial=function(){var a=f.generatePolynomial(e),b=h.generatePolynomial(e);return 0===a.length||0===b.length?[]:[a[0],b[0]]},e},a.createOtherIntersectionPoint=function(a,b,e){var f,h,i,k;if(3!==b.length||!j.isPoint(b[2])||b[0].elementClass!==g.OBJECT_CLASS_LINE&&b[0].elementClass!==g.OBJECT_CLASS_CIRCLE||b[1].elementClass!==g.OBJECT_CLASS_LINE&&b[1].elementClass!==g.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof b[0]+"',  '"+typeof b[1]+"'and  '"+typeof b[2]+"'.\nPossible parent types: [circle|line,circle|line,point]");return h=a.select(b[0]),i=a.select(b[1]),k=a.select(b[2]),f=a.create("point",[function(){var a=d.meet(h.stdform,i.stdform,0,h.board);return Math.abs(k.X()-a.usrCoords[1])>c.eps||Math.abs(k.Y()-a.usrCoords[2])>c.eps||Math.abs(k.Z()-a.usrCoords[0])>c.eps?a:d.meet(h.stdform,i.stdform,1,h.board)}],e),f.type=g.OBJECT_TYPE_INTERSECTION,f.elType="otherintersection",f.setParents([h.id,i.id,k]),h.addChild(f),i.addChild(f),f.generatePolynomial=function(){var a=h.generatePolynomial(f),b=i.generatePolynomial(f);return 0===a.length||0===b.length?[]:[a[0],b[0]]},f},a.createPolePoint=function(b,c,d){var e,f,h,i,j,k,l;if(c.length>1&&(i=c[0].type===g.OBJECT_TYPE_CONIC||c[0].elementClass===g.OBJECT_CLASS_CIRCLE,j=c[1].type===g.OBJECT_TYPE_CONIC||c[1].elementClass===g.OBJECT_CLASS_CIRCLE,k=c[0].elementClass===g.OBJECT_CLASS_LINE,l=c[1].elementClass===g.OBJECT_CLASS_LINE),2!==c.length||!(i&&l||k&&j))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent type: [conic|circle,line], [line,conic|circle]");return l?(f=b.select(c[0]),h=b.select(c[1])):(f=b.select(c[1]),h=b.select(c[0])),e=b.create("point",[function(){var b=f.quadraticform,c=h.stdform.slice(0,3);return[a.Math.Numerics.det([c,b[1],b[2]]),a.Math.Numerics.det([b[0],c,b[2]]),a.Math.Numerics.det([b[0],b[1],c])]}],d),e.elType="polepoint",e.setParents([f.id,h.id]),f.addChild(e),h.addChild(e),e},a.registerElement("point",a.createPoint),a.registerElement("glider",a.createGlider),a.registerElement("intersection",a.createIntersectionPoint),a.registerElement("otherintersection",a.createOtherIntersectionPoint),a.registerElement("polepoint",a.createPolePoint),{Point:a.Point,createPoint:a.createPoint,createGlider:a.createGlider,createIntersection:a.createIntersectionPoint,createOtherIntersection:a.createOtherIntersectionPoint,createPolePoint:a.createPolePoint}}),define("base/ticks",["jxg","math/math","math/geometry","base/constants","base/element","base/coords","utils/type","base/text"],function(a,b,c,d,e,f,g,h){"use strict";return a.Ticks=function(a,c,e){if(this.constructor(a.board,e,d.OBJECT_TYPE_TICKS,d.OBJECT_CLASS_OTHER),this.line=a,this.board=this.line.board,this.ticksFunction=null,this.fixedTicks=null,this.equidistant=!1,g.isFunction(c))throw this.ticksFunction=c,new Error("Function arguments are no longer supported.");g.isArray(c)?this.fixedTicks=c:((Math.abs(c)<b.eps||0>c)&&(c=e.defaultdistance),this.ticksFunction=function(){var a,b,d;return this.visProp.insertticks?(b=this.getLowerAndUpperBounds(this.getZeroCoordinates(),"ticksdistance"),d=b.upper-b.lower,a=Math.pow(10,Math.floor(Math.log(.6*d)/Math.LN10)),6*a>=d&&(a*=.5),a):c},this.equidistant=!0),this.minTicksDistance=e.minticksdistance,this.ticks=[],this.ticksDelta=1,this.labels=[],this.labelsRepo=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.board.setId(this,"Ti")},a.Ticks.prototype=new e,a.extend(a.Ticks.prototype,{hasPoint:function(a,c){var e,f,g=this.ticks&&this.ticks.length||0,h=this.board.options.precision.hasPoint;if(!this.line.visProp.scalable)return!1;if(0!==this.line.stdform[1]&&0!==this.line.stdform[2]&&this.line.type!==d.OBJECT_TYPE_AXIS)return!1;for(e=0;g>e;e++)if(f=this.ticks[e],f[2]&&!(0===this.line.stdform[1]&&Math.abs(f[0][0]-this.line.point1.coords.scrCoords[1])<b.eps||0===this.line.stdform[2]&&Math.abs(f[1][0]-this.line.point1.coords.scrCoords[2])<b.eps)&&(Math.abs(f[0][0]-f[0][1])>=1||Math.abs(f[1][0]-f[1][1])>=1))if(0===this.line.stdform[1]){if(Math.abs(c-.5*(f[1][0]+f[1][1]))<2*h&&f[0][0]-h<a&&a<f[0][1]+h)return!0}else if(0===this.line.stdform[2]&&Math.abs(a-.5*(f[0][0]+f[0][1]))<2*h&&f[1][0]-h<c&&c<f[1][1]+h)return!0;return!1},setPositionDirectly:function(a,c,d){var e,g,h=new f(a,c,this.board),i=new f(a,d,this.board),j=this.board.getBoundingBox();return this.line.visProp.scalable?(Math.abs(this.line.stdform[1])<b.eps&&Math.abs(h.usrCoords[1]*i.usrCoords[1])>b.eps?(e=i.usrCoords[1]/h.usrCoords[1],j[0]*=e,j[2]*=e,this.board.setBoundingBox(j,!1)):Math.abs(this.line.stdform[2])<b.eps&&Math.abs(h.usrCoords[2]*i.usrCoords[2])>b.eps&&(g=i.usrCoords[2]/h.usrCoords[2],j[3]*=g,j[1]*=g,this.board.setBoundingBox(j,!1)),this):this},calculateTicksCoordinates:function(){var a,c,d,e=this.labelsRepo.length;if(this.setTicksSizeVariables(),!(Math.abs(this.dx)<b.eps&&Math.abs(this.dy)<b.eps))for(a=this.getZeroCoordinates(),c=this.getLowerAndUpperBounds(a),this.removeTickLabels(),this.ticks=[],this.labels=[],this.equidistant?this.generateEquidistantTicks(a,c):this.generateFixedTicks(a,c),d=e;d<this.labelsRepo.length;d++)this.labelsRepo[d].setAttribute({visible:!1})},setTicksSizeVariables:function(){var a,b=.5*this.visProp.majorheight,c=.5*this.visProp.minorheight;this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2],this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,a=Math.sqrt(this.dxMaj*this.dxMaj*this.board.unitX*this.board.unitX+this.dyMaj*this.dyMaj*this.board.unitY*this.board.unitY),this.dxMaj*=b/a*this.board.unitX,this.dyMaj*=b/a*this.board.unitY,this.dxMin*=c/a*this.board.unitX,this.dyMin*=c/a*this.board.unitY,this.minStyle="finite",this.visProp.minorheight<0&&(this.minStyle="infinite"),this.majStyle="finite",this.visProp.majorheight<0&&(this.majStyle="infinite")},getZeroCoordinates:function(){return this.line.type===d.OBJECT_TYPE_AXIS?c.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):"right"===this.visProp.anchor?this.line.point2.coords:"middle"===this.visProp.anchor?new f(d.COORDS_BY_USER,[(this.line.point1.coords.usrCoords[1]+this.line.point2.coords.usrCoords[1])/2,(this.line.point1.coords.usrCoords[2]+this.line.point2.coords.usrCoords[2])/2],this.board):this.line.point1.coords},getLowerAndUpperBounds:function(e,g){var h,i,j,k,l=new f(d.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),m=new f(d.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),n=Math.abs(l.usrCoords[0])>=b.eps&&l.scrCoords[1]>=0&&l.scrCoords[1]<=this.board.canvasWidth&&l.scrCoords[2]>=0&&l.scrCoords[2]<=this.board.canvasHeight,o=Math.abs(m.usrCoords[0])>=b.eps&&m.scrCoords[1]>=0&&m.scrCoords[1]<=this.board.canvasWidth&&m.scrCoords[2]>=0&&m.scrCoords[2]<=this.board.canvasHeight;return a.exists(g)||"tickdistance"===g?c.calcStraight(this.line,l,m):c.calcLineDelimitingPoints(this.line,l,m),j=this.getDistanceFromZero(e,l),k=this.getDistanceFromZero(e,m),k>j?(h=j,this.line.visProp.straightfirst||!n||this.visProp.includeboundaries||(h+=b.eps),i=k,this.line.visProp.straightlast||!o||this.visProp.includeboundaries||(i-=b.eps)):j>k?(h=k,this.line.visProp.straightlast||!o||this.visProp.includeboundaries||(h+=b.eps),i=j,this.line.visProp.straightfirst||!n||this.visProp.includeboundaries||(i-=b.eps)):(h=0,i=0),{lower:h,upper:i}},getDistanceFromZero:function(a,e){var f=b.eps*b.eps,g=a.distance(d.COORDS_BY_USER,e);return this.line.type===d.OBJECT_TYPE_AXIS?(a.usrCoords[1]-e.usrCoords[1]>f||Math.abs(a.usrCoords[1]-e.usrCoords[1])<f&&a.usrCoords[2]-e.usrCoords[2]>f)&&(g*=-1):"right"===this.visProp.anchor?c.isSameDirection(a,this.line.point1.coords,e)&&(g*=-1):c.isSameDirection(a,this.line.point2.coords,e)||(g*=-1),g},generateEquidistantTicks:function(a,c){var d,e=(this.line.point1,this.line.point2,this.getXandYdeltas()),f=this.equidistant?this.ticksFunction(1):this.ticksDelta;if(f*=this.visProp.scale,this.visProp.insertticks&&this.minTicksDistance>b.eps?(f=this.adjustTickDistance(f,a,e),f/=this.visProp.minorticks+1):this.visProp.insertticks||(f/=this.visProp.minorticks+1),this.ticksDelta=f,!(f<b.eps)){for(d=0,this.visProp.drawzero||(d=f);d<=c.upper;)d>=c.lower&&this.processTickPosition(a,d,f,e),d+=f;for(d=-f;d>=c.lower;)d<=c.upper&&this.processTickPosition(a,d,f,e),d-=f}},adjustTickDistance:function(a,b,c){var e,g,h,i,j,k=1;for(h=this.getLowerAndUpperBounds(b,"ticksdistance"),e=b.usrCoords[1]+c.x*a,g=b.usrCoords[2]+c.y*a,i=b.distance(d.COORDS_BY_SCREEN,new f(d.COORDS_BY_USER,[e,g],this.board)),j=h.upper-h.lower;i/(this.visProp.minorticks+1)<this.minTicksDistance;)a*=1===k?2:5,k*=-1,e=b.usrCoords[1]+c.x*a,g=b.usrCoords[2]+c.y*a,i=b.distance(d.COORDS_BY_SCREEN,new f(d.COORDS_BY_USER,[e,g],this.board));return a},processTickPosition:function(a,b,c,e){var g,h,i,j,k;g=a.usrCoords[1]+b*e.x,h=a.usrCoords[2]+b*e.y,i=new f(d.COORDS_BY_USER,[g,h],this.board),i.major=Math.round(b/c)%(this.visProp.minorticks+1)===0,j=this.tickEndings(i,i.major),3===j.length&&(this.ticks.push(j),i.major&&this.visProp.drawlabels?(k=this.generateLabelText(i,a),this.labels.push(this.generateLabel(k,i,this.ticks.length))):this.labels.push(null))},generateFixedTicks:function(a,b){var c,e,h,i,j,k,l=g.isArray(this.visProp.labels),m=this.getXandYdeltas();for(h=0;h<this.fixedTicks.length;h++)j=a.usrCoords[1]+this.fixedTicks[h]*m.x,k=a.usrCoords[2]+this.fixedTicks[h]*m.y,c=new f(d.COORDS_BY_USER,[j,k],this.board),i=this.tickEndings(c,!0),3===i.length&&this.fixedTicks[h]>=b.lower&&this.fixedTicks[h]<=b.upper&&(this.ticks.push(i),this.visProp.drawlabels&&(l||g.exists(this.visProp.labels[h]))?(e=l?this.visProp.labels[h]:this.fixedTicks[h],this.labels.push(this.generateLabel(this.generateLabelText(c,a,e),c,h))):this.labels.push(null))},getXandYdeltas:function(){var a,c,e=this.line.point1.Dist(this.line.point2);return this.line.type===d.OBJECT_TYPE_AXIS?(a=this.line.point1.coords.usrCoords,c=this.line.point2.coords.usrCoords,(a[1]>c[1]||Math.abs(a[1]-c[1])<b.eps&&a[2]>c[2])&&(a=this.line.point2.coords.usrCoords,c=this.line.point1.coords.usrCoords)):(a=this.line.point1.coords.usrCoords,c=this.line.point2.coords.usrCoords),{x:(c[1]-a[1])/e,y:(c[2]-a[2])/e}},tickEndings:function(a,b){var d,e,f,g,h,i,j=this.board.canvasWidth,k=this.board.canvasHeight,l=[-1e3*j,-1e3*k],m=[-1e3*j,-1e3*k],n=!1;return d=a.scrCoords,b?(g=this.dxMaj,h=this.dyMaj,i=this.majStyle):(g=this.dxMin,h=this.dyMin,i=this.minStyle),e=[-h*d[1]-g*d[2],h,g],"infinite"===i?(f=c.meetLineBoard(e,this.board),l[0]=f[0].scrCoords[1],l[1]=f[1].scrCoords[1],m[0]=f[0].scrCoords[2],m[1]=f[1].scrCoords[2]):(l[0]=d[1]+g*this.visProp.tickendings[0],m[0]=d[2]-h*this.visProp.tickendings[0],l[1]=d[1]-g*this.visProp.tickendings[1],m[1]=d[2]+h*this.visProp.tickendings[1]),n=l[0]>=0&&l[0]<=j&&m[0]>=0&&m[0]<=k||l[1]>=0&&l[1]<=j&&m[1]>=0&&m[1]<=k,n?[l,m,b]:[]},generateLabelText:function(a,c,d){var e,f=this.getDistanceFromZero(c,a);return Math.abs(f)<b.eps?e="0":(g.exists(d)||(d=f/this.visProp.scale),e=d.toString(),this.visProp.useunicodeminus&&(e=e.replace(/-/g,"−")),g.isNumber(d)&&((e.length>this.visProp.maxlabellength||-1!==e.indexOf("e"))&&(e=d.toPrecision(this.visProp.precision).toString()),e.indexOf(".")>-1&&-1===e.indexOf("e")&&(e=e.replace(/0+$/,""),e=e.replace(/\.$/,""))),this.visProp.scalesymbol.length>0&&("1"===e?e=this.visProp.scalesymbol:"-1"===e?e="-"+this.visProp.scalesymbol:"0"!==e&&(e+=this.visProp.scalesymbol))),e},generateLabel:function(a,b,c){var d,e={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,visible:this.visProp.visible,priv:this.visProp.priv};return e=g.deepCopy(e,this.visProp.label),this.labelsRepo.length>0?(d=this.labelsRepo.pop(),d.setText(a),d.setAttribute(e)):(this.labelCounter+=1,e.id=this.id+c+"Label"+this.labelCounter,d=h.createText(this.board,[b.usrCoords[1],b.usrCoords[2],a],e)),d.isDraggable=!1,d.dump=!1,d.distanceX=this.visProp.label.offset[0],d.distanceY=this.visProp.label.offset[1],d.setCoords(b.usrCoords[1]+d.distanceX/this.board.unitX,b.usrCoords[2]+d.distanceY/this.board.unitY),d},removeTickLabels:function(){var a;if(g.exists(this.labels)&&(this.board.needsFullUpdate||this.needsRegularUpdate||this.needsUpdate)&&("canvas"!==this.board.renderer.type||"internal"!==this.board.options.text.display))for(a=0;a<this.labels.length;a++)g.exists(this.labels[a])&&this.labelsRepo.push(this.labels[a])},update:function(){return this.needsUpdate&&0!==this.board.canvasWidth&&0!==this.board.canvasHeight&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate&&(this.board.renderer.updateTicks(this),this.needsUpdate=!1),this},hideElement:function(){var a;for(this.visProp.visible=!1,this.board.renderer.hide(this),a=0;a<this.labels.length;a++)g.exists(this.labels[a])&&this.labels[a].hideElement();return this},showElement:function(){var a;for(this.visProp.visible=!0,this.board.renderer.show(this),a=0;a<this.labels.length;a++)g.exists(this.labels[a])&&this.labels[a].showElement();return this}}),a.createTicks=function(b,c,e){var f,h,i=g.copyAttributes(e,b.options,"ticks");if(h=c.length<2?i.ticksdistance:c[1],c[0].elementClass!==d.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof c[0]+"'.");return f=new a.Ticks(c[0],h,i),"function"==typeof i.generatelabelvalue&&(f.generateLabelText=i.generatelabelvalue),"function"==typeof i.generatelabeltext&&(f.generateLabelText=i.generatelabeltext),f.isDraggable=!0,f},a.createHatchmark=function(a,b,c){var e,f,h,i,j,k,l=[],m=g.copyAttributes(c,a.options,"hatch");if(b[0].elementClass!==d.OBJECT_CLASS_LINE||"number"!=typeof b[1])throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.");for(e=b[1],i=m.ticksdistance,j=(e-1)*i,h=-j/2,f=0;e>f;f++)l[f]=h+f*i;k=a.create("ticks",[b[0],l],m),k.elType="hatch"},a.registerElement("ticks",a.createTicks),a.registerElement("hash",a.createHatchmark),a.registerElement("hatch",a.createHatchmark),{Ticks:a.Ticks,createTicks:a.createTicks,createHashmark:a.createHatchmark,createHatchmark:a.createHatchmark}}),define("base/line",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/constants","base/coords","base/element","utils/type","base/transformation","base/point","base/ticks"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return a.Line=function(b,c,d,e){this.constructor(b,e,f.OBJECT_TYPE_LINE,f.OBJECT_CLASS_LINE),this.point1=this.board.select(c),this.point2=this.board.select(d),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1.addChild(this),this.point2.addChild(this),this.updateStdform(),this.createLabel(),this.methodMap=a.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"getSlope",getRise:"getRise",getYIntersect:"getRise",getAngle:"getAngle",L:"L",length:"L",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks"})},a.Line.prototype=new h,a.extend(a.Line.prototype,{hasPoint:function(a,d){var e,h,i,j,k,l,m,n=[],o=[1,a,d];return n[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,n[1]=this.stdform[1]/this.board.unitX,n[2]=this.stdform[2]/-this.board.unitY,e=c.distPointLine(o,n),isNaN(e)||e>this.board.options.precision.hasPoint?!1:this.visProp.straightfirst&&this.visProp.straightlast?!0:(i=this.point1.coords,j=this.point2.coords,h=[0,n[1],n[2]],h=b.crossProduct(h,o),h=b.crossProduct(h,n),h[1]/=h[0],h[2]/=h[0],h[0]=1,h=new g(f.COORDS_BY_SCREEN,h.slice(1),this.board).usrCoords,k=i.distance(f.COORDS_BY_USER,j),i=i.usrCoords.slice(0),j=j.usrCoords.slice(0),k<b.eps?l=0:(k===Number.POSITIVE_INFINITY&&(k=1/b.eps,Math.abs(j[0])<b.eps?(k/=c.distance([0,0,0],j),j=[1,i[1]+j[1]*k,i[2]+j[2]*k]):(k/=c.distance([0,0,0],i),i=[1,j[1]+i[1]*k,j[2]+i[2]*k])),m=1,k=j[m]-i[m],Math.abs(k)<b.eps&&(m=2,k=j[m]-i[m]),l=(h[m]-i[m])/k),!this.visProp.straightfirst&&0>l?!1:!(!this.visProp.straightlast&&l>1))},update:function(){var a;return this.needsUpdate?(this.constrained&&("function"==typeof this.funps?(a=this.funps(),a&&a.length&&2===a.length&&(this.point1=a[0],this.point2=a[1])):("function"==typeof this.funp1&&(a=this.funp1(),i.isPoint(a)?this.point1=a:a&&a.length&&2===a.length&&this.point1.setPositionDirectly(f.COORDS_BY_USER,a)),"function"==typeof this.funp2&&(a=this.funp2(),i.isPoint(a)?this.point2=a:a&&a.length&&2===a.length&&this.point2.setPositionDirectly(f.COORDS_BY_USER,a)))),this.updateSegmentFixedLength(),this.updateStdform(),this.visProp.trace&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var a,c,d,e,g,h,i,j;return this.hasFixedLength?(a=this.point1.Dist(this.point2),c=this.fixedLength(),d=this.fixedLengthOldCoords[0].distance(f.COORDS_BY_USER,this.point1.coords),e=this.fixedLengthOldCoords[1].distance(f.COORDS_BY_USER,this.point2.coords),(d>b.eps||e>b.eps||a!==c)&&(g=this.point1.isDraggable&&this.point1.type!==f.OBJECT_TYPE_GLIDER&&!this.point1.visProp.fixed,h=this.point2.isDraggable&&this.point2.type!==f.OBJECT_TYPE_GLIDER&&!this.point2.visProp.fixed,a>b.eps?d>e&&h||e>=d&&h&&!g?(this.point2.setPositionDirectly(f.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*c/a,this.point1.Y()+(this.point2.Y()-this.point1.Y())*c/a]),this.point2.prepareUpdate().updateRenderer()):(e>=d&&g||d>e&&g&&!h)&&(this.point1.setPositionDirectly(f.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*c/a,this.point2.Y()+(this.point1.Y()-this.point2.Y())*c/a]),this.point1.prepareUpdate().updateRenderer()):(i=Math.random()-.5,j=Math.random()-.5,a=Math.sqrt(i*i+j*j),h?(this.point2.setPositionDirectly(f.COORDS_BY_USER,[this.point1.X()+i*c/a,this.point1.Y()+j*c/a]),this.point2.prepareUpdate().updateRenderer()):g&&(this.point1.setPositionDirectly(f.COORDS_BY_USER,[this.point2.X()+i*c/a,this.point2.Y()+j*c/a]),this.point1.prepareUpdate().updateRenderer())),this.fixedLengthOldCoords[0].setCoordinates(f.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(f.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var a=b.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=a[0],this.stdform[1]=a[1],this.stdform[2]=a[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){var a;return this.needsUpdate&&this.visProp.visible&&(a=this.isReal,this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&b.innerProduct(this.stdform,this.stdform,3)>=b.eps*b.eps,this.isReal?(a!==this.isReal&&(this.board.renderer.show(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.show(this.label)),this.board.renderer.updateLine(this)):a!==this.isReal&&(this.board.renderer.hide(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.hide(this.label)),this.needsUpdate=!1),this.hasLabel&&this.label.visProp.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this},generatePolynomial:function(a){var b=this.point1.symbolic.x,c=this.point1.symbolic.y,d=this.point2.symbolic.x,e=this.point2.symbolic.y,f=a.symbolic.x,g=a.symbolic.y;return[["(",c,")*(",f,")-(",c,")*(",d,")+(",g,")*(",d,")-(",b,")*(",g,")+(",b,")*(",e,")-(",f,")*(",e,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=b.eps?-this.stdform[0]/this.stdform[2]:1/0},getSlope:function(){return Math.abs(this.stdform[2])>=b.eps?-this.stdform[1]/this.stdform[2]:1/0},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},setStraight:function(a,b){return this.visProp.straightfirst=a,this.visProp.straightlast=b,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new g(f.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(a){i.exists(this.label)&&(this.label.relativeCoords=new g(f.COORDS_BY_SCREEN,[a[0],-a[1]],this.board))},getLabelAnchor:function(){var a,d,e=0,h=new g(f.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),j=new g(f.COORDS_BY_USER,this.point2.coords.usrCoords,this.board);if((this.visProp.straightfirst||this.visProp.straightlast)&&c.calcStraight(this,h,j,0),h=h.scrCoords,j=j.scrCoords,!i.exists(this.label))return new g(f.COORDS_BY_SCREEN,[NaN,NaN],this.board);switch(this.label.visProp.position){case"lft":case"llft":case"ulft":h[1]<=j[1]?(a=h[1],d=h[2]):(a=j[1],d=j[2]);break;case"rt":case"lrt":case"urt":h[1]>j[1]?(a=h[1],d=h[2]):(a=j[1],d=j[2]);break;default:a=.5*(h[1]+j[1]),d=.5*(h[2]+j[2])}return(this.visProp.straightfirst||this.visProp.straightlast)&&(i.exists(this.label)&&(e=this.label.visProp.fontsize),Math.abs(a)<b.eps?a=0:this.board.canvasWidth+b.eps>a&&a>this.board.canvasWidth-e-b.eps&&(a=this.board.canvasWidth-e),
b.eps+e>d&&d>-b.eps?d=e:this.board.canvasHeight+b.eps>d&&d>this.board.canvasHeight-e-b.eps&&(d=this.board.canvasHeight)),new g(f.COORDS_BY_SCREEN,[a,d],this.board)},cloneToBackground:function(){var a,b,c,d={};return d.id=this.id+"T"+this.numTraces,d.elementClass=f.OBJECT_CLASS_LINE,this.numTraces++,d.point1=this.point1,d.point2=this.point2,d.stdform=this.stdform,d.board=this.board,d.visProp=i.deepCopy(this.visProp,this.visProp.traceattributes,!0),d.visProp.layer=this.board.options.layer.trace,i.clearVisPropOld(d),b=this.getSlope(),a=this.getRise(),d.getSlope=function(){return b},d.getRise=function(){return a},c=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(d),this.board.renderer.enhancedRendering=c,this.traces[d.id]=d.rendNode,this},addTransform:function(a){var b,c=i.isArray(a)?a:[a],d=c.length;for(b=0;d>b;b++)this.point1.transformations.push(c[b]),this.point2.transformations.push(c[b]);return this},snapToGrid:function(b){var d,h,i,j,k,l,m,n,o;return this.visProp.snaptogrid?this.parents.length<3?(this.point1.handleSnapToGrid(!0),this.point2.handleSnapToGrid(!0)):a.exists(b)&&(n=this.visProp.snapsizex,o=this.visProp.snapsizey,d=new g(f.COORDS_BY_SCREEN,[b.Xprev,b.Yprev],this.board),l=d.usrCoords[1],m=d.usrCoords[2],0>=n&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(k=this.board.defaultAxes.x.defaultTicks,n=k.ticksDelta*(k.visProp.minorticks+1)),0>=o&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(k=this.board.defaultAxes.y.defaultTicks,o=k.ticksDelta*(k.visProp.minorticks+1)),n>0&&o>0&&(h=c.projectPointToLine({coords:d},this,this.board),i=e.subtract([1,Math.round(l/n)*n,Math.round(m/o)*o],h.usrCoords),j=this.board.create("transform",i.slice(1),{type:"translate"}),j.applyOnce([this.point1,this.point2]))):(this.point1.snapToGrid(),this.point2.snapToGrid()),this},snapToPoints:function(){var a=this.visProp.snaptopoints;return this.parents.length<3&&(this.point1.handleSnapToPoints(a),this.point2.handleSnapToPoints(a)),this},X:function(a){var c,d=this.stdform[2];return c=Math.abs(this.point1.coords.usrCoords[0])>b.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],a=2*(a-.5),(1-Math.abs(a))*c-a*d},Y:function(a){var c,d=this.stdform[1];return c=Math.abs(this.point1.coords.usrCoords[0])>b.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],a=2*(a-.5),(1-Math.abs(a))*c+a*d},Z:function(a){var c=Math.abs(this.point1.coords.usrCoords[0])>b.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return a=2*(a-.5),(1-Math.abs(a))*c},L:function(){return this.point1.Dist(this.point2)},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var a=this.point1.coords.usrCoords,b=this.point2.coords.usrCoords;return[Math.min(a[1],b[1]),Math.max(a[2],b[2]),Math.max(a[1],b[1]),Math.min(a[2],b[2])]},addTicks:function(a){return""!==a.id&&i.exists(a.id)||(a.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(a),this.ticks.push(a),a.id},remove:function(){this.removeAllTicks(),h.prototype.remove.call(this)},removeAllTicks:function(){var a;for(a=this.ticks.length;a>0;a--)this.removeTicks(this.ticks[a-1]);this.ticks=[],this.board.update()},removeTicks:function(a){var b,c;for(i.exists(this.defaultTicks)&&this.defaultTicks===a&&(this.defaultTicks=null),b=this.ticks.length;b>0;b--)if(this.ticks[b-1]===a){if(this.board.removeObject(this.ticks[b-1]),this.ticks[b-1].ticks)for(c=0;c<this.ticks[b-1].ticks.length;c++)i.exists(this.ticks[b-1].labels[c])&&this.board.removeObject(this.ticks[b-1].labels[c]);delete this.ticks[b-1];break}},hideElement:function(){var a;for(h.prototype.hideElement.call(this),a=0;a<this.ticks.length;a++)this.ticks[a].hideElement()},showElement:function(){var a;for(h.prototype.showElement.call(this),a=0;a<this.ticks.length;a++)this.ticks[a].showElement()}}),a.createLine=function(b,c,d){var e,f,g,h,j,l,m,n=[],o=!1;if(2===c.length){if(i.isArray(c[0])&&c[0].length>1)l=i.copyAttributes(d,b.options,"line","point1"),g=b.create("point",c[0],l);else if(i.isString(c[0])||i.isPoint(c[0]))g=b.select(c[0]);else if("function"==typeof c[0]&&i.isPoint(c[0]()))g=c[0](),o=!0;else{if("function"!=typeof c[0]||!c[0]().length||2!==c[0]().length)throw new Error("JSXGraph: Can't create line with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");l=i.copyAttributes(d,b.options,"line","point1"),g=k.createPoint(b,c[0](),l),o=!0}if(i.isArray(c[1])&&c[1].length>1)l=i.copyAttributes(d,b.options,"line","point2"),h=b.create("point",c[1],l);else if(i.isString(c[1])||i.isPoint(c[1]))h=b.select(c[1]);else if("function"==typeof c[1]&&i.isPoint(c[1]()))h=c[1](),o=!0;else{if("function"!=typeof c[1]||!c[1]().length||2!==c[1]().length)throw new Error("JSXGraph: Can't create line with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");l=i.copyAttributes(d,b.options,"line","point2"),h=k.createPoint(b,c[1](),l),o=!0}l=i.copyAttributes(d,b.options,"line"),f=new a.Line(b,g,h,l),o?(f.constrained=!0,f.funp1=c[0],f.funp2=c[1]):f.isDraggable=!0,f.setParents([g.id,h.id])}else if(3===c.length){for(m=!0,j=0;3>j;j++)if("number"==typeof c[j])n[j]=i.createFunction(c[j]);else{if("function"!=typeof c[j])throw new Error("JSXGraph: Can't create line with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");n[j]=c[j],m=!1}l=i.copyAttributes(d,b.options,"line","point1"),g=m?b.create("point",[n[2]()*n[2]()+n[1]()*n[1](),n[2]()-n[1]()*n[0]()+n[2](),-n[1]()-n[2]()*n[0]()-n[1]()],l):b.create("point",[function(){return.5*(n[2]()*n[2]()+n[1]()*n[1]())},function(){return.5*(n[2]()-n[1]()*n[0]()+n[2]())},function(){return.5*(-n[1]()-n[2]()*n[0]()-n[1]())}],l),l=i.copyAttributes(d,b.options,"line","point2"),h=m?b.create("point",[n[2]()*n[2]()+n[1]()*n[1](),-n[1]()*n[0]()+n[2](),-n[2]()*n[0]()-n[1]()],l):b.create("point",[function(){return n[2]()*n[2]()+n[1]()*n[1]()},function(){return-n[1]()*n[0]()+n[2]()},function(){return-n[2]()*n[0]()-n[1]()}],l),g.prepareUpdate().update(),h.prepareUpdate().update(),l=i.copyAttributes(d,b.options,"line"),f=new a.Line(b,g,h,l),f.isDraggable=m,f.setParents([g,h])}else if(1===c.length&&"function"==typeof c[0]&&2===c[0]().length&&i.isPoint(c[0]()[0])&&i.isPoint(c[0]()[1]))e=c[0](),l=i.copyAttributes(d,b.options,"line"),f=new a.Line(b,e[0],e[1],l),f.constrained=!0,f.funps=c[0],f.setParents(e);else{if(1!==c.length||"function"!=typeof c[0]||3!==c[0]().length||"number"!=typeof c[0]()[0]||"number"!=typeof c[0]()[1]||"number"!=typeof c[0]()[2])throw new Error("JSXGraph: Can't create line with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");e=c[0],l=i.copyAttributes(d,b.options,"line","point1"),g=b.create("point",[function(){var a=e();return[.5*(a[2]*a[2]+a[1]*a[1]),.5*(a[2]-a[1]*a[0]+a[2]),.5*(-a[1]-a[2]*a[0]-a[1])]}],l),l=i.copyAttributes(d,b.options,"line","point2"),h=b.create("point",[function(){var a=e();return[a[2]*a[2]+a[1]*a[1],-a[1]*a[0]+a[2],-a[2]*a[0]-a[1]]}],l),l=i.copyAttributes(d,b.options,"line"),f=new a.Line(b,g,h,l),f.constrained=!0,f.funps=c[0],f.setParents([g,h])}return f},a.registerElement("line",a.createLine),a.createSegment=function(a,b,c){var d,e;if(c.straightFirst=!1,c.straightLast=!1,e=i.copyAttributes(c,a.options,"segment"),d=a.create("line",b.slice(0,2),e),3===b.length){if(d.hasFixedLength=!0,i.isNumber(b[2]))d.fixedLength=function(){return b[2]};else{if(!i.isFunction(b[2]))throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof b[2]+"'.\nPossible third parent types: number or function");d.fixedLength=b[2]}d.getParents=function(){return this.parents.concat(this.fixedLength())},d.fixedLengthOldCoords=[],d.fixedLengthOldCoords[0]=new g(f.COORDS_BY_USER,d.point1.coords.usrCoords.slice(1,3),a),d.fixedLengthOldCoords[1]=new g(f.COORDS_BY_USER,d.point2.coords.usrCoords.slice(1,3),a)}return d.elType="segment",d},a.registerElement("segment",a.createSegment),a.createArrow=function(a,b,c){var d;return c.firstArrow=!1,c.lastArrow=!0,d=a.create("line",b,c).setStraight(!1,!1),d.type=f.OBJECT_TYPE_VECTOR,d.elType="arrow",d},a.registerElement("arrow",a.createArrow),a.createAxis=function(a,b,c){var d,e,g,h;if(!i.isArray(b[0])&&!i.isPoint(b[0])||!i.isArray(b[1])&&!i.isPoint(b[1]))throw new Error("JSXGraph: Can't create axis with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");d=i.copyAttributes(c,a.options,"axis"),e=a.create("line",b,d),e.type=f.OBJECT_TYPE_AXIS,e.isDraggable=!1,e.point1.isDraggable=!1,e.point2.isDraggable=!1;for(g in e.ancestors)e.ancestors.hasOwnProperty(g)&&(e.ancestors[g].type=f.OBJECT_TYPE_AXISPOINT);return d=i.copyAttributes(c,a.options,"axis","ticks"),h=i.exists(d.ticksdistance)?d.ticksdistance:i.isArray(d.ticks)?d.ticks:1,e.defaultTicks=a.create("ticks",[e,h],d),e.defaultTicks.dump=!1,e.elType="axis",e.subs={ticks:e.defaultTicks},e},a.registerElement("axis",a.createAxis),a.createTangent=function(a,c,e){var g,h,j,k,l,m,n;if(1===c.length)g=c[0],h=g.slideObject;else{if(2!==c.length)throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");if(i.isPoint(c[0]))g=c[0],h=c[1];else{if(!i.isPoint(c[1]))throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");h=c[0],g=c[1]}}if(h.elementClass===f.OBJECT_CLASS_LINE?(n=a.create("line",[h.point1,h.point2],e),n.glider=g):h.elementClass===f.OBJECT_CLASS_CURVE&&h.type!==f.OBJECT_TYPE_CONIC?"plot"!==h.visProp.curvetype?(j=h.X,k=h.Y,n=a.create("line",[function(){return-g.X()*d.D(k)(g.position)+g.Y()*d.D(j)(g.position)},function(){return d.D(k)(g.position)},function(){return-d.D(j)(g.position)}],e),g.addChild(n),n.glider=g):(n=a.create("line",[function(){var a=Math.floor(g.position);return a===h.numberPoints-1&&a--,0>a?1:h.Y(a)*h.X(a+1)-h.X(a)*h.Y(a+1)},function(){var a=Math.floor(g.position);return a===h.numberPoints-1&&a--,0>a?0:h.Y(a+1)-h.Y(a)},function(){var a=Math.floor(g.position);return a===h.numberPoints-1&&a--,0>a?0:h.X(a)-h.X(a+1)}],e),g.addChild(n),n.glider=g):h.type===f.OBJECT_TYPE_TURTLE?(n=a.create("line",[function(){var a=Math.floor(g.position);for(l=0;l<h.objects.length;l++)if(m=h.objects[l],m.type===f.OBJECT_TYPE_CURVE){if(a<m.numberPoints)break;a-=m.numberPoints}return a===m.numberPoints-1&&a--,0>a?1:m.Y(a)*m.X(a+1)-m.X(a)*m.Y(a+1)},function(){var a=Math.floor(g.position);for(l=0;l<h.objects.length;l++)if(m=h.objects[l],m.type===f.OBJECT_TYPE_CURVE){if(a<m.numberPoints)break;a-=m.numberPoints}return a===m.numberPoints-1&&a--,0>a?0:m.Y(a+1)-m.Y(a)},function(){var a=Math.floor(g.position);for(l=0;l<h.objects.length;l++)if(m=h.objects[l],m.type===f.OBJECT_TYPE_CURVE){if(a<m.numberPoints)break;a-=m.numberPoints}return a===m.numberPoints-1&&a--,0>a?0:m.X(a)-m.X(a+1)}],e),g.addChild(n),n.glider=g):(h.elementClass===f.OBJECT_CLASS_CIRCLE||h.type===f.OBJECT_TYPE_CONIC)&&(n=a.create("line",[function(){return b.matVecMult(h.quadraticform,g.coords.usrCoords)[0]},function(){return b.matVecMult(h.quadraticform,g.coords.usrCoords)[1]},function(){return b.matVecMult(h.quadraticform,g.coords.usrCoords)[2]}],e),g.addChild(n),n.glider=g),!i.exists(n))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return n.elType="tangent",n.type=f.OBJECT_TYPE_TANGENT,n.setParents(c),n},a.createRadicalAxis=function(a,c,d){var e,g,h;if(2!==c.length||c[0].elementClass!==f.OBJECT_CLASS_CIRCLE||c[1].elementClass!==f.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent type: [circle,circle]");return g=a.select(c[0]),h=a.select(c[1]),e=a.create("line",[function(){var a=g.stdform,c=h.stdform;return b.matVecMult(b.transpose([a.slice(0,3),c.slice(0,3)]),[c[3],-a[3]])}],d),e.elType="radicalaxis",e.setParents([g.id,h.id]),g.addChild(e),h.addChild(e),e},a.createPolarLine=function(a,b,c){var d,e,g,h,j,k,l;if(b.length>1&&(h=b[0].type===f.OBJECT_TYPE_CONIC||b[0].elementClass===f.OBJECT_CLASS_CIRCLE,j=b[1].type===f.OBJECT_TYPE_CONIC||b[1].elementClass===f.OBJECT_CLASS_CIRCLE,k=i.isPoint(b[0]),l=i.isPoint(b[1])),2!==b.length||!(h&&l||k&&j))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent type: [conic|circle,point], [point,conic|circle]");return l?(e=a.select(b[0]),g=a.select(b[1])):(e=a.select(b[1]),g=a.select(b[0])),d=a.create("tangent",[e,g],c),d.elType="polarline",d},a.registerElement("tangent",a.createTangent),a.registerElement("polar",a.createTangent),a.registerElement("radicalaxis",a.createRadicalAxis),a.registerElement("polarline",a.createPolarLine),{Line:a.Line,createLine:a.createLine,createTangent:a.createTangent,createPolar:a.createTangent,createSegment:a.createSegment,createAxis:a.createAxis,createArrow:a.createArrow,createRadicalAxis:a.createRadicalAxis,createPolarLine:a.createPolarLine}}),define("base/circle",["jxg","base/element","base/coords","base/constants","parser/geonext","math/geometry","math/statistics","utils/type","base/transformation","base/point"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return a.Circle=function(a,b,c,e,f){this.constructor(a,f,d.OBJECT_TYPE_CIRCLE,d.OBJECT_CLASS_CIRCLE),this.method=b,this.midpoint=this.board.select(c),this.center=this.board.select(c),this.point2=null,this.radius=0,this.line=null,this.circle=null,"twoPoints"===b?(this.point2=a.select(e),this.radius=this.Radius()):"pointRadius"===b?(this.gxtterm=e,this.updateRadius=h.createFunction(e,this.board,null,!0),this.updateRadius()):"pointLine"===b?(this.line=a.select(e),this.radius=this.line.point1.coords.distance(d.COORDS_BY_USER,this.line.point2.coords)):"pointCircle"===b&&(this.circle=a.select(e),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),this.center.addChild(this),"pointRadius"===b?this.notifyParents(e):"pointLine"===b?this.line.addChild(this):"pointCircle"===b?this.circle.addChild(this):"twoPoints"===b&&this.point2.addChild(this),this.methodMap=h.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",radius:"Radius",center:"center",line:"line",point2:"point2"})},a.Circle.prototype=new b,a.extend(a.Circle.prototype,{hasPoint:function(a,b){var e=this.board.options.precision.hasPoint/this.board.unitX,f=this.center.coords.usrCoords,g=new c(d.COORDS_BY_SCREEN,[a,b],this.board),h=this.Radius(),i=Math.sqrt((f[1]-g.usrCoords[1])*(f[1]-g.usrCoords[1])+(f[2]-g.usrCoords[2])*(f[2]-g.usrCoords[2]));return this.visProp.hasinnerpoints?h+e>i:Math.abs(i-h)<e},generatePolynomial:function(a){var b=this.center.symbolic.x,c=this.center.symbolic.y,d=a.symbolic.x,e=a.symbolic.y,f=this.generateRadiusSquared();return""===f?[]:["(("+d+")-("+b+"))^2 + (("+e+")-("+c+"))^2 - ("+f+")"]},generateRadiusSquared:function(){var a,b,c,d,e,f,g="";return"twoPoints"===this.method?(a=this.center.symbolic.x,b=this.center.symbolic.y,c=this.point2.symbolic.x,d=this.point2.symbolic.y,g="(("+c+")-("+a+"))^2 + (("+d+")-("+b+"))^2"):"pointRadius"===this.method?"number"==typeof this.radius&&(g=(this.radius*this.radius).toString()):"pointLine"===this.method?(c=this.line.point1.symbolic.x,d=this.line.point1.symbolic.y,e=this.line.point2.symbolic.x,f=this.line.point2.symbolic.y,g="(("+c+")-("+e+"))^2 + (("+d+")-("+f+"))^2"):"pointCircle"===this.method&&(g=this.circle.Radius()),g},update:function(){return this.needsUpdate&&(this.visProp.trace&&this.cloneToBackground(!0),"pointLine"===this.method?this.radius=this.line.point1.coords.distance(d.COORDS_BY_USER,this.line.point2.coords):"pointCircle"===this.method?this.radius=this.circle.Radius():"pointRadius"===this.method&&(this.radius=this.updateRadius()),this.updateStdform(),this.updateQuadraticform()),this},updateQuadraticform:function(){var a=this.center,b=a.X(),c=a.Y(),d=this.Radius();this.quadraticform=[[b*b+c*c-d*d,-b,-c],[-b,1,0],[-c,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=h.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){var a;this.needsUpdate&&this.visProp.visible&&(a=this.isReal,this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal?(a!==this.isReal&&(this.board.renderer.show(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.show(this.label)),this.board.renderer.updateEllipse(this)):a!==this.isReal&&(this.board.renderer.hide(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.hide(this.label)),this.needsUpdate=!1),this.hasLabel&&this.label.visProp.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label))},notifyParents:function(a){"string"==typeof a&&e.findDependencies(this,a,this.board)},setRadius:function(a){return this.updateRadius=h.createFunction(a,this.board,null,!0),this.board.update(),this},Radius:function(a){return h.exists(a)?(this.setRadius(a),this.Radius()):"twoPoints"===this.method?h.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||h.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):"pointLine"===this.method||"pointCircle"===this.method?this.radius:"pointRadius"===this.method?this.updateRadius():NaN},getRadius:function(){return a.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var a,b,e=this.Radius(),f=this.center.coords.usrCoords;switch(this.visProp.label.position){case"lft":a=f[1]-e,b=f[2];break;case"llft":a=f[1]-Math.sqrt(.5)*e,b=f[2]-Math.sqrt(.5)*e;break;case"rt":a=f[1]+e,b=f[2];break;case"lrt":a=f[1]+Math.sqrt(.5)*e,b=f[2]-Math.sqrt(.5)*e;break;case"urt":a=f[1]+Math.sqrt(.5)*e,b=f[2]+Math.sqrt(.5)*e;break;case"top":a=f[1],b=f[2]+e;break;case"bot":a=f[1],b=f[2]-e;break;default:a=f[1]-Math.sqrt(.5)*e,b=f[2]+Math.sqrt(.5)*e}return new c(d.COORDS_BY_USER,[a,b],this.board)},cloneToBackground:function(){var a,b=this.Radius(),c={id:this.id+"T"+this.numTraces,elementClass:d.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return b},getRadius:function(){return b},board:this.board,visProp:h.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return c.visProp.layer=this.board.options.layer.trace,this.numTraces++,h.clearVisPropOld(c),a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(c),this.board.renderer.enhancedRendering=a,this.traces[c.id]=c.rendNode,this},addTransform:function(a){var b,c=h.isArray(a)?a:[a],d=c.length;for(b=0;d>b;b++)this.center.transformations.push(c[b]),"twoPoints"===this.method&&this.point2.transformations.push(c[b]);return this},snapToGrid:function(){var a=this.visProp.snaptogrid;return this.center.snapToGrid(a),"twoPoints"===this.method&&this.point2.snapToGrid(a),this},snapToPoints:function(){var a=this.visProp.snaptopoints;return this.center.handleSnapToPoints(a),"twoPoints"===this.method&&this.point2.handleSnapToPoints(a),this},X:function(a){return this.Radius()*Math.cos(2*a*Math.PI)+this.center.coords.usrCoords[1]},Y:function(a){return this.Radius()*Math.sin(2*a*Math.PI)+this.center.coords.usrCoords[2]},Z:function(a){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var a=this.Radius();return a*a*Math.PI},bounds:function(){var a=this.center.coords.usrCoords,b=this.Radius();return[a[1]-b,a[2]+b,a[1]+b,a[2]-b]},getParents:function(){return 1==this.parents.length?this.parents.concat(this.radius):this.parents}}),a.createCircle=function(b,c,e){var f,g,i,j,k=!0;for(g=[],i=0;i<c.length;i++)if(h.isPointType(b,c[i])){if(g=g.concat(h.providePoints(b,[c[i]],e,"circle",["center"])),g[g.length-1]===!1)throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else g.push(c[i]);if(j=h.copyAttributes(e,b.options,"circle"),2===g.length&&h.isPoint(g[0])&&h.isPoint(g[1]))f=new a.Circle(b,"twoPoints",g[0],g[1],j);else if((h.isNumber(g[0])||h.isFunction(g[0])||h.isString(g[0]))&&h.isPoint(g[1]))f=new a.Circle(b,"pointRadius",g[1],g[0],j);else if((h.isNumber(g[1])||h.isFunction(g[1])||h.isString(g[1]))&&h.isPoint(g[0]))f=new a.Circle(b,"pointRadius",g[0],g[1],j);else if(g[0].elementClass===d.OBJECT_CLASS_CIRCLE&&h.isPoint(g[1]))f=new a.Circle(b,"pointCircle",g[1],g[0],j);else if(g[1].elementClass===d.OBJECT_CLASS_CIRCLE&&h.isPoint(g[0]))f=new a.Circle(b,"pointCircle",g[0],g[1],j);else if(g[0].elementClass===d.OBJECT_CLASS_LINE&&h.isPoint(g[1]))f=new a.Circle(b,"pointLine",g[1],g[0],j);else if(g[1].elementClass===d.OBJECT_CLASS_LINE&&h.isPoint(g[0]))f=new a.Circle(b,"pointLine",g[0],g[1],j);else{if(!(3===c.length&&h.isPoint(g[0])&&h.isPoint(g[1])&&h.isPoint(g[2])))throw new Error("JSXGraph: Can't create circle with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point]");if(!a.elements.circumcircle)throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");f=a.elements.circumcircle(b,g,j)}return f.isDraggable=k,f.setParents(g),f.elType="circle",f},a.registerElement("circle",a.createCircle),{Circle:a.Circle,createCircle:a.createCircle}}),define("base/composition",["jxg","utils/type"],function(a,b){"use strict";return a.Composition=function(a){var c,d=this,e=["setAttribute","prepareUpdate","updateRenderer","update","highlight","noHighlight"],f=function(a){return function(){var c;for(c in d.elements)d.elements.hasOwnProperty(c)&&b.exists(d.elements[c][a])&&d.elements[c][a].apply(d.elements[c],arguments);return d}};for(c=0;c<e.length;c++)this[e[c]]=f(e[c]);this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",add:"add",remove:"remove",select:"select"};for(c in a)a.hasOwnProperty(c)&&this.add(c,a[c]);this.dump=!0,this.subs={}},a.extend(a.Composition.prototype,{add:function(a,c){return!b.exists(this[a])&&b.exists(c)?(b.exists(c.id)?this.elements[c.id]=c:this.elements[a]=c,b.exists(c.name)&&(this.elementsByName[c.name]=c),c.on("attribute:name",this.nameListener,this),this.objectsList.push(c),this[a]=c,this.methodMap[a]=c,!0):!1},remove:function(a){var b,c=!1;for(b in this.elements)if(this.elements.hasOwnProperty(b)&&this.elements[b].id===this[a].id){c=!0;break}return c&&(delete this.elements[this[a].id],delete this[a]),c},nameListener:function(a,b,c){delete this.elementsByName[a],this.elementsByName[b]=c},select:function(c){return b.exists(a.Board)?a.Board.prototype.select.call(this,c):new a.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var a,b={};for(a in this.subs)this.subs.hasOwnProperty(a)&&(b[a]=this.subs[a].visProp);return this.attr}}),a.Composition}),define("base/curve",["jxg","base/constants","base/coords","base/element","math/math","math/statistics","math/numerics","math/geometry","parser/geonext","utils/type","base/transformation","math/qdt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return a.Curve=function(a,c,d){this.constructor(a,d,b.OBJECT_TYPE_CURVE,b.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=this.visProp.numberpointshigh,this.bezierDegree=1,this.dataX=null,this.dataY=null,this.qdt=null,j.exists(c[0])?this.varname=c[0]:this.varname="x",this.xterm=c[1],this.yterm=c[2],this.generateTerm(this.varname,this.xterm,this.yterm,c[3],c[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),"string"==typeof this.xterm&&this.notifyParents(this.xterm),"string"==typeof this.yterm&&this.notifyParents(this.yterm),this.methodMap=j.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm"})},a.Curve.prototype=new d,a.extend(a.Curve.prototype,{minX:function(){var a;return"polar"===this.visProp.curvetype?0:(a=new c(b.COORDS_BY_SCREEN,[0,0],this.board,!1),a.usrCoords[1])},maxX:function(){var a;return"polar"===this.visProp.curvetype?2*Math.PI:(a=new c(b.COORDS_BY_SCREEN,[this.board.canvasWidth,0],this.board,!1),a.usrCoords[1])},Z:function(a){return 1},hasPoint:function(a,d,f){var g,i,k,l,m,n,o,p,q,r,s,t,u=this.visProp.numberpointslow,v=(this.maxX()-this.minX())/u,w=this.board.options.precision.hasPoint/this.board.unitX,x=1/0,y=!0;if(i=new c(b.COORDS_BY_SCREEN,[a,d],this.board,!1),a=i.usrCoords[1],d=i.usrCoords[2],this.transformations.length>0&&(this.updateTransformMatrix(),l=e.inverse(this.transformMat),m=e.matVecMult(l,[1,a,d]),a=m[1],d=m[2]),"parameter"===this.visProp.curvetype||"polar"===this.visProp.curvetype)for(w*=w,n=0,g=this.minX();u>n;n++){if(p=this.X(g,y),q=this.Y(g,y),x=(a-p)*(a-p)+(d-q)*(d-q),w>x)return!0;g+=v}else if("plot"===this.visProp.curvetype||"functiongraph"===this.visProp.curvetype){for((!j.exists(f)||0>f)&&(f=0),j.exists(this.qdt)&&this.visProp.useqdt&&3!==this.bezierDegree?(t=this.qdt.query(new c(b.COORDS_BY_USER,[a,d],this.board)),s=t.points,k=s.length):(s=this.points,k=this.numberPoints-1),n=f;k>n;n++)for(r=[],3===this.bezierDegree?r.push(h.projectCoordsToBeziersegment([1,a,d],this,n)):t?(s[n].prev&&r.push(h.projectCoordsToSegment([1,a,d],s[n].prev.usrCoords,s[n].usrCoords)),s[n].next&&s[n+1]!==s[n].next&&r.push(h.projectCoordsToSegment([1,a,d],s[n].usrCoords,s[n].next.usrCoords))):r.push(h.projectCoordsToSegment([1,a,d],s[n].usrCoords,s[n+1].usrCoords)),o=0;o<r.length;o++)if(r[o][1]>=0&&r[o][1]<=1&&h.distance([1,a,d],r[o][0],3)<=w)return!0;return!1}return w>x},allocatePoints:function(){var a,d;if(d=this.numberPoints,this.points.length<this.numberPoints)for(a=this.points.length;d>a;a++)this.points[a]=new c(b.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(this.visProp.trace&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){var a;return this.needsUpdate&&this.visProp.visible&&(a=this.isReal,this.checkReal(),(this.isReal||a)&&this.board.renderer.updateCurve(this),this.isReal?a!==this.isReal&&(this.board.renderer.show(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.show(this.label)):a!==this.isReal&&(this.board.renderer.hide(this),this.hasLabel&&this.label.visProp.visible&&this.board.renderer.hide(this.label)),this.hasLabel&&j.exists(this.label.visProp)&&this.label.visProp.visible&&(this.label.update(),this.board.renderer.updateText(this.label))),this.needsUpdate=!1,this},updateDataArray:function(){},updateCurve:function(){var a,c,d,e,f,h,i=!1;if(this.updateTransformMatrix(),this.updateDataArray(),c=this.minX(),d=this.maxX(),j.exists(this.dataX))for(this.numberPoints=this.dataX.length,a=this.numberPoints,this.allocatePoints(),h=0;a>h;h++)e=h,j.exists(this.dataY)?(f=h,this.points[h].setCoordinates(b.COORDS_BY_USER,[this.dataX[h],this.dataY[h]],!1)):(f=this.X(e),this.points[h].setCoordinates(b.COORDS_BY_USER,[this.dataX[h],this.Y(f,i)],!1)),this.updateTransform(this.points[h]),i=!0;else{if(this.visProp.doadvancedplot?this.updateParametricCurve(c,d,a):this.visProp.doadvancedplotold?this.updateParametricCurveOld(c,d,a):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=this.visProp.numberpointshigh:this.numberPoints=this.visProp.numberpointslow,this.allocatePoints(),this.updateParametricCurveNaive(c,d,this.numberPoints)),a=this.numberPoints,this.visProp.useqdt&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new l(this.board.getBoundingBox()),h=0;h<this.points.length;h++)this.qdt.insert(this.points[h]),h>0&&(this.points[h].prev=this.points[h-1]),a-1>h&&(this.points[h].next=this.points[h+1]);for(h=0;a>h;h++)this.updateTransform(this.points[h])}return"plot"!==this.visProp.curvetype&&this.visProp.rdpsmoothing&&(this.points=g.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),this},updateTransformMatrix:function(){var a,b,c=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],b=0;c>b;b++)a=this.transformations[b],a.update(),this.transformMat=e.matMatMult(a.matrix,this.transformMat);return this},checkReal:function(){var a,b,c=!1,d=this.numberPoints;for(a=0;d>a;a++)if(b=this.points[a].usrCoords,!isNaN(b[1])&&!isNaN(b[2])&&Math.abs(b[0])>e.eps){c=!0;break}this.isReal=c},updateParametricCurveNaive:function(a,c,d){var e,f,g=!1,h=(c-a)/d;for(e=0;d>e;e++)f=a+e*h,this.points[e].setCoordinates(b.COORDS_BY_USER,[this.X(f,g),this.Y(f,g)],!1),g=!0;return this},updateParametricCurveOld:function(d,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t=!1,u=new c(b.COORDS_BY_USER,[0,0],this.board,!1),v=[],w=[],x=[],y=[],z=!1,A=0,B=function(a,b,c){var d,f,g=c[1]-a[1],h=c[2]-a[2],i=b[0]-a[1],j=b[1]-a[2],k=i*i+j*j;return k>=e.eps&&(d=(g*i+h*j)/k,d>0&&(1>=d?(g-=d*i,h-=d*j):(g-=i,h-=j))),f=g*g+h*h,Math.sqrt(f)};for(a.deprecated("Curve.updateParametricCurveOld()"),this.board.updateQuality===this.board.BOARD_QUALITY_LOW?(q=15,r=10,s=10):(q=21,r=.7,s=.7),y[0]=f-d,g=1;q>g;g++)y[g]=.5*y[g-1];g=1,v[0]=1,w[0]=0,h=d,u.setCoordinates(b.COORDS_BY_USER,[this.X(h,t),this.Y(h,t)],!1),t=!0,m=u.scrCoords[1],n=u.scrCoords[2],i=h,h=f,u.setCoordinates(b.COORDS_BY_USER,[this.X(h,t),this.Y(h,t)],!1),k=u.scrCoords[1],l=u.scrCoords[2],x[0]=[k,l],o=1,p=0,this.points=[],this.points[A++]=new c(b.COORDS_BY_SCREEN,[m,n],this.board,!1);do{for(z=this.isDistOK(k-m,l-n,r,s)||this.isSegmentOutside(m,n,k,l);q>p&&(!z||6>p)&&(7>=p||this.isSegmentDefined(m,n,k,l));)v[o]=g,w[o]=p,x[o]=[k,l],o+=1,g=2*g-1,p++,h=d+g*y[p],u.setCoordinates(b.COORDS_BY_USER,[this.X(h,t),this.Y(h,t)],!1,!0),k=u.scrCoords[1],l=u.scrCoords[2],z=this.isDistOK(k-m,l-n,r,s)||this.isSegmentOutside(m,n,k,l);A>1&&(j=B(this.points[A-2].scrCoords,[k,l],this.points[A-1].scrCoords),.015>j&&(A-=1)),this.points[A]=new c(b.COORDS_BY_SCREEN,[k,l],this.board,!1),A+=1,m=k,n=l,i=h,o-=1,k=x[o][0],l=x[o][1],p=w[o]+1,g=2*v[o]}while(o>0&&5e5>A);return this.numberPoints=this.points.length,this},isSegmentOutside:function(a,b,c,d){return 0>b&&0>d||b>this.board.canvasHeight&&d>this.board.canvasHeight||0>a&&0>c||a>this.board.canvasWidth&&c>this.board.canvasWidth},isDistOK:function(a,b,c,d){return Math.abs(a)<c&&Math.abs(b)<d&&!isNaN(a+b)},isSegmentDefined:function(a,b,c,d){return!(isNaN(a+b)&&isNaN(c+d))},_insertPoint:function(a){var b=!isNaN(this._lastCrds[1]+this._lastCrds[2]),c=!isNaN(a.scrCoords[1]+a.scrCoords[2]),d=this.board.canvasWidth,e=this.board.canvasHeight,f=20;c=c&&a.scrCoords[1]>-f&&a.scrCoords[2]>-f&&a.scrCoords[1]<d+f&&a.scrCoords[2]<e+f,(!c&&b||c&&(!b||Math.abs(a.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(a.scrCoords[2]-this._lastCrds[2])>.7))&&(this.points.push(a),this._lastCrds=a.copy("scrCoords"))},_borderCase:function(a,d,e,f,g,h,i){var j,k,l,m,n,o=null,p=5,q=70,r=!1;if(i<this.smoothLevel){if(k=new c(b.COORDS_BY_USER,[0,0],this.board,!1),isNaN(a[1]+a[2])&&!isNaN(e[1]+e[2]+d[1]+d[2]))for(m=0;q>m;++m){n=0;do j=.5*(f+h),k.setCoordinates(b.COORDS_BY_USER,[this.X(j,!0),this.Y(j,!0)],!1),l=k.scrCoords,r=isNaN(l[1]+l[2]),r&&(f=j),++n;while(r&&p>n);if(!(p>n))break;h=j,o=l.slice()}else if(isNaN(d[1]+d[2])&&!isNaN(e[1]+e[2]+a[1]+a[2]))for(m=0;q>m;++m){n=0;do j=.5*(h+g),k.setCoordinates(b.COORDS_BY_USER,[this.X(j,!0),this.Y(j,!0)],!1),
l=k.scrCoords,r=isNaN(l[1]+l[2]),r&&(g=j),++n;while(r&&p>n);if(!(p>n))break;h=j,o=l.slice()}if(null!==o)return this._insertPoint(new c(b.COORDS_BY_SCREEN,o.slice(1),this.board,!1)),!0}return!1},_triangleDists:function(a,b,c){var d,e,f,g,i;return d=[a[0]*b[0],.5*(a[1]+b[1]),.5*(a[2]+b[2])],e=h.distance(a,b,3),f=h.distance(a,c,3),g=h.distance(c,b,3),i=h.distance(c,d,3),[e,f,g,i]},_isUndefined:function(a,d,e,f){var g,h,i;if(!isNaN(a[1]+a[2])||!isNaN(e[1]+e[2]))return!1;for(i=new c(b.COORDS_BY_USER,[0,0],this.board,!1),h=0;20>h;++h)if(g=d+Math.random()*(f-d),i.setCoordinates(b.COORDS_BY_USER,[this.X(g,!0),this.Y(g,!0)],!1),!isNaN(i.scrCoords[0]+i.scrCoords[1]+i.scrCoords[2]))return!1;return!0},_isOutside:function(a,b,c,d){var e=10,f=this.board.canvasWidth,g=this.board.canvasHeight;return!!(a[1]<-e&&c[1]<-e||a[2]<-e&&c[2]<-e||a[1]>f+e&&c[1]>f+e||a[2]>g+e&&c[2]>g+e)},_plotRecursive:function(a,d,e,f,g,h){var i,j,k,l,m,n,o=0,p=.5,q=new c(b.COORDS_BY_USER,[0,0],this.board,!1);if(!(this.numberPoints>65536))return g<this.nanLevel&&this._isUndefined(a,d,e,f)?this:g<this.nanLevel&&this._isOutside(a,d,e,f)?this:(i=.5*(d+f),q.setCoordinates(b.COORDS_BY_USER,[this.X(i,!0),this.Y(i,!0)],!1),j=q.scrCoords,this._borderCase(a,e,j,d,f,i,g)?this:(k=this._triangleDists(a,e,j),l=g<this.smoothLevel&&k[3]<h,m=g<this.jumpLevel&&(k[2]>.99*k[0]||k[1]>.99*k[0]||k[0]===1/0||k[1]===1/0||k[2]===1/0),n=g<this.smoothLevel+2&&k[0]<p*(k[1]+k[2]),n&&(o=0,l=!1),--g,m?this._insertPoint(new c(b.COORDS_BY_SCREEN,[NaN,NaN],this.board,!1)):o>=g||l?this._insertPoint(q):(this._plotRecursive(a,d,j,i,g,h),this._insertPoint(q),this._plotRecursive(j,i,e,f,g,h)),this))},updateParametricCurve:function(a,d){var e,f,g,h,i,j,k=!1,l=new c(b.COORDS_BY_USER,[0,0],this.board,!1),m=new c(b.COORDS_BY_USER,[0,0],this.board,!1);return this.board.updateQuality===this.board.BOARD_QUALITY_LOW?(i=12,j=3,j=2,this.smoothLevel=i-5,this.jumpLevel=5):(i=17,j=.9,j=2,this.smoothLevel=i-7,this.jumpLevel=3),this.nanLevel=i-4,this.points=[],this._lastCrds=[0,NaN,NaN],e=a,l.setCoordinates(b.COORDS_BY_USER,[this.X(e,k),this.Y(e,k)],!1),g=l.copy("scrCoords"),k=!0,f=d,m.setCoordinates(b.COORDS_BY_USER,[this.X(f,k),this.Y(f,k)],!1),h=m.copy("scrCoords"),this.points.push(l),this._plotRecursive(g,e,h,f,i,j),this.points.push(m),this.numberPoints=this.points.length,this},updateTransform:function(a){var c,d=this.transformations.length;return d>0&&(c=e.matVecMult(this.transformMat,a.usrCoords),a.setCoordinates(b.COORDS_BY_USER,[c[1],c[2]],!1,!0)),a},addTransform:function(a){var b,c=j.isArray(a)?a:[a],d=c.length;for(b=0;d>b;b++)this.transformations.push(c[b]);return this},interpolationFunctionFromArray:function(a){var b="data"+a;return function(a,c){var d,e,f,g,h=this[b],i=h.length,k=[];if(isNaN(a))return NaN;if(0>a)return j.isFunction(h[0])?h[0]():h[0];if(3===this.bezierDegree){if(i/=3,a>=i)return j.isFunction(h[h.length-1])?h[h.length-1]():h[h.length-1];for(d=3*Math.floor(a),f=a%1,g=1-f,e=0;4>e;e++)j.isFunction(h[d+e])?k[e]=h[d+e]():k[e]=h[d+e];return g*g*(g*k[0]+3*f*k[1])+(3*g*k[2]+f*k[3])*f*f}if(d=a>i-2?i-2:parseInt(Math.floor(a),10),d===a)return j.isFunction(h[d])?h[d]():h[d];for(e=0;2>e;e++)j.isFunction(h[d+e])?k[e]=h[d+e]():k[e]=h[d+e];return k[0]+(k[1]-k[0])*(a-d)}},generateTerm:function(a,b,c,d,e){var f,g;j.isArray(b)?(this.dataX=b,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray("X"),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=j.createFunction(b,this.board,a),j.isString(b)?this.visProp.curvetype="functiongraph":(j.isFunction(b)||j.isNumber(b))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),j.isArray(c)?(this.dataY=c,this.Y=this.interpolationFunctionFromArray("Y")):this.Y=j.createFunction(c,this.board,a),j.isFunction(b)&&j.isArray(c)&&(f=j.createFunction(c[0],this.board,""),g=j.createFunction(c[1],this.board,""),this.X=function(a){return b(a)*Math.cos(a)+f()},this.Y=function(a){return b(a)*Math.sin(a)+g()},this.visProp.curvetype="polar"),j.exists(d)&&(this.minX=j.createFunction(d,this.board,"")),j.exists(e)&&(this.maxX=j.createFunction(e,this.board,""))},notifyParents:function(a){var b,c,d=!1;for(b in{xterm:1,yterm:1})if(this.hasOwnProperty(b)&&this[b].origin){d=!0;for(c in this[b].origin.deps)this[b].origin.deps.hasOwnProperty(c)&&this[b].origin.deps[c].addChild(this)}d||i.findDependencies(this,a,this.board)},getLabelAnchor:function(){var a,d,e,f=.05*this.board.canvasWidth,g=.05*this.board.canvasHeight,i=.95*this.board.canvasWidth,j=.95*this.board.canvasHeight;switch(this.visProp.label.position){case"ulft":d=f,e=g;break;case"llft":d=f,e=j;break;case"rt":d=i,e=.5*j;break;case"lrt":d=i,e=j;break;case"urt":d=i,e=g;break;case"top":d=.5*i,e=g;break;case"bot":d=.5*i,e=j;break;default:d=f,e=.5*j}return a=new c(b.COORDS_BY_SCREEN,[d,e],this.board,!1),h.projectCoordsToCurve(a.usrCoords[1],a.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var a,c={id:this.id+"T"+this.numTraces,elementClass:b.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:j.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return c.visProp.layer=this.board.options.layer.trace,c.visProp.curvetype=this.visProp.curvetype,this.numTraces++,j.clearVisPropOld(c),a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(c),this.board.renderer.enhancedRendering=a,this.traces[c.id]=c.rendNode,this},bounds:function(){var a,b=1/0,c=-(1/0),d=1/0,e=-(1/0),f=this.points.length;if(3===this.bezierDegree){for(a=0;f>a;a++)this.points[a].X=j.bind(function(){return this.usrCoords[1]},this.points[a]),this.points[a].Y=j.bind(function(){return this.usrCoords[2]},this.points[a]);var h=g.bezier(this.points),i=h[3]();return b=g.fminbr(function(a){return h[0](a)},[0,i]),c=g.fminbr(function(a){return-h[0](a)},[0,i]),d=g.fminbr(function(a){return h[1](a)},[0,i]),e=g.fminbr(function(a){return-h[1](a)},[0,i]),b=h[0](b),c=h[0](c),d=h[1](d),e=h[1](e),[b,e,c,d]}for(a=0;f>a;a++)b>this.points[a].usrCoords[1]&&(b=this.points[a].usrCoords[1]),c<this.points[a].usrCoords[1]&&(c=this.points[a].usrCoords[1]),d>this.points[a].usrCoords[2]&&(d=this.points[a].usrCoords[2]),e<this.points[a].usrCoords[2]&&(e=this.points[a].usrCoords[2]);return[b,e,c,d]}}),a.createCurve=function(b,c,d){var e=j.copyAttributes(d,b.options,"curve");return new a.Curve(b,["x"].concat(c),e)},a.registerElement("curve",a.createCurve),a.createFunctiongraph=function(b,c,d){var e,f=["x","x"].concat(c);return e=j.copyAttributes(d,b.options,"curve"),e.curvetype="functiongraph",new a.Curve(b,f,e)},a.registerElement("functiongraph",a.createFunctiongraph),a.registerElement("plot",a.createFunctiongraph),a.createSpline=function(a,b,c){var d;return d=function(){var a,c=[],d=[];return function(e,f){var h,i,k;if(!f){if(c=[],d=[],2===b.length&&j.isArray(b[0])&&j.isArray(b[1])&&b[0].length===b[1].length)for(h=0;h<b[0].length;h++)"function"==typeof b[0][h]?c.push(b[0][h]()):c.push(b[0][h]),"function"==typeof b[1][h]?d.push(b[1][h]()):d.push(b[1][h]);else for(h=0;h<b.length;h++)if(j.isPoint(b[h]))c.push(b[h].X()),d.push(b[h].Y());else if(j.isArray(b[h])&&2===b[h].length)for(i=0;i<b.length;i++)"function"==typeof b[i][0]?c.push(b[i][0]()):c.push(b[i][0]),"function"==typeof b[i][1]?d.push(b[i][1]()):d.push(b[i][1]);else j.isFunction(b[h])&&2===b[h]().length&&(k=b[h](),c.push(k[0]),d.push(k[1]));a=g.splineDef(c,d)}return g.splineEval(e,c,d,a)}},a.create("curve",["x",d()],c)},a.registerElement("spline",a.createSpline),a.createRiemannsum=function(a,b,c){var d,e,f,h,i,k;if(k=j.copyAttributes(c,a.options,"riemannsum"),k.curvetype="plot",f=b[0],d=j.createFunction(b[1],a,""),!j.exists(d))throw new Error("JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");if(e=j.createFunction(b[2],a,"",!1),!j.exists(e))throw new Error("JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");return h=[[0],[0]].concat(b.slice(3)),i=a.create("curve",h,k),i.sum=0,i.Value=function(){return this.sum},i.updateDataArray=function(){var a=g.riemann(f,d(),e(),this.minX(),this.maxX());this.dataX=a[0],this.dataY=a[1],this.sum=a[2]},i},a.registerElement("riemannsum",a.createRiemannsum),a.createTracecurve=function(a,c,d){var e,f,g,h;if(2!==c.length)throw new Error("JSXGraph: Can't create trace curve with given parent'\nPossible parent types: [glider, point]");if(f=a.select(c[0]),g=a.select(c[1]),f.type!==b.OBJECT_TYPE_GLIDER||!j.isPoint(g))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [glider, point]");return h=j.copyAttributes(d,a.options,"tracecurve"),h.curvetype="plot",e=a.create("curve",[[0],[0]],h),e.updateDataArray=function(){var a,c,d,e,i,j,k,l,m,n=h.numberpoints,o=f.position,p=f.slideObject,q=p.minX(),r=p.maxX();for(c=(r-q)/n,this.dataX=[],this.dataY=[],p.elementClass!==b.OBJECT_CLASS_CURVE&&n++,a=0;n>a;a++){d=q+a*c,j=p.X(d)/p.Z(d),k=p.Y(d)/p.Z(d),f.setPositionDirectly(b.COORDS_BY_USER,[j,k]),l=!1;for(e in this.board.objects)if(this.board.objects.hasOwnProperty(e)&&(i=this.board.objects[e],i===f&&(l=!0),l&&i.needsRegularUpdate&&(m=i.visProp.trace,i.visProp.trace=!1,i.needsUpdate=!0,i.update(!0),i.visProp.trace=m,i===g)))break;this.dataX[a]=g.X(),this.dataY[a]=g.Y()}f.position=o,l=!1;for(e in this.board.objects)if(this.board.objects.hasOwnProperty(e)&&(i=this.board.objects[e],i===f&&(l=!0),l&&i.needsRegularUpdate&&(m=i.visProp.trace,i.visProp.trace=!1,i.needsUpdate=!0,i.update(!0),i.visProp.trace=m,i===g)))break},e},a.registerElement("tracecurve",a.createTracecurve),a.createStepfunction=function(a,b,c){var d,e;if(2!==b.length)throw new Error("JSXGraph: Can't create step function with given parent'\nPossible parent types: [array, array|function]");return e=j.copyAttributes(c,a.options,"stepfunction"),d=a.create("curve",b,e),d.updateDataArray=function(){var a,b=0,c=this.xterm.length;if(this.dataX=[],this.dataY=[],0!==c)for(this.dataX[b]=this.xterm[0],this.dataY[b]=this.yterm[0],++b,a=1;c>a;++a)this.dataX[b]=this.xterm[a],this.dataY[b]=this.dataY[b-1],++b,this.dataX[b]=this.xterm[a],this.dataY[b]=this.yterm[a],++b},d},a.registerElement("stepfunction",a.createStepfunction),{Curve:a.Curve,createCurve:a.createCurve,createFunctiongraph:a.createFunctiongraph,createPlot:a.createPlot,createSpline:a.createSpline,createRiemannsum:a.createRiemannsum,createTracecurve:a.createTracecurve,createStepfunction:a.createStepfunction}}),define("element/composition",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/coords","utils/type","base/constants","base/point","base/line","base/circle","base/transformation","base/composition","base/curve","base/text"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";return a.createOrthogonalProjection=function(a,b,d){var e,f,i,j;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),g.isPointType(a,b[0])&&b[1].elementClass===h.OBJECT_CLASS_LINE)f=g.providePoints(a,[b[0]],d,"point")[0],e=b[1];else{if(!g.isPointType(a,b[1])||b[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line]");f=g.providePoints(a,[b[1]],d,"point")[0],e=b[0]}return j=g.copyAttributes(d,a.options,"orthogonalprojection"),i=a.create("point",[function(){return c.projectPointToLine(f,e,a)}],j),f.addChild(i),e.addChild(i),i.elType="orthogonalprojection",i.setParents([f.id,i.id]),i.update(),i.generatePolynomial=function(){var a=e.point1.symbolic.x,b=e.point1.symbolic.y,c=e.point2.symbolic.x,d=e.point2.symbolic.y,g=f.symbolic.x,h=f.symbolic.y,j=i.symbolic.x,k=i.symbolic.y,l="("+b+")*("+j+")-("+b+")*("+c+")+("+k+")*("+c+")-("+a+")*("+k+")+("+a+")*("+d+")-("+j+")*("+d+")",m="("+h+")*("+b+")-("+h+")*("+d+")-("+k+")*("+b+")+("+k+")*("+d+")+("+g+")*("+a+")-("+g+")*("+c+")-("+j+")*("+a+")+("+j+")*("+c+")";return[l,m]},i},a.createPerpendicular=function(a,b,c){var d,e,f,i;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),g.isPointType(a,b[0])&&b[1].elementClass===h.OBJECT_CLASS_LINE)e=b[1],d=g.providePoints(a,[b[0]],c,"point")[0];else{if(!g.isPointType(a,b[1])||b[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,point]");e=b[0],d=g.providePoints(a,[b[1]],c,"point")[0]}return i=g.copyAttributes(c,a.options,"perpendicular"),f=j.createLine(a,[function(){return e.stdform[2]*d.X()-e.stdform[1]*d.Y()},function(){return-e.stdform[2]*d.Z()},function(){return e.stdform[1]*d.Z()}],i),f.elType="perpendicular",f.setParents([e.id,d.id]),f},a.createPerpendicularPoint=function(a,b,d){var e,f,i;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),g.isPointType(a,b[0])&&b[1].elementClass===h.OBJECT_CLASS_LINE)f=g.providePoints(a,[b[0]],d,"point")[0],e=b[1];else{if(!g.isPointType(a,b[1])||b[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line]");f=g.providePoints(a,[b[1]],d,"point")[0],e=b[0]}return i=a.create("point",[function(){return c.perpendicular(e,f,a)[0]}],d),f.addChild(i),e.addChild(i),i.elType="perpendicularpoint",i.setParents([f.id,e.id]),i.update(),i.generatePolynomial=function(){var a=e.point1.symbolic.x,b=e.point1.symbolic.y,c=e.point2.symbolic.x,d=e.point2.symbolic.y,g=f.symbolic.x,h=f.symbolic.y,j=i.symbolic.x,k=i.symbolic.y,l="("+b+")*("+j+")-("+b+")*("+c+")+("+k+")*("+c+")-("+a+")*("+k+")+("+a+")*("+d+")-("+j+")*("+d+")",m="("+h+")*("+b+")-("+h+")*("+d+")-("+k+")*("+b+")+("+k+")*("+d+")+("+g+")*("+a+")-("+g+")*("+c+")-("+j+")*("+a+")+("+j+")*("+c+")";return[l,m]},i},a.createPerpendicularSegment=function(b,d,e){var f,i,k,l,m;if(d[0]=b.select(d[0]),d[1]=b.select(d[1]),g.isPointType(b,d[0])&&d[1].elementClass===h.OBJECT_CLASS_LINE)i=d[1],f=g.providePoints(b,[d[0]],e,"point")[0];else{if(!g.isPointType(b,d[1])||d[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof d[0]+"' and '"+typeof d[1]+"'.\nPossible parent types: [line,point]");i=d[0],f=g.providePoints(b,[d[1]],e,"point")[0]}return m=g.copyAttributes(e,b.options,"perpendicularsegment","point"),l=a.createPerpendicularPoint(b,[i,f],m),l.dump=!1,g.exists(e.layer)||(e.layer=b.options.layer.line),m=g.copyAttributes(e,b.options,"perpendicularsegment"),k=j.createLine(b,[function(){return c.perpendicular(i,f,b)[1]?[l,f]:[f,l]}],m),k.point=l,k.elType="perpendicularsegment",k.setParents([f.id,i.id]),k.subs={point:l},k},a.createMidpoint=function(a,c,d){var e,f,i,j;for(j=0;j<c.length;++j)c[j]=a.select(c[j]);if(2===c.length&&g.isPointType(a,c[0])&&g.isPointType(a,c[1]))c=g.providePoints(a,c,d,"point"),e=c[0],f=c[1];else{if(1!==c.length||c[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create midpoint.\nPossible parent types: [point,point], [line]");e=c[0].point1,f=c[0].point2}return i=a.create("point",[function(){var a=e.coords.usrCoords[1]+f.coords.usrCoords[1];return isNaN(a)||Math.abs(e.coords.usrCoords[0])<b.eps||Math.abs(f.coords.usrCoords[0])<b.eps?NaN:.5*a},function(){var a=e.coords.usrCoords[2]+f.coords.usrCoords[2];return isNaN(a)||Math.abs(e.coords.usrCoords[0])<b.eps||Math.abs(f.coords.usrCoords[0])<b.eps?NaN:.5*a}],d),e.addChild(i),f.addChild(i),i.elType="midpoint",i.setParents([e.id,f.id]),i.prepareUpdate().update(),i.generatePolynomial=function(){var a=e.symbolic.x,b=e.symbolic.y,c=f.symbolic.x,d=f.symbolic.y,g=i.symbolic.x,h=i.symbolic.y,j="("+b+")*("+g+")-("+b+")*("+c+")+("+h+")*("+c+")-("+a+")*("+h+")+("+a+")*("+d+")-("+g+")*("+d+")",k="("+a+")^2 - 2*("+a+")*("+g+")+("+b+")^2-2*("+b+")*("+h+")-("+c+")^2+2*("+c+")*("+g+")-("+d+")^2+2*("+d+")*("+h+")";return[j,k]},i},a.createParallelPoint=function(a,b,c){var d,e,f,i,j;for(j=0;j<b.length;++j)b[j]=a.select(b[j]);if(3===b.length&&g.isPointType(a,b[0])&&g.isPointType(a,b[1])&&g.isPointType(a,b[2]))b=g.providePoints(a,b,c,"point"),d=b[0],e=b[1],f=b[2];else if(g.isPointType(a,b[0])&&b[1].elementClass===h.OBJECT_CLASS_LINE)f=g.providePoints(a,[b[0]],c,"point")[0],d=b[1].point1,e=b[1].point2;else{if(!g.isPointType(a,b[1])||b[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [line,point], [point,point,point]");f=g.providePoints(a,[b[1]],c,"point")[0],d=b[0].point1,e=b[0].point2}return i=a.create("point",[function(){return f.coords.usrCoords[1]+e.coords.usrCoords[1]-d.coords.usrCoords[1]},function(){return f.coords.usrCoords[2]+e.coords.usrCoords[2]-d.coords.usrCoords[2]}],c),d.addChild(i),e.addChild(i),f.addChild(i),i.elType="parallelpoint",i.setParents([d.id,e.id,f.id]),i.prepareUpdate().update(),i.generatePolynomial=function(){var a=d.symbolic.x,b=d.symbolic.y,c=e.symbolic.x,g=e.symbolic.y,h=f.symbolic.x,j=f.symbolic.y,k=i.symbolic.x,l=i.symbolic.y,m="("+g+")*("+k+")-("+g+")*("+h+")-("+b+")*("+k+")+("+b+")*("+h+")-("+l+")*("+c+")+("+l+")*("+a+")+("+j+")*("+c+")-("+j+")*("+a+")",n="("+l+")*("+a+")-("+l+")*("+h+")-("+g+")*("+a+")+("+g+")*("+h+")-("+k+")*("+b+")+("+k+")*("+j+")+("+c+")*("+b+")-("+c+")*("+j+")";return[m,n]},i},a.createParallel=function(a,c,d){var e,f,h,i,j,k;for(j=0;j<c.length;++j)c[j]=a.select(c[j]);return e=null,3===c.length?(c=g.providePoints(a,c,d,"point"),e=c[2],i=function(){return b.crossProduct(c[0].coords.usrCoords,c[1].coords.usrCoords)}):g.isPointType(a,c[0])?(e=g.providePoints(a,[c[0]],d,"point")[0],i=function(){return c[1].stdform}):g.isPointType(a,c[1])&&(e=g.providePoints(a,[c[1]],d,"point")[0],i=function(){return c[0].stdform}),g.exists(d.layer)||(d.layer=a.options.layer.line),k=g.copyAttributes(d,a.options,"parallel","point"),f=a.create("point",[function(){return b.crossProduct([1,0,0],i())}],k),f.isDraggable=!0,k=g.copyAttributes(d,a.options,"parallel"),h=a.create("line",[e,f],k),h.elType="parallel",h.setParents([c[0].id,c[1].id]),3===c.length&&h.addParents(c[2].id),h.point=f,h},a.createArrowParallel=function(b,c,d){var e;try{return d.firstArrow=!1,d.lastArrow=!0,e=a.createParallel(b,c,d).setAttribute({straightFirst:!1,straightLast:!1}),e.elType="arrowparallel",e}catch(f){throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [line,point], [point,point,point]")}},a.createNormal=function(a,c,e){var f,i,j,k,l,m,n,o,p;for(k=0;k<c.length;++k)c[k]=a.select(c[k]);if(1===c.length)f=c[0],i=f.slideObject;else{if(2!==c.length)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");if(g.isPointType(a,c[0]))f=g.providePoints(a,[c[0]],e,"point")[0],i=c[1];else{if(!g.isPointType(a,c[1]))throw new Error("JSXGraph: Can't create normal with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");i=c[0],f=g.providePoints(a,[c[1]],e,"point")[0]}}if(n=g.copyAttributes(e,a.options,"normal"),i.elementClass===h.OBJECT_CLASS_LINE)p=g.copyAttributes(e,a.options,"normal","point"),o=a.create("point",[function(){var a=b.crossProduct([1,0,0],i.stdform);return[a[0],-a[2],a[1]]}],p),o.isDraggable=!0,j=a.create("line",[f,o],n),j.point=o;else if(i.elementClass===h.OBJECT_CLASS_CIRCLE)j=a.create("line",[i.midpoint,f],n);else if(i.elementClass===h.OBJECT_CLASS_CURVE)"plot"!==i.visProp.curvetype?(l=i.X,m=i.Y,j=a.create("line",[function(){return-f.X()*d.D(l)(f.position)-f.Y()*d.D(m)(f.position)},function(){return d.D(l)(f.position)},function(){return d.D(m)(f.position)}],n)):j=a.create("line",[function(){var a=Math.floor(f.position),b=f.position-a;return a===i.numberPoints-1&&(a-=1,b=1),0>a?1:(i.Y(a)+b*(i.Y(a+1)-i.Y(a)))*(i.Y(a)-i.Y(a+1))-(i.X(a)+b*(i.X(a+1)-i.X(a)))*(i.X(a+1)-i.X(a))},function(){var a=Math.floor(f.position);return a===i.numberPoints-1&&(a-=1),0>a?0:i.X(a+1)-i.X(a)},function(){var a=Math.floor(f.position);return a===i.numberPoints-1&&(a-=1),0>a?0:i.Y(a+1)-i.Y(a)}],n);else{if(i.type!==h.OBJECT_TYPE_TURTLE)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");j=a.create("line",[function(){var a,b,c=Math.floor(f.position),d=f.position-c;for(b=0;b<i.objects.length;b++)if(a=i.objects[b],a.type===h.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return c===a.numberPoints-1&&(c-=1,d=1),0>c?1:(a.Y(c)+d*(a.Y(c+1)-a.Y(c)))*(a.Y(c)-a.Y(c+1))-(a.X(c)+d*(a.X(c+1)-a.X(c)))*(a.X(c+1)-a.X(c))},function(){var a,b,c=Math.floor(f.position);for(b=0;b<i.objects.length;b++)if(a=i.objects[b],a.type===h.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return c===a.numberPoints-1&&(c-=1),0>c?0:a.X(c+1)-a.X(c)},function(){var a,b,c=Math.floor(f.position);for(b=0;b<i.objects.length;b++)if(a=i.objects[b],a.type===h.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return c===a.numberPoints-1&&(c-=1),0>c?0:a.Y(c+1)-a.Y(c)}],n)}return j.elType="normal",j.setParents(c),j},a.createBisector=function(a,b,d){var e,f,h,i;if(b=g.providePoints(a,b,d,"point"),g.isPoint(b[0])&&g.isPoint(b[1])&&g.isPoint(b[2])){for(i=g.copyAttributes(d,a.options,"bisector","point"),i.snapToGrid=!1,e=a.create("point",[function(){return c.angleBisector(b[0],b[1],b[2],a)}],i),e.dump=!1,h=0;3>h;h++)b[h].addChild(e);return g.exists(d.layer)||(d.layer=a.options.layer.line),i=g.copyAttributes(d,a.options,"bisector"),f=j.createLine(a,[b[1],e],i),f.point=e,f.elType="bisector",f.setParents(b),f.subs={point:e},f}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point,point]")},a.createAngularBisectorsOfTwoLines=function(a,b,c){var d,e,f,i,j=a.select(b[0]),k=a.select(b[1]);if(j.elementClass!==h.OBJECT_CLASS_LINE||k.elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,line]");return g.exists(c.layer)||(c.layer=a.options.layer.line),f=g.copyAttributes(c,a.options,"bisectorlines","line1"),d=a.create("line",[function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[0]/a-k.stdform[0]/b},function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[1]/a-k.stdform[1]/b},function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[2]/a-k.stdform[2]/b}],f),g.exists(c.layer)||(c.layer=a.options.layer.line),f=g.copyAttributes(c,a.options,"bisectorlines","line2"),e=a.create("line",[function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[0]/a+k.stdform[0]/b},function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[1]/a+k.stdform[1]/b},function(){var a=Math.sqrt(j.stdform[1]*j.stdform[1]+j.stdform[2]*j.stdform[2]),b=Math.sqrt(k.stdform[1]*k.stdform[1]+k.stdform[2]*k.stdform[2]);return j.stdform[2]/a+k.stdform[2]/b}],f),i=new m({line1:d,line2:e}),d.dump=!1,e.dump=!1,i.elType="bisectorlines",i.setParents([j.id,k.id]),i.subs={line1:d,line2:e},i},a.createCircumcenter=function(a,b,d){var e,f,h,j,k;if(b=g.providePoints(a,b,d,"point"),g.isPoint(b[0])&&g.isPoint(b[1])&&g.isPoint(b[2])){for(h=b[0],j=b[1],k=b[2],e=i.createPoint(a,[function(){return c.circumcenter(h,j,k,a)}],d),f=0;3>f;f++)b[f].addChild(e);return e.elType="circumcenter",e.setParents(b),e.generatePolynomial=function(){var a=h.symbolic.x,b=h.symbolic.y,c=j.symbolic.x,d=j.symbolic.y,f=k.symbolic.x,g=k.symbolic.y,i=e.symbolic.x,l=e.symbolic.y,m=["((",i,")-(",a,"))^2+((",l,")-(",b,"))^2-((",i,")-(",c,"))^2-((",l,")-(",d,"))^2"].join(""),n=["((",i,")-(",a,"))^2+((",l,")-(",b,"))^2-((",i,")-(",f,"))^2-((",l,")-(",g,"))^2"].join("");return[m,n]},e}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]")},a.createIncenter=function(a,b,c){var d,e,i,j;if(b=g.providePoints(a,b,c,"point"),!(b.length>=3&&g.isPoint(b[0])&&g.isPoint(b[1])&&g.isPoint(b[2])))throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");return e=b[0],i=b[1],j=b[2],d=a.create("point",[function(){var b,c,d;return b=Math.sqrt((i.X()-j.X())*(i.X()-j.X())+(i.Y()-j.Y())*(i.Y()-j.Y())),c=Math.sqrt((e.X()-j.X())*(e.X()-j.X())+(e.Y()-j.Y())*(e.Y()-j.Y())),d=Math.sqrt((i.X()-e.X())*(i.X()-e.X())+(i.Y()-e.Y())*(i.Y()-e.Y())),new f(h.COORDS_BY_USER,[(b*e.X()+c*i.X()+d*j.X())/(b+c+d),(b*e.Y()+c*i.Y()+d*j.Y())/(b+c+d)],a)}],c),d.elType="incenter",d.setParents(b),d},a.createCircumcircle=function(b,c,d){var e,f,h;if(c=g.providePoints(b,c,d,"point"),c===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof c[0]+"', '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point,point]");try{h=g.copyAttributes(d,b.options,"circumcircle","center"),e=a.createCircumcenter(b,c,h),e.dump=!1,g.exists(d.layer)||(d.layer=b.options.layer.circle),h=g.copyAttributes(d,b.options,"circumcircle"),f=k.createCircle(b,[e,c[0]],h),f.elType="circumcircle",f.setParents(c),f.subs={center:e}}catch(i){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof c[0]+"', '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point,point]")}return f},a.createIncircle=function(b,c,d){var e,f,h;if(c=g.providePoints(b,c,d,"point"),c===!1)throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof c[0]+"', '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point,point]");try{h=g.copyAttributes(d,b.options,"incircle","center"),e=a.createIncenter(b,c,h),e.dump=!1,g.exists(d.layer)||(d.layer=b.options.layer.circle),h=g.copyAttributes(d,b.options,"incircle"),f=k.createCircle(b,[e,function(){var a=Math.sqrt((c[1].X()-c[2].X())*(c[1].X()-c[2].X())+(c[1].Y()-c[2].Y())*(c[1].Y()-c[2].Y())),b=Math.sqrt((c[0].X()-c[2].X())*(c[0].X()-c[2].X())+(c[0].Y()-c[2].Y())*(c[0].Y()-c[2].Y())),d=Math.sqrt((c[1].X()-c[0].X())*(c[1].X()-c[0].X())+(c[1].Y()-c[0].Y())*(c[1].Y()-c[0].Y())),e=(a+b+d)/2;return Math.sqrt((e-a)*(e-b)*(e-d)/e)}],h),f.elType="incircle",f.setParents(c),f.center=e,f.subs={center:e}}catch(i){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof c[0]+"', '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point,point]")}return f},a.createReflection=function(a,b,c){var d,e,f,j,k;for(k=0;k<b.length;++k)b[k]=a.select(b[k]);if(g.isPoint(b[0])&&b[1].elementClass===h.OBJECT_CLASS_LINE)e=g.providePoints(a,[b[0]],c,"point")[0],d=b[1];else{if(!g.isPoint(b[1])||b[0].elementClass!==h.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create reflection point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,point]");e=g.providePoints(a,[b[1]],c,"point")[0],d=b[0]}return j=l.createTransform(a,[d],{type:"reflect"}),f=i.createPoint(a,[e,j],c),e.addChild(f),d.addChild(f),f.elType="reflection",f.setParents(b),f.prepareUpdate().update(),f.generatePolynomial=function(){var a=d.point1.symbolic.x,b=d.point1.symbolic.y,c=d.point2.symbolic.x,g=d.point2.symbolic.y,h=e.symbolic.x,i=e.symbolic.y,j=f.symbolic.x,k=f.symbolic.y,l=["((",k,")-(",i,"))*((",b,")-(",g,"))+((",a,")-(",c,"))*((",j,")-(",h,"))"].join(""),m=["((",j,")-(",a,"))^2+((",k,")-(",b,"))^2-((",h,")-(",a,"))^2-((",i,")-(",b,"))^2"].join("");return[l,m]},f},a.createMirrorPoint=function(a,b,d){var e,f;if(b=g.providePoints(a,b,d,"point"),!g.isPoint(b[0])||!g.isPoint(b[1]))throw new Error("JSXGraph: Can't create mirror point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point]");for(e=i.createPoint(a,[function(){return c.rotation(b[0],b[1],Math.PI,a)}],d),f=0;2>f;f++)b[f].addChild(e);return e.elType="mirrorpoint",e.setParents(b),e.prepareUpdate().update(),e},a.createIntegral=function(b,c,e){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=null;if(g.isArray(c[0])&&c[1].elementClass===h.OBJECT_CLASS_CURVE)i=c[0],j=c[1];else{if(!g.isArray(c[1])||c[0].elementClass!==h.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create integral with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [[number|function,number|function],curve]");i=c[1],j=c[0]}return k=g.copyAttributes(e,b.options,"integral"),k.withLabel=!1,v=b.create("curve",[[0],[0]],k),l=i[0],m=i[1],g.isFunction(l)?(n=l,o=function(){return j.Y(n())},l=n()):(n=l,o=j.Y(l)),g.isFunction(m)?(p=m,q=function(){return j.Y(p())},m=p()):(p=m,q=j.Y(m)),k=g.copyAttributes(e,b.options,"integral","curveLeft"),r=b.create("glider",[n,o,j],k),g.isFunction(n)&&r.hideElement(),k=g.copyAttributes(e,b.options,"integral","baseLeft"),s=b.create("point",[function(){return"y"===v.visProp.axis?0:r.X()},function(){return"y"===v.visProp.axis?r.Y():0}],k),k=g.copyAttributes(e,b.options,"integral","curveRight"),t=b.create("glider",[p,q,j],k),g.isFunction(p)&&t.hideElement(),k=g.copyAttributes(e,b.options,"integral","baseRight"),u=b.create("point",[function(){return"y"===v.visProp.axis?0:t.X()},function(){return"y"===v.visProp.axis?t.Y():0}],k),k=g.copyAttributes(e,b.options,"integral"),k.withlabel!==!1&&"y"!==k.axis&&(k=g.copyAttributes(e,b.options,"integral","label"),k=g.copyAttributes(k,b.options,"label"),w=b.create("text",[function(){var a=new f(h.COORDS_BY_SCREEN,[this.visProp.offset[0]+this.board.origin.scrCoords[1],0],this.board,!1),b=this.board.getBoundingBox(),c=.1*(b[2]-b[0]),d=t.X();return d<b[0]?d=b[0]+c:d>b[2]&&(d=b[2]-c),d+a.usrCoords[1]},function(){var a=new f(h.COORDS_BY_SCREEN,[0,this.visProp.offset[1]+this.board.origin.scrCoords[2]],this.board,!1),b=this.board.getBoundingBox(),c=.1*(b[1]-b[3]),d=t.Y();return d>b[1]?d=b[1]-c:d<b[3]&&(d=b[3]+c),d+a.usrCoords[2]},function(){var a=d.NewtonCotes([s.X(),u.X()],j.Y);return"&int; = "+a.toFixed(4)}],k),w.dump=!1,r.addChild(w),t.addChild(w)),r.dump=!1,s.dump=!1,t.dump=!1,u.dump=!1,v.elType="integral",v.setParents([j.id,i]),v.subs={curveLeft:r,baseLeft:s,curveRight:t,baseRight:u},k.withLabel&&(v.subs.label=w),v.Value=function(){return d.I([s.X(),u.X()],j.Y)},v.updateDataArray=function(){var a,b,c,d,e,f,g,h,i;if("y"===this.visProp.axis){for(r.Y()<t.Y()?(f=r.X(),h=r.Y(),g=t.X(),i=t.Y()):(f=t.X(),h=t.Y(),g=r.X(),i=r.Y()),d=Math.min(f,g),e=Math.max(f,g),a=[0,f],b=[h,h],c=0;c<j.numberPoints;c++)h<=j.points[c].usrCoords[2]&&d<=j.points[c].usrCoords[1]&&j.points[c].usrCoords[2]<=i&&j.points[c].usrCoords[1]<=e&&(a.push(j.points[c].usrCoords[1]),b.push(j.points[c].usrCoords[2]));a.push(g),b.push(i),a.push(0),b.push(i),a.push(0),b.push(h)}else{for(s.X()<u.X()?(d=s.X(),e=u.X()):(d=u.X(),e=s.X()),a=[d,d],b=[0,j.Y(d)],c=0;c<j.numberPoints;c++)d<=j.points[c].usrCoords[1]&&j.points[c].usrCoords[1]<=e&&(a.push(j.points[c].usrCoords[1]),b.push(j.points[c].usrCoords[2]));a.push(e),b.push(j.Y(e)),a.push(e),b.push(0),a.push(d),b.push(0)}this.dataX=a,this.dataY=b},r.addChild(v),t.addChild(v),s.addChild(v),u.addChild(v),v.baseLeft=s,v.baseRight=u,
v.curveLeft=r,v.curveRight=t,v.methodMap=a.deepCopy(v.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),v.label=w,v},a.createGrid=function(a,b,c){var d,e;return e=g.copyAttributes(c,a.options,"grid"),d=a.create("curve",[[null],[null]],e),d.elType="grid",d.type=h.OBJECT_TYPE_GRID,d.updateDataArray=function(){var b,c,e,i,j,k=this.visProp.gridx,l=this.visProp.gridy;for(i=g.isArray(this.visProp.topleft)?new f(this.visProp.tltype||h.COORDS_BY_USER,this.visProp.topleft,a):new f(h.COORDS_BY_SCREEN,[0,0],a),j=g.isArray(this.visProp.bottomright)?new f(this.visProp.brtype||h.COORDS_BY_USER,this.visProp.bottomright,a):new f(h.COORDS_BY_SCREEN,[a.canvasWidth,a.canvasHeight],a),a.options.grid.hasGrid=!0,i.setCoordinates(h.COORDS_BY_USER,[Math.floor(i.usrCoords[1]/k)*k,Math.ceil(i.usrCoords[2]/l)*l]),j.setCoordinates(h.COORDS_BY_USER,[Math.ceil(j.usrCoords[1]/k)*k,Math.floor(j.usrCoords[2]/l)*l]),d.dataX=[],d.dataY=[],b=i.usrCoords[2],c=j.usrCoords[2],i.usrCoords[2]<j.usrCoords[2]&&(b=j.usrCoords[2],c=i.usrCoords[2]),e=b;e>c-l;e-=l)d.dataX.push(i.usrCoords[1],j.usrCoords[1],NaN),d.dataY.push(e,e,NaN);for(b=i.usrCoords[1],c=j.usrCoords[1],i.usrCoords[1]>j.usrCoords[1]&&(b=j.usrCoords[1],c=i.usrCoords[1]),e=b;c+k>e;e+=k)d.dataX.push(e,e,NaN),d.dataY.push(i.usrCoords[2],j.usrCoords[2],NaN)},d.hasPoint=function(){return!1},a.grids.push(d),d},a.createInequality=function(a,d,f){var i,j,k;if(k=g.copyAttributes(f,a.options,"inequality"),d[0].elementClass===h.OBJECT_CLASS_LINE)j=a.create("curve",[[],[]],k),j.hasPoint=function(){return!1},j.updateDataArray=function(){var f,g,i,j=a.getBoundingBox(),l=k.inverse?-1:1,m=1.5,n=m*Math.max(j[2]-j[0],j[1]-j[3]),o={coords:{usrCoords:[1,(j[0]+j[2])/2,k.inverse?j[1]:j[3]]}},p=d[0].stdform.slice(1),q=p;p[1]>0&&(p=e.multiply(p,-1),q=p),i=m*Math.max(c.perpendicular(d[0],o,a)[0].distance(h.COORDS_BY_USER,o.coords),n),i*=l,o={coords:{usrCoords:[1,(j[0]+j[2])/2,(j[1]+j[3])/2]}},o=Math.abs(b.innerProduct(o.coords.usrCoords,d[0].stdform,3))>=b.eps?c.perpendicular(d[0],o,a)[0].usrCoords:o.coords.usrCoords,f=[1,o[1]+p[1]*n,o[2]-p[0]*n],g=[1,o[1]-q[1]*n,o[2]+q[0]*n],this.dataX=[f[1],f[1]+p[0]*i,g[1]+q[0]*i,g[1],f[1]],this.dataY=[f[2],f[2]+p[1]*i,g[2]+q[1]*i,g[2],f[2]]};else if(i=g.createFunction(d[0]),!g.exists(i))throw new Error("JSXGraph: Can't create area with the given parents.\nPossible parent types: [line], [function]");return j},a.registerElement("arrowparallel",a.createArrowParallel),a.registerElement("bisector",a.createBisector),a.registerElement("bisectorlines",a.createAngularBisectorsOfTwoLines),a.registerElement("circumcircle",a.createCircumcircle),a.registerElement("circumcirclemidpoint",a.createCircumcenter),a.registerElement("circumcenter",a.createCircumcenter),a.registerElement("incenter",a.createIncenter),a.registerElement("incircle",a.createIncircle),a.registerElement("integral",a.createIntegral),a.registerElement("midpoint",a.createMidpoint),a.registerElement("mirrorpoint",a.createMirrorPoint),a.registerElement("normal",a.createNormal),a.registerElement("orthogonalprojection",a.createOrthogonalProjection),a.registerElement("parallel",a.createParallel),a.registerElement("parallelpoint",a.createParallelPoint),a.registerElement("perpendicular",a.createPerpendicular),a.registerElement("perpendicularpoint",a.createPerpendicularPoint),a.registerElement("perpendicularsegment",a.createPerpendicularSegment),a.registerElement("reflection",a.createReflection),a.registerElement("grid",a.createGrid),a.registerElement("inequality",a.createInequality),{createArrowParallel:a.createArrowParallel,createBisector:a.createBisector,createAngularBisectorOfTwoLines:a.createAngularBisectorsOfTwoLines,createCircumcircle:a.createCircumcircle,createCircumcenter:a.createCircumcenter,createIncenter:a.createIncenter,createIncircle:a.createIncircle,createIntegral:a.createIntegral,createMidpoint:a.createMidpoint,createMirrorPoint:a.createMirrorPoint,createNormal:a.createNormal,createOrthogonalProjection:a.createOrthogonalProjection,createParallel:a.createParallel,createParallelPoint:a.createParallelPoint,createPerpendicular:a.createPerpendicular,createPerpendicularPoint:a.createPerpendicularPoint,createPerpendicularSegmen:a.createPerpendicularSegment,createReflection:a.createReflection,createGrid:a.createGrid,createInequality:a.createInequality}}),define("base/board",["jxg","base/constants","base/coords","options","math/numerics","math/math","math/geometry","math/complex","math/statistics","parser/jessiecode","parser/geonext","utils/color","utils/type","utils/event","utils/env","base/transformation","base/point","base/line","base/text","element/composition","base/composition"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";return a.Board=function(a,c,e,f,g,h,i,k,l,p,q){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,this.BOARD_MODE_ZOOM=17,m.exists(q.document)&&q.document!==!1?this.document=q.document:"object"==typeof document&&(this.document=document),this.container=a,this.containerObj=o.isBrowser?this.document.getElementById(this.container):null,o.isBrowser&&null===this.containerObj)throw new Error("\nJSXGraph: HTML container element '"+a+"' not found.");this.renderer=c,this.grids=[],this.options=m.deepCopy(d),this.attr=q,this.dimension=2,this.jc=new j,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,f[0],f[1]],this.zoomX=g,this.zoomY=h,this.unitX=i*this.zoomX,this.unitY=k*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=l,this.canvasHeight=p,m.exists(e)&&""!==e&&o.isBrowser&&!m.exists(this.document.getElementById(e))?this.id=e:this.id=this.generateId(),n.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.positionAccessLast=0,this.downObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(b.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasGestureHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this._drag_offset=[0,0],this.attr.registerevents&&this.addEventHandlers(),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setView:"setBoundingBox",setBoundingBox:"setBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}},a.extend(a.Board.prototype,{generateName:function(a){var c,d,e=this.attr.maxnamelength,f="",g="",h=[],i="";if(a.type===b.OBJECT_TYPE_TICKS)return"";for(c=m.isPoint(a)?["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:a.type===b.OBJECT_TYPE_ANGLE?["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],m.isPoint(a)||a.elementClass===b.OBJECT_CLASS_LINE||a.type===b.OBJECT_TYPE_ANGLE||(f=a.type===b.OBJECT_TYPE_POLYGON?"P_{":a.elementClass===b.OBJECT_CLASS_CIRCLE?"k_{":a.elementClass===b.OBJECT_CLASS_TEXT?"t_{":"s_{",g="}"),d=0;e>d;d++)h[d]=0;for(;h[e-1]<c.length;){for(h[0]=1;h[0]<c.length;h[0]++){for(i=f,d=e;d>0;d--)i+=c[h[d-1]];if(!m.exists(this.elementsByName[i+g]))return i+g}for(h[0]=c.length,d=1;e>d;d++)h[d-1]===c.length&&(h[d-1]=1,h[d]+=1)}return""},generateId:function(){for(var b=1;m.exists(a.boards["jxgBoard"+b]);)b=Math.round(65535*Math.random());return"jxgBoard"+b},setId:function(a,b){var c=this.numObjects,d=a.id;return this.numObjects+=1,""!==d&&m.exists(d)||(d=this.id+b+c),a.id=d,this.objects[d]=a,a._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=a,d},finalizeAdding:function(a){a.visProp.visible||this.renderer.hide(a)},finalizeLabel:function(a){!a.hasLabel||a.label.visProp.islabel||a.label.visProp.visible||this.renderer.hide(a.label)},getCoordsTopLeftCorner:function(){var a,b,c,d,e,f=this.document.documentElement||this.document.body.parentNode,g=this.document.body,h=this.containerObj;return this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||(new Date).getTime()-this.positionAccessLast<1e3)?this.cPos:(this.positionAccessLast=(new Date).getTime(),h.getBoundingClientRect?(d="number"==typeof window.pageXOffset?window.pageXOffset:"number"===f.ScrollLeft?f.ScrollLeft:this.document.body.scrollLeft,e="number"==typeof window.pageYOffset?window.pageYOffset:"number"===f.ScrollTop?f.ScrollTop:this.document.body.scrollTop,c=h.getBoundingClientRect(),a=[c.left+d,c.top+e],a[0]+=o.getProp(h,"border-left-width"),a[1]+=o.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(a[0]+=o.getProp(h,"padding-left"),a[1]+=o.getProp(h,"padding-top")),this.cPos=a.slice(),this.cPos):(a=o.getOffset(h),b=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&b.defaultView&&(a[0]+=o.getProp(f,"margin-left"),a[1]+=o.getProp(f,"margin-top"),a[0]+=o.getProp(f,"border-left-width"),a[1]+=o.getProp(f,"border-top-width"),a[0]+=o.getProp(f,"padding-left"),a[1]+=o.getProp(f,"padding-top")),g&&(a[0]+=o.getProp(g,"left"),a[1]+=o.getProp(g,"top")),"object"==typeof google&&google.translate&&(a[0]+=10,a[1]+=25),a[0]+=o.getProp(h,"border-left-width"),a[1]+=o.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(a[0]+=o.getProp(h,"padding-left"),a[1]+=o.getProp(h,"padding-top")),a[0]+=this.attr.offsetx,a[1]+=this.attr.offsety,this.cPos=a.slice(),this.Pos))},getMousePosition:function(a,b){var c,d,e=this.getCoordsTopLeftCorner();return c=o.getPosition(a,b,this.document),m.exists(this.cssTransMat)||this.updateCSSTransforms(),d=[1,c[0]-e[0],c[1]-e[1]],d=f.matVecMult(this.cssTransMat,d),d[1]/=d[0],d[2]/=d[0],[d[1],d[2]]},initMoveOrigin:function(a,b){this.drag_dx=a-this.origin.scrCoords[1],this.drag_dy=b-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(a,c,d,e){var f,g,h,j=[],k=[],l=this.objectsList.length,n={visProp:{layer:-1e4}};for(g=0;l>g;g++)f=this.objectsList[g],h=f.hasPoint&&f.hasPoint(a,c),f.visProp.visible&&h&&(f.triggerEventHandlers([e+"down","down"],[d]),this.downObjects.push(f)),(this.geonextCompatibilityMode&&(m.isPoint(f)||f.elementClass===b.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&f.isDraggable&&f.visProp.visible&&!f.visProp.fixed&&!f.visProp.frozen&&h&&(f.visProp.layer>n.visProp.layer||f.visProp.layer===n.visProp.layer&&f.lastDragTime.getTime()>=n.lastDragTime.getTime())&&(this.attr.ignorelabels&&m.exists(n.label)&&f===n.label||(n=f,j.push(n),m.exists(n.coords)?k.push(i.subtract(n.coords.scrCoords.slice(1),[a,c])):k.push([0,0])));return j.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(j.length=1,this._drag_offset=k[0]):(j=j.slice(-1),this._drag_offset=k[k.length-1]),this._drag_offset||(this._drag_offset=[0,0]),j},moveObject:function(a,d,e,f,g){var h,j=new c(b.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(a,d),this);e&&e.obj&&(h=e.obj,this.drag_position=[j.scrCoords[1],j.scrCoords[2]],this.drag_position=i.add(this.drag_position,this._drag_offset),m.exists(h.coords)?h.setPositionDirectly(b.COORDS_BY_SCREEN,this.drag_position):(this.renderer.hide(this.infobox),isNaN(e.targets[0].Xprev+e.targets[0].Yprev)||h.setPositionDirectly(b.COORDS_BY_SCREEN,[j.scrCoords[1],j.scrCoords[2]],[e.targets[0].Xprev,e.targets[0].Yprev]),e.targets[0].Xprev=j.scrCoords[1],e.targets[0].Yprev=j.scrCoords[2]),h.prepareUpdate().update(!1).updateRenderer(),h.triggerEventHandlers([g+"drag","drag"],[f]),this.updateInfobox(h),this.update(),h.highlight(!0),h.lastDragTime=new Date)},twoFingerMove:function(a,d,e,f){var g,h,i;m.exists(e)&&m.exists(e.obj)&&(i=e.obj,g=new c(b.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(a[0],a[1]),this),h=new c(b.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(d[0],d[1]),this),i.elementClass===b.OBJECT_CLASS_LINE||i.type===b.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(g,h,e,i):i.elementClass===b.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(g,h,e,i),i.triggerEventHandlers(["touchdrag","drag"],[f]),e.targets[0].Xprev=g.scrCoords[1],e.targets[0].Yprev=g.scrCoords[2],e.targets[1].Xprev=h.scrCoords[1],e.targets[1].Yprev=h.scrCoords[2])},twoFingerTouchObject:function(a,d,e,h){var i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y;if(m.exists(e.targets[0])&&m.exists(e.targets[1])&&!isNaN(e.targets[0].Xprev+e.targets[0].Yprev+e.targets[1].Xprev+e.targets[1].Yprev)){if(i=a.usrCoords,j=d.usrCoords,k=new c(b.COORDS_BY_SCREEN,[e.targets[0].Xprev,e.targets[0].Yprev],this).usrCoords,l=new c(b.COORDS_BY_SCREEN,[e.targets[1].Xprev,e.targets[1].Yprev],this).usrCoords,o=[1,.5*(k[1]+l[1]),.5*(k[2]+l[2])],n=[1,.5*(i[1]+j[1]),.5*(i[2]+j[2])],q=f.crossProduct(k,l),p=f.crossProduct(i,j),s=f.crossProduct(q,p),Math.abs(s[0])<f.eps)return;s[1]/=s[0],s[2]/=s[0],t=g.rad(o.slice(1),s.slice(1),n.slice(1)),u=this.create("transform",[t,s[1],s[2]],{type:"rotate"}),u.update(),o=f.matVecMult(u.matrix,o),o[1]/=o[0],o[2]/=o[0],v=this.create("transform",[n[1]-o[1],n[2]-o[2]],{type:"translate"}),v.update(),u.melt(v),h.visProp.scalable&&(r=g.distance(i,j)/g.distance(k,l),w=this.create("transform",[-n[1],-n[2]],{type:"translate"}),x=this.create("transform",[r,r],{type:"scale"}),y=this.create("transform",[n[1],n[2]],{type:"translate"}),u.melt(w).melt(x).melt(y)),h.elementClass===b.OBJECT_CLASS_LINE?u.applyOnce([h.point1,h.point2]):h.type===b.OBJECT_TYPE_POLYGON&&u.applyOnce(h.vertices.slice(0,-1)),this.update(),h.highlight(!0)}},twoFingerTouchCircle:function(a,d,e,f){var h,i,j,k,l,n,o,p,q,r,s;"pointCircle"!==f.method&&"pointLine"!==f.method&&m.exists(e.targets[0])&&m.exists(e.targets[1])&&!isNaN(e.targets[0].Xprev+e.targets[0].Yprev+e.targets[1].Xprev+e.targets[1].Yprev)&&(h=a.usrCoords,i=d.usrCoords,j=new c(b.COORDS_BY_SCREEN,[e.targets[0].Xprev,e.targets[0].Yprev],this).usrCoords,k=new c(b.COORDS_BY_SCREEN,[e.targets[1].Xprev,e.targets[1].Yprev],this).usrCoords,o=this.create("transform",[h[1]-j[1],h[2]-j[2]],{type:"translate"}),n=g.rad(k.slice(1),h.slice(1),i.slice(1)),p=this.create("transform",[-h[1],-h[2]],{type:"translate"}),q=this.create("transform",[n],{type:"rotate"}),o.melt(p).melt(q),f.visProp.scalable&&(l=g.distance(h,i)/g.distance(j,k),r=this.create("transform",[l,l],{type:"scale"}),o.melt(r)),s=this.create("transform",[h[1],h[2]],{type:"translate"}),o.melt(s),o.applyOnce([f.center]),"twoPoints"===f.method?o.applyOnce([f.point2]):"pointRadius"===f.method&&m.isNumber(f.updateRadius.origin)&&f.setRadius(f.radius*l),this.update(f.center),f.highlight(!0))},highlightElements:function(a,b,c,d){var e,f,g,h={},i=this.objectsList.length;for(e=0;i>e;e++)f=this.objectsList[e],g=f.id,m.exists(f.hasPoint)&&f.visProp.visible&&f.hasPoint(a,b)&&(this.updateInfobox(f),m.exists(this.highlightedObjects[g])||(h[g]=f,f.highlight(),this.triggerEventHandlers(["mousehit","hit"],[c,f,d])),f.mouseover?f.triggerEventHandlers(["mousemove","move"],[c]):(f.triggerEventHandlers(["mouseover","over"],[c]),f.mouseover=!0));for(e=0;i>e;e++)f=this.objectsList[e],g=f.id,f.mouseover&&(h[g]||(f.triggerEventHandlers(["mouseout","out"],[c]),f.mouseover=!1))},saveStartPos:function(c,d){var e,f,g=[];if(c.type===b.OBJECT_TYPE_TICKS)g.push([1,NaN,NaN]);else if(c.elementClass===b.OBJECT_CLASS_LINE)g.push(c.point1.coords.usrCoords),g.push(c.point2.coords.usrCoords);else if(c.elementClass===b.OBJECT_CLASS_CIRCLE)g.push(c.center.coords.usrCoords),"twoPoints"===c.method&&g.push(c.point2.coords.usrCoords);else if(c.type===b.OBJECT_TYPE_POLYGON)for(f=c.vertices.length-1,e=0;f>e;e++)g.push(c.vertices[e].coords.usrCoords);else if(c.type===b.OBJECT_TYPE_SECTOR)g.push(c.point1.coords.usrCoords),g.push(c.point2.coords.usrCoords),g.push(c.point3.coords.usrCoords);else if(m.isPoint(c)||c.type===b.OBJECT_TYPE_GLIDER)g.push(c.coords.usrCoords);else if(c.elementClass===b.OBJECT_CLASS_CURVE){if(a.exists(c.parents))for(f=c.parents.length,e=0;f>e;e++)g.push(this.select(c.parents[e]).coords.usrCoords)}else try{g.push(c.coords.usrCoords)}catch(h){a.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+h)}for(f=g.length,e=0;f>e;e++)d.Zstart.push(g[e][0]),d.Xstart.push(g[e][1]),d.Ystart.push(g[e][2])},mouseOriginMoveStart:function(a){var b,c=this.attr.pan.enabled&&(!this.attr.pan.needshift||a.shiftKey);return c&&(b=this.getMousePosition(a),this.initMoveOrigin(b[0],b[1])),c},mouseOriginMove:function(a){var b,c=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return c&&(b=this.getMousePosition(a),this.moveOrigin(b[0],b[1],!0)),c},touchOriginMoveStart:function(b){var c,d=b[a.touchProperty],e=2===d.length&&g.distance([d[0].screenX,d[0].screenY],[d[1].screenX,d[1].screenY])<80,f=this.attr.pan.enabled&&(!this.attr.pan.needtwofingers||e);return f&&(c=this.getMousePosition(b,0),this.initMoveOrigin(c[0],c[1])),f},touchOriginMove:function(a){var b,c=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return c&&(b=this.getMousePosition(a,0),this.moveOrigin(b[0],b[1],!0)),c},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},addEventHandlers:function(){o.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers())},addPointerEventHandlers:function(){!this.hasPointerHandlers&&o.isBrowser&&(window.navigator.pointerEnabled?(o.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),o.addEvent(this.containerObj,"pointermove",this.pointerMoveListener,this)):(o.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),o.addEvent(this.containerObj,"MSPointerMove",this.pointerMoveListener,this)),this.hasPointerHandlers=!0)},addMouseEventHandlers:function(){!this.hasMouseHandlers&&o.isBrowser&&(o.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),o.addEvent(this.containerObj,"mousemove",this.mouseMoveListener,this),o.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),o.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!0,this.containerObj.oncontextmenu=function(a){return m.exists(a)&&a.preventDefault(),!1})},addTouchEventHandlers:function(a){!this.hasTouchHandlers&&o.isBrowser&&(o.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),o.addEvent(this.containerObj,"touchmove",this.touchMoveListener,this),(!m.exists(a)||a)&&(o.addEvent(this.containerObj,"gesturestart",this.gestureStartListener,this),o.addEvent(this.containerObj,"gesturechange",this.gestureChangeListener,this),this.hasGestureHandlers=!0),this.hasTouchHandlers=!0)},removePointerEventHandlers:function(){this.hasPointerHandlers&&o.isBrowser&&(window.navigator.pointerEnabled?(o.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),o.removeEvent(this.containerObj,"pointermove",this.pointerMoveListener,this)):(o.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),o.removeEvent(this.containerObj,"MSPointerMove",this.pointerMoveListener,this)),this.hasPointerUp&&(window.navigator.pointerEnabled?o.removeEvent(this.document,"pointerup",this.pointerUpListener,this):o.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this),this.hasPointerUp=!1),this.hasPointerHandlers=!1)},removeMouseEventHandlers:function(){this.hasMouseHandlers&&o.isBrowser&&(o.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),o.removeEvent(this.containerObj,"mousemove",this.mouseMoveListener,this),this.hasMouseUp&&(o.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),o.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),o.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!1)},removeTouchEventHandlers:function(){this.hasTouchHandlers&&o.isBrowser&&(o.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),o.removeEvent(this.containerObj,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(o.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasGestureHandlers&&(o.removeEvent(this.containerObj,"gesturestart",this.gestureStartListener,this),o.removeEvent(this.containerObj,"gesturechange",this.gestureChangeListener,this),this.hasGestureHandlers=!1),this.hasTouchHandlers=!1)},removeEventHandlers:function(){this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers()},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+.1*this.canvasWidth,this.origin.scrCoords[2]),!1},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-.1*this.canvasWidth,this.origin.scrCoords[2]),!1},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-.1*this.canvasHeight),!1},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+.1*this.canvasHeight),!1},gestureChangeListener:function(a){var d,e=this.attr.zoom.factorx,f=this.attr.zoom.factory;return this.attr.zoom.wheel?(a.preventDefault(),this.mode===this.BOARD_MODE_ZOOM&&(d=new c(b.COORDS_BY_SCREEN,this.getMousePosition(a),this),this.attr.zoom.factorx=a.scale/this.prevScale,this.attr.zoom.factory=a.scale/this.prevScale,this.zoomIn(d.usrCoords[1],d.usrCoords[2]),this.prevScale=a.scale,this.attr.zoom.factorx=e,this.attr.zoom.factory=f),!1):!0},gestureStartListener:function(a){return this.attr.zoom.wheel?(a.preventDefault(),this.prevScale=1,this.mode===this.BOARD_MODE_NONE&&(this.mode=this.BOARD_MODE_ZOOM),!1):!0},pointerDownListener:function(b,c){var d,e,f,g,h,i,j,k,l,m=this.options.precision.touch;if(this.hasPointerUp||(window.navigator.pointerEnabled?o.addEvent(this.document,"pointerup",this.pointerUpListener,this):o.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&"function"==typeof this.document.selection.empty)this.document.selection.empty();else if(window.getSelection&&(i=window.getSelection(),i.removeAllRanges))try{i.removeAllRanges()}catch(n){}if(a.isBrowser&&window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1&&(this.options.precision.hasPoint=m),g=this.getMousePosition(b),c?(h=[c],this.mode=this.BOARD_MODE_DRAG):h=this.initMoveObject(g[0],g[1],b,"mouse"),h.length>0){for(k=h[h.length-1],j=!1,d=0;d<this.touches.length;d++)if(this.touches[d].obj===k){e=d,f=this.touches[d].targets.push({num:b.pointerId,X:g[0],Y:g[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]})-1,j=!0;break}j||(f=0,e=this.touches.push({obj:k,targets:[{num:b.pointerId,X:g[0],Y:g[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]}]})-1),this.dehighlightAll(),k.highlight(!0),this.saveStartPos(k,this.touches[e].targets[f]),b&&b.preventDefault?b.preventDefault():window.event&&(window.event.returnValue=!1)}return this.touches.length>0&&(b.preventDefault(),b.stopPropagation()),this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(b)?(this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[b]),!1):(this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[b]),l)},pointerMoveListener:function(b){var c,d,e;b[a.touchProperty];if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.renderer.hide(this.infobox)),this.mode!==this.BOARD_MODE_NONE&&(b.preventDefault(),b.stopPropagation()),a.isBrowser&&window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1&&(this.options.precision.hasPoint=this.options.precision.touch),this.updateQuality=this.BOARD_QUALITY_LOW,!this.mouseOriginMove(b))if(this.mode===this.BOARD_MODE_DRAG){for(c=0;c<this.touches.length;c++)for(d=0;d<this.touches[c].targets.length;d++)if(this.touches[c].targets[d].num===b.pointerId){1===this.touches[c].targets.length?(this.touches[c].targets[d].X=b.pageX,this.touches[c].targets[d].Y=b.pageY,e=this.getMousePosition(b),this.moveObject(e[0],e[1],this.touches[c],b,"touch")):2===this.touches[c].targets.length&&this.touches[c].targets[0].num>-1&&this.touches[c].targets[1].num>-1&&(this.touches[c].targets[d].X=b.pageX,this.touches[c].targets[d].Y=b.pageY,this.twoFingerMove(this.getMousePosition({pageX:this.touches[c].targets[0].X,pageY:this.touches[c].targets[0].Y}),this.getMousePosition({pageX:this.touches[c].targets[1].X,pageY:this.touches[c].targets[1].Y}),this.touches[c],b));break}}else e=this.getMousePosition(b),this.highlightElements(e[0],e[1],b,-1);return this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchmove","move","pointermove","MSPointerMove"],[b,this.mode]),this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(a){var b,c,d;this.options.precision.touch;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[a]),this.renderer.hide(this.infobox),a)for(b=0;b<this.touches.length;b++)for(c=0;c<this.touches[b].targets.length;c++)if(this.touches[b].targets[c].num===a.pointerId){this.touches[b].targets.splice(c,1),0===this.touches[b].targets.length&&this.touches.splice(b,1);break}for(b=this.downObjects.length-1;b>-1;b--){for(d=!1,c=0;c<this.touches.length;c++)this.touches[c].obj.id===this.downObjects[b].id&&(d=!0);d||(this.downObjects[b].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[a]),this.downObjects[b].snapToGrid(),this.downObjects[b].snapToPoints(),this.downObjects.splice(b,1))}return 0===this.touches.length&&(this.hasPointerUp&&(window.navigator.pointerEnabled?o.removeEvent(this.document,"pointerup",this.pointerUpListener,this):o.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this),this.hasPointerUp=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.update()),!0},touchStartListener:function(c){var e,f,g,h,i,j,k,l,n,p,q=this.options.precision.touch,r=c[a.touchProperty];for(this.hasTouchEnd||(o.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&"function"==typeof this.document.selection.empty?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this.options.precision.hasPoint=this.options.precision.touch,e=0;e<r.length;e++)r[e].jxg_isused=!1;for(e=0;e<this.touches.length;e++)for(h=0;h<this.touches[e].targets.length;h++){this.touches[e].targets[h].num=-1,q=this.options.precision.touch;do{for(i=0;i<r.length;i++)if(Math.abs(Math.pow(r[i].screenX-this.touches[e].targets[h].X,2)+Math.pow(r[i].screenY-this.touches[e].targets[h].Y,2))<q*q){this.touches[e].targets[h].num=i,this.touches[e].targets[h].X=r[i].screenX,this.touches[e].targets[h].Y=r[i].screenY,r[i].jxg_isused=!0;break}q*=2}while(-1===this.touches[e].targets[h].num&&q<this.options.precision.touchMax);-1===this.touches[e].targets[h].num&&(a.debug("i couldn't find a targettouches for target no "+h+" on "+this.touches[e].obj.name+" ("+this.touches[e].obj.id+"). Removed the target."),a.debug("eps = "+q+", touchMax = "+d.precision.touchMax),this.touches[e].targets.splice(e,1))}for(e=0;e<r.length;e++)if(!r[e].jxg_isused){if(f=this.getMousePosition(c,e),g=this.initMoveObject(f[0],f[1],c,"touch"),0!==g.length)if(k=g[g.length-1],m.isPoint(k)||k.elementClass===b.OBJECT_CLASS_TEXT||k.type===b.OBJECT_TYPE_TICKS||k.type===b.OBJECT_TYPE_IMAGE)n=[{num:e,X:r[e].screenX,Y:r[e].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]}],this.saveStartPos(k,n[0]),this.touches.push({obj:k,targets:n}),k.highlight(!0);else if(k.elementClass===b.OBJECT_CLASS_LINE||k.elementClass===b.OBJECT_CLASS_CIRCLE||k.type===b.OBJECT_TYPE_POLYGON){for(l=!1,h=0;h<this.touches.length;h++)k.id===this.touches[h].obj.id&&(l=!0,1===this.touches[h].targets.length&&(p={num:e,X:r[e].screenX,Y:r[e].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},this.saveStartPos(k,p),this.touches[h].targets.push(p)),r[e].jxg_isused=!0);l||(n=[{num:e,X:r[e].screenX,Y:r[e].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]}],this.saveStartPos(k,n[0]),this.touches.push({obj:k,targets:n}),k.highlight(!0))}r[e].jxg_isused=!0}return this.touches.length>0&&(c.preventDefault(),c.stopPropagation()),this.mode===this.BOARD_MODE_NONE&&this.touchOriginMoveStart(c)?(this.triggerEventHandlers(["touchstart","down"],[c]),!1):(o.isWebkitAndroid()&&(j=new Date,this.touchMoveLast=j.getTime()-200),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[c]),this.touches.length>0)},touchMoveListener:function(b){var c,d,e,f,g=b[a.touchProperty];if(this.mode!==this.BOARD_MODE_NONE&&(b.preventDefault(),b.stopPropagation()),o.isWebkitAndroid()){if(f=new Date,f=f.getTime(),f-this.touchMoveLast<80)return this.updateQuality=this.BOARD_QUALITY_HIGH,this.triggerEventHandlers(["touchmove","move"],[b,this.mode]),!1;this.touchMoveLast=f}if(this.mode!==this.BOARD_MODE_DRAG&&this.renderer.hide(this.infobox),this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,!this.touchOriginMove(b)&&this.mode===this.BOARD_MODE_DRAG)for(c=0;c<this.touches.length;c++)if(1===this.touches[c].targets.length){if(g[this.touches[c].targets[0].num]){if(d=this.getMousePosition(b,this.touches[c].targets[0].num),d[0]<0||d[0]>this.canvasWidth||d[1]<0||d[1]>this.canvasHeight)return;this.touches[c].targets[0].X=g[this.touches[c].targets[0].num].screenX,this.touches[c].targets[0].Y=g[this.touches[c].targets[0].num].screenY,this.moveObject(d[0],d[1],this.touches[c],b,"touch")}}else if(2===this.touches[c].targets.length&&this.touches[c].targets[0].num>-1&&this.touches[c].targets[1].num>-1&&g[this.touches[c].targets[0].num]&&g[this.touches[c].targets[1].num]){if(d=this.getMousePosition(b,this.touches[c].targets[0].num),e=this.getMousePosition(b,this.touches[c].targets[1].num),d[0]<0||d[0]>this.canvasWidth||d[1]<0||d[1]>this.canvasHeight||e[0]<0||e[0]>this.canvasWidth||e[1]<0||e[1]>this.canvasHeight)return;this.touches[c].targets[0].X=g[this.touches[c].targets[0].num].screenX,this.touches[c].targets[0].Y=g[this.touches[c].targets[0].num].screenY,this.touches[c].targets[1].X=g[this.touches[c].targets[1].num].screenX,this.touches[c].targets[1].Y=g[this.touches[c].targets[1].num].screenY,this.twoFingerMove(d,e,this.touches[c],b)}return this.mode!==this.BOARD_MODE_DRAG&&this.renderer.hide(this.infobox),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchmove","move"],[b,this.mode]),this.mode===this.BOARD_MODE_NONE},touchEndListener:function(c){var d,e,f,g,h,i=this.options.precision.touch,j=[],k=c&&c[a.touchProperty];if(this.triggerEventHandlers(["touchend","up"],[c]),this.renderer.hide(this.infobox),k&&k.length>0){for(d=0;d<this.touches.length;d++)j[d]=this.touches[d];for(this.touches.length=0,d=0;d<k.length;d++)k[d].jxg_isused=!1;for(d=0;d<j.length;d++){for(g=!1,h=0,e=0;e<j[d].targets.length;e++)for(j[d].targets[e].found=!1,
f=0;f<k.length;f++)if(Math.abs(Math.pow(k[f].screenX-j[d].targets[e].X,2)+Math.pow(k[f].screenY-j[d].targets[e].Y,2))<i*i){j[d].targets[e].found=!0,j[d].targets[e].num=f,j[d].targets[e].X=k[f].screenX,j[d].targets[e].Y=k[f].screenY,h+=1;break}if(m.isPoint(j[d].obj)?g=j[d].targets[0]&&j[d].targets[0].found:j[d].obj.elementClass===b.OBJECT_CLASS_LINE?g=j[d].targets[0]&&j[d].targets[0].found||j[d].targets[1]&&j[d].targets[1].found:j[d].obj.elementClass===b.OBJECT_CLASS_CIRCLE&&(g=1===h||3===h),g)for(this.touches.push({obj:j[d].obj,targets:[]}),e=0;e<j[d].targets.length;e++)j[d].targets[e].found&&this.touches[this.touches.length-1].targets.push({num:j[d].targets[e].num,X:j[d].targets[e].screenX,Y:j[d].targets[e].screenY,Xprev:NaN,Yprev:NaN,Xstart:j[d].targets[e].Xstart,Ystart:j[d].targets[e].Ystart,Zstart:j[d].targets[e].Zstart});else j[d].obj.noHighlight()}}else this.touches.length=0;for(d=this.downObjects.length-1;d>-1;d--){for(g=!1,e=0;e<this.touches.length;e++)this.touches[e].obj.id===this.downObjects[d].id&&(g=!0);g||(this.downObjects[d].triggerEventHandlers(["touchup","up"],[c]),this.downObjects[d].snapToGrid(),this.downObjects[d].snapToPoints(),this.downObjects.splice(d,1))}return k&&0!==k.length||(this.hasTouchEnd&&(o.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.update()),!0},mouseDownListener:function(a){var b,c,d;return this.document.selection&&"function"==typeof this.document.selection.empty?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this.hasMouseUp?void 0:(o.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0,b=this.getMousePosition(a),c=this.initMoveObject(b[0],b[1],a,"mouse"),0===c.length?(this.mode=this.BOARD_MODE_NONE,d=!0):(this.mouse={obj:null,targets:[{X:b[0],Y:b[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=c[c.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),a&&a.preventDefault?a.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(d=this.mouseOriginMoveStart(a)),this.triggerEventHandlers(["mousedown","down"],[a]),d)},mouseUpListener:function(a){var b;for(this.triggerEventHandlers(["mouseup","up"],[a]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mouse&&this.mouse.obj&&(this.mouse.obj.snapToGrid(this.mouse.targets[0]),this.mouse.obj.snapToPoints()),this.originMoveEnd(),this.dehighlightAll(),this.update(),b=0;b<this.downObjects.length;b++)this.downObjects[b].triggerEventHandlers(["mouseup","up"],[a]);this.downObjects.length=0,this.hasMouseUp&&(o.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseMoveListener:function(a){var b;b=this.getMousePosition(a),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.renderer.hide(this.infobox)),this.mouseOriginMove(a)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(b[0],b[1],this.mouse,a,"mouse"):this.highlightElements(b[0],b[1],a,-1)),this.updateQuality=this.BOARD_QUALITY_HIGH,this.triggerEventHandlers(["mousemove","move"],[a,this.mode])},mouseWheelListener:function(a){if(!this.attr.zoom.wheel||this.attr.zoom.needshift&&!a.shiftKey)return!0;a=a||window.event;var d=a.detail?-a.detail:a.wheelDelta/40,e=new c(b.COORDS_BY_SCREEN,this.getMousePosition(a),this);return d>0?this.zoomIn(e.usrCoords[1],e.usrCoords[2]):this.zoomOut(e.usrCoords[1],e.usrCoords[2]),a.preventDefault(),!1},updateInfobox:function(a){var b,c,d,e;return a.visProp.showinfobox?(m.isPoint(a)&&(d=a.coords.usrCoords[1],e=a.coords.usrCoords[2],this.infobox.setCoords(d+this.infobox.distanceX/this.unitX,e+this.infobox.distanceY/this.unitY),"string"!=typeof a.infoboxText?("auto"===a.visProp.infoboxdigits?(b=m.autoDigits(d),c=m.autoDigits(e)):m.isNumber(a.visProp.infoboxdigits)?(b=d.toFixed(a.visProp.infoboxdigits),c=e.toFixed(a.visProp.infoboxdigits)):(b=d,c=e),this.highlightInfobox(b,c,a)):this.highlightCustomInfobox(a.infoboxText,a),this.renderer.show(this.infobox)),this):this},highlightCustomInfobox:function(a,b){return this.infobox.setText(a),this},highlightInfobox:function(a,b,c){return this.highlightCustomInfobox("("+a+", "+b+")",c),this},dehighlightAll:function(){var a,b,c=!1;for(a in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(a)&&(b=this.highlightedObjects[a],(this.hasMouseHandlers||this.hasPointerHandlers)&&b.noHighlight(),c=!0);return this.highlightedObjects={},"canvas"===this.renderer.type&&c&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(a,b){return[a,b]},getUsrCoordsOfMouse:function(a){var d=this.getCoordsTopLeftCorner(),e=o.getPosition(a,null,this.document),f=e[0]-d[0],g=e[1]-d[1],h=new c(b.COORDS_BY_SCREEN,[f,g],this);return h.usrCoords.slice(1)},getAllUnderMouse:function(a){var b=this.getAllObjectsUnderMouse(a);return b.push(this.getUsrCoordsOfMouse(a)),b},getAllObjectsUnderMouse:function(a){var b,c,d=this.getCoordsTopLeftCorner(),e=o.getPosition(a,null,this.document),f=e[0]-d[0],g=e[1]-d[1],h=[],i=this.objectsList.length;for(b=0;i>b;b++)c=this.objectsList[b],c.visProp.visible&&c.hasPoint&&c.hasPoint(f,g)&&(h[h.length]=c);return h},updateCoords:function(){var a,b,c=this.objectsList.length;for(b=0;c>b;b++)a=this.objectsList[b],m.exists(a.coords)&&(a.visProp.frozen?a.coords.screen2usr():a.coords.usr2screen());return this},moveOrigin:function(a,b,c){return m.exists(a)&&m.exists(b)&&(this.origin.scrCoords[1]=a,this.origin.scrCoords[2]=b,c&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(c){var d,e,f,g,h,i,j,k=[],n="var el, x, y, c, rgbo;\n",o=c.indexOf("<data>"),p=c.indexOf("</data>"),q=function(a,c,d,e){return function(){var f,g;f=a.select(c.id),g=f.coords.usrCoords[e],2===e?f.setPositionDirectly(b.COORDS_BY_USER,[d(),g]):f.setPositionDirectly(b.COORDS_BY_USER,[g,d()]),f.prepareUpdate().update()}},r=function(a,b,c){return function(){var d,e;d=a.select(b.id),e=c(),d.setAttribute({visible:e})}},s=function(a,b,c,d){return function(){var e,f;e=a.select(b.id),f=c(),"strokewidth"===d?e.visProp.strokewidth=f:(f=l.rgba2rgbo(f),e.visProp[d+"color"]=f[0],e.visProp[d+"opacity"]=f[1])}},t=function(a,b,c){return function(){var d=a.select(b.id);d.position=c()}},u=function(a,b,c){return function(){var d=a.select(b.id);d.setStyle(c())}};if(!(0>o)){for(;o>=0;){if(d=c.slice(o+6,p),e=d.indexOf("="),f=d.slice(0,e),g=d.slice(e+1),e=f.indexOf("."),h=f.slice(0,e),i=this.elementsByName[m.unescapeHTML(h)],j=f.slice(e+1).replace(/\s+/g,"").toLowerCase(),g=m.createFunction(g,this,"",!0),m.exists(this.elementsByName[h]))switch(n+='el = this.objects["'+i.id+'"];\n',j){case"x":k.push(q(this,i,g,2));break;case"y":k.push(q(this,i,g,1));break;case"visible":k.push(r(this,i,g));break;case"position":k.push(t(this,i,g));break;case"stroke":k.push(s(this,i,g,"stroke"));break;case"style":k.push(u(this,i,g));break;case"strokewidth":k.push(s(this,i,g,"strokewidth"));break;case"fill":k.push(s(this,i,g,"fill"));break;case"label":break;default:a.debug("property '"+j+"' in conditions not yet implemented:"+g)}else a.debug("debug conditions: |"+h+"| undefined");c=c.slice(p+7),o=c.indexOf("<data>"),p=c.indexOf("</data>")}this.updateConditions=function(){var a;for(a=0;a<k.length;a++)k[a]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var a=new c(b.COORDS_BY_USER,[0,0],this),d=new c(b.COORDS_BY_USER,[this.options.grid.gridX,this.options.grid.gridY],this),e=a.scrCoords[1]-d.scrCoords[1],f=a.scrCoords[2]-d.scrCoords[2];for(this.options.grid.snapSizeX=this.options.grid.gridX;Math.abs(e)>25;)this.options.grid.snapSizeX*=2,e/=2;for(this.options.grid.snapSizeY=this.options.grid.gridY;Math.abs(f)>25;)this.options.grid.snapSizeY*=2,f/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(a,b){var c=this.getBoundingBox(),d=this.attr.zoom.factorx,e=this.attr.zoom.factory,f=(c[2]-c[0])*(1-1/d),g=(c[1]-c[3])*(1-1/e),h=.5,i=.5;return"number"==typeof a&&"number"==typeof b&&(h=(a-c[0])/(c[2]-c[0]),i=(c[1]-b)/(c[1]-c[3])),this.setBoundingBox([c[0]+f*h,c[1]-g*i,c[2]-f*(1-h),c[3]+g*(1-i)],!1),this.zoomX*=d,this.zoomY*=e,this.applyZoom(),!1},zoomOut:function(a,b){var c=this.getBoundingBox(),d=this.attr.zoom.factorx,e=this.attr.zoom.factory,f=(c[2]-c[0])*(1-d),g=(c[1]-c[3])*(1-e),h=.5,i=.5;return this.zoomX<this.attr.zoom.eps||this.zoomY<this.attr.zoom.eps?!1:("number"==typeof a&&"number"==typeof b&&(h=(a-c[0])/(c[2]-c[0]),i=(c[1]-b)/(c[1]-c[3])),this.setBoundingBox([c[0]+f*h,c[1]-g*i,c[2]-f*(1-h),c[3]+g*(1-i)],!1),this.zoomX/=d,this.zoomY/=e,this.applyZoom(),!1)},zoom100:function(){var a=this.getBoundingBox(),b=(a[2]-a[0])*(1-this.zoomX)*.5,c=(a[1]-a[3])*(1-this.zoomY)*.5;return this.setBoundingBox([a[0]+b,a[1]-c,a[2]-b,a[3]+c],!1),this.zoomX=1,this.zoomY=1,this.applyZoom(),!1},zoomAllPoints:function(){var a,b,c,d,e,f=0,g=0,h=0,i=0,j=this.objectsList.length;for(a=0;j>a;a++)e=this.objectsList[a],m.isPoint(e)&&e.visProp.visible&&(e.coords.usrCoords[1]<f?f=e.coords.usrCoords[1]:e.coords.usrCoords[1]>g&&(g=e.coords.usrCoords[1]),e.coords.usrCoords[2]>i?i=e.coords.usrCoords[2]:e.coords.usrCoords[2]<h&&(h=e.coords.usrCoords[2]));return b=50,c=b/this.unitX,d=b/this.unitY,this.zoomX=1,this.zoomY=1,this.setBoundingBox([f-c,i+d,g+c,h-d],!0),this.applyZoom(),this},zoomElements:function(a){var b,c,d,e,f=[0,0,0,0],g=[1,-1,-1,1];if(!m.isArray(a)||0===a.length)return this;for(b=0;b<a.length;b++)if(d=this.select(a[b]),e=d.bounds(),m.isArray(e))if(m.isArray(f))for(c=0;4>c;c++)g[c]*e[c]<g[c]*f[c]&&(f[c]=e[c]);else f=e;if(m.isArray(f)){for(c=0;4>c;c++)f[c]-=g[c];this.zoomX=1,this.zoomY=1,this.setBoundingBox(f,!0)}return this},setZoom:function(a,b){var c=this.attr.zoom.factorx,d=this.attr.zoom.factory;return this.attr.zoom.factorx=a/this.zoomX,this.attr.zoom.factory=b/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=c,this.attr.zoom.factory=d,this},removeObject:function(b){var c,d;if(m.isArray(b)){for(d=0;d<b.length;d++)this.removeObject(b[d]);return this}if(b=this.select(b),!m.exists(b)||m.isString(b))return this;try{for(c in b.childElements)b.childElements.hasOwnProperty(c)&&b.childElements[c].board.removeObject(b.childElements[c]);for(c in this.objects)this.objects.hasOwnProperty(c)&&m.exists(this.objects[c].childElements)&&(delete this.objects[c].childElements[b.id],delete this.objects[c].descendants[b.id]);if(b._pos>-1)for(this.objectsList.splice(b._pos,1),c=b._pos;c<this.objectsList.length;c++)this.objectsList[c]._pos--;else a.debug("Board.removeObject: object "+b.id+" not found in list.");delete this.objects[b.id],delete this.elementsByName[b.name],b.visProp&&b.visProp.trace&&b.clearTrace(),m.exists(b.remove)&&b.remove()}catch(e){a.debug(b.id+": Could not be removed: "+e)}return this.update(),this},removeAncestors:function(a){var b;for(b in a.ancestors)a.ancestors.hasOwnProperty(b)&&this.removeAncestors(a.ancestors[b]);return this.removeObject(a),this},initGeonextBoard:function(){var a,b,c;return a=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),b=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),c=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[a,b],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[a,c],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},initInfobox:function(){var a=m.copyAttributes({},this.options,"infobox");return a.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],a),this.infobox.distanceX=-20,this.infobox.distanceY=25,this.infobox.dump=!1,this.renderer.hide(this.infobox),this},resizeContainer:function(a,b,c,d){var e;return d||(e=this.getBoundingBox()),this.canvasWidth=parseInt(a,10),this.canvasHeight=parseInt(b,10),c||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),d||this.setBoundingBox(e,this.keepaspectratio),this},showDependencies:function(){var a,b,c,d,e;b="<p>\n";for(a in this.objects)if(this.objects.hasOwnProperty(a)){e=0;for(c in this.objects[a].childElements)this.objects[a].childElements.hasOwnProperty(c)&&(e+=1);e>=0&&(b+="<strong>"+this.objects[a].id+":</strong> ");for(c in this.objects[a].childElements)this.objects[a].childElements.hasOwnProperty(c)&&(b+=this.objects[a].childElements[c].id+"("+this.objects[a].childElements[c].name+"), ");b+="<p>\n"}return b+="</p>\n",d=window.open(),d.document.open(),d.document.write(b),d.document.close(),this},showXML:function(){var a=window.open("");return a.document.open(),a.document.write("<pre>"+m.escapeHTML(this.xmlString)+"</pre>"),a.document.close(),this},prepareUpdate:function(){var a,b,c=this.objectsList.length;for(a=0;c>a;a++)b=this.objectsList[a],b.needsUpdate=b.needsRegularUpdate||this.needsFullUpdate;for(a in this.groups)this.groups.hasOwnProperty(a)&&(b=this.groups[a],b.needsUpdate=b.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(a){var b,c;for(a=this.select(a),b=0;b<this.objectsList.length;b++)c=this.objectsList[b],c.update(!m.exists(a)||c.id!==a.id);for(b in this.groups)this.groups.hasOwnProperty(b)&&this.groups[b].update(a);return this},updateRenderer:function(){var a,b,c=this.objectsList.length;if("canvas"===this.renderer.type)this.updateRendererCanvas();else for(a=0;c>a;a++)b=this.objectsList[a],b.updateRenderer();return this},updateRendererCanvas:function(){var a,b,c,d,e,f=this.objectsList.length,g=this.options.layer,h=this.options.layer.numlayers,i=Number.NEGATIVE_INFINITY;for(c=0;h>c;c++){d=Number.POSITIVE_INFINITY;for(e in g)g.hasOwnProperty(e)&&g[e]>i&&g[e]<d&&(d=g[e]);for(i=d,a=0;f>a;a++)b=this.objectsList[a],b.visProp.layer===d&&b.prepareUpdate().updateRenderer()}return this},addHook:function(b,c,d){return a.deprecated("Board.addHook()","Board.on()"),c=m.def(c,"update"),d=m.def(d,this),this.hooks.push([c,b]),this.on(c,b,d),this.hooks.length-1},addEvent:a.shortcut(a.Board.prototype,"on"),removeHook:function(b){return a.deprecated("Board.removeHook()","Board.off()"),this.hooks[b]&&(this.off(this.hooks[b][0],this.hooks[b][1]),this.hooks[b]=null),this},removeEvent:a.shortcut(a.Board.prototype,"off"),updateHooks:function(b){var c=Array.prototype.slice.call(arguments,0);return a.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),c[0]=m.def(c[0],"update"),this.triggerEventHandlers([c[0]],arguments),this},addChild:function(a){return m.exists(a)&&m.exists(a.containerObj)&&(this.dependentBoards.push(a),this.update()),this},removeChild:function(a){var b;for(b=this.dependentBoards.length-1;b>=0;b--)this.dependentBoards[b]===a&&this.dependentBoards.splice(b,1);return this},update:function(a){var b,c,d,e;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,"all"===this.attr.minimizereflow&&this.containerObj&&"vml"!==this.renderer.type&&(e=this.renderer.removeToInsertLater(this.containerObj)),"svg"===this.attr.minimizereflow&&"svg"===this.renderer.type&&(e=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(a).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),e&&e(),c=this.dependentBoards.length,b=0;c>b;b++)d=this.dependentBoards[b],m.exists(d)&&d!==this&&(d.updateQuality=this.updateQuality,d.prepareUpdate().updateElements().updateConditions(),d.renderer.suspendRedraw(),d.updateRenderer(),d.renderer.unsuspendRedraw(),d.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var a;for(a=0;a<this.grids.length;a++)this.removeObject(this.grids[a]);return this.grids.length=0,this.update(),this},create:function(b,c,d){var e,f;for(b=b.toLowerCase(),m.exists(c)||(c=[]),m.exists(d)||(d={}),f=0;f<c.length;f++)"string"!=typeof c[f]||"text"===b&&2===f||(c[f]=this.select(c[f]));if("function"!=typeof a.elements[b])throw new Error("JSXGraph: create: Unknown element type given: "+b);return e=a.elements[b](this,c,d),m.exists(e)?(e.prepareUpdate&&e.update&&e.updateRenderer&&e.prepareUpdate().update().updateRenderer(),e):(a.debug("JSXGraph: create: failure creating "+b),e)},createElement:function(){a.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var a;for(a=0;a<this.objectsList.length;a++)this.objectsList[a].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.update()),this},setBoundingBox:function(a,b){var c,d,e=o.getDimensions(this.container,this.document);return m.isArray(a)?(this.plainBB=a,this.canvasWidth=parseInt(e.width,10),this.canvasHeight=parseInt(e.height,10),d=this.canvasWidth,c=this.canvasHeight,b?(this.unitX=d/(a[2]-a[0]),this.unitY=c/(a[1]-a[3]),Math.abs(this.unitX)<Math.abs(this.unitY)?this.unitY=Math.abs(this.unitX)*this.unitY/Math.abs(this.unitY):this.unitX=Math.abs(this.unitY)*this.unitX/Math.abs(this.unitX),this.keepaspectratio=!0):(this.unitX=d/(a[2]-a[0]),this.unitY=c/(a[1]-a[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*a[0],this.unitY*a[1]),this):this},getBoundingBox:function(){var a=new c(b.COORDS_BY_SCREEN,[0,0],this),d=new c(b.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this);return[a.usrCoords[1],a.usrCoords[2],d.usrCoords[1],d.usrCoords[2]]},addAnimation:function(a){var b=this;return this.animationObjects[a.id]=a,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval(function(){b.animate()},a.board.attr.animationdelay)),this},stopAllAnimation:function(){var a;for(a in this.animationObjects)this.animationObjects.hasOwnProperty(a)&&m.exists(this.animationObjects[a])&&(this.animationObjects[a]=null,delete this.animationObjects[a]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var a,c,d,e,f,g,h,i,j=0,k=null;for(c in this.animationObjects)if(this.animationObjects.hasOwnProperty(c)&&m.exists(this.animationObjects[c])){if(j+=1,d=this.animationObjects[c],d.animationPath&&(e=m.isFunction(d.animationPath)?d.animationPath((new Date).getTime()-d.animationStart):d.animationPath.pop(),!m.exists(e)||!m.isArray(e)&&isNaN(e)?delete d.animationPath:(d.setPositionDirectly(b.COORDS_BY_USER,e),d.prepareUpdate().update().updateRenderer(),k=d)),d.animationData){h=0;for(f in d.animationData)d.animationData.hasOwnProperty(f)&&(g=d.animationData[f].pop(),m.exists(g)?(h+=1,a={},a[f]=g,d.setAttribute(a)):delete d.animationData[g]);0===h&&delete d.animationData}m.exists(d.animationData)||m.exists(d.animationPath)||(this.animationObjects[c]=null,delete this.animationObjects[c],m.exists(d.animationCallback)&&(i=d.animationCallback,d.animationCallback=null,i()))}return 0===j?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(k),this},migratePoint:function(b,c,d){var e,f,g,h,i,j,k=!1;b=this.select(b),c=this.select(c),a.exists(b.label)&&(j=b.label.id,k=!0,this.removeObject(b.label));for(f in b.childElements)if(b.childElements.hasOwnProperty(f)){e=b.childElements[f],h=!1;for(g in e)e.hasOwnProperty(g)&&e[g]===b&&(e[g]=c,h=!0);for(h&&delete b.childElements[f],i=0;i<e.parents.length;i++)e.parents[i]===b.id&&(e.parents[i]=c.id);c.addChild(e)}return d&&(k&&(delete c.childElements[j],delete c.descendants[j]),c.label&&this.removeObject(c.label),delete this.elementsByName[c.name],c.name=b.name,k&&c.createLabel()),this.removeObject(b),m.exists(c.name)&&""!==c.name&&(this.elementsByName[c.name]=c),this.prepareUpdate().update().updateRenderer(),this},emulateColorblindness:function(b){var c,d;if(m.exists(b)||(b="none"),this.currentCBDef===b)return this;for(c in this.objects)this.objects.hasOwnProperty(c)&&(d=this.objects[c],"none"!==b?("none"===this.currentCBDef&&(d.visPropOriginal={strokecolor:d.visProp.strokecolor,fillcolor:d.visProp.fillcolor,highlightstrokecolor:d.visProp.highlightstrokecolor,highlightfillcolor:d.visProp.highlightfillcolor}),d.setAttribute({strokecolor:l.rgb2cb(d.visPropOriginal.strokecolor,b),fillcolor:l.rgb2cb(d.visPropOriginal.fillcolor,b),highlightstrokecolor:l.rgb2cb(d.visPropOriginal.highlightstrokecolor,b),highlightfillcolor:l.rgb2cb(d.visPropOriginal.highlightfillcolor,b)})):m.exists(d.visPropOriginal)&&a.extend(d.visProp,d.visPropOriginal));return this.currentCBDef=b,this.update(),this},select:function(b){var c,d,e,f,g=b;if(null===g)return g;if("string"==typeof g&&""!==g)m.exists(this.objects[g])?g=this.objects[g]:m.exists(this.elementsByName[g])?g=this.elementsByName[g]:m.exists(this.groups[g])&&(g=this.groups[g]);else if("function"==typeof g||"object"==typeof g&&!a.isArray(g)&&"function"!=typeof g.setAttribute){for(c=m.filterElements(this.objectsList,g),d={},f=c.length,e=0;f>e;e++)d[c[e].id]=c[e];g=new u(d)}else"object"==typeof g&&a.exists(g.id)&&!a.exists(this.objects[g.id])&&(g=null);return g},hasPoint:function(b,c){var d=b,e=c,f=this.getBoundingBox();return a.exists(b)&&a.isArray(b.usrCoords)&&(d=b.usrCoords[1],e=b.usrCoords[2]),!!("number"==typeof d&&"number"==typeof e&&f[0]<d&&d<f[2]&&f[1]>e&&e>f[3])},updateCSSTransforms:function(){var a=this.containerObj,b=a,c=a;for(this.cssTransMat=o.getCSSTransformMatrix(b),b=b.offsetParent;b;){for(this.cssTransMat=f.matMatMult(o.getCSSTransformMatrix(b),this.cssTransMat),c=c.parentNode;c!==b;)this.cssTransMat=f.matMatMult(o.getCSSTransformMatrix(b),this.cssTransMat),c=c.parentNode;b=b.offsetParent}return this.cssTransMat=f.inverse(this.cssTransMat),this},__evt__down:function(a){},__evt__mousedown:function(a){},__evt__touchstart:function(a){},__evt__up:function(a){},__evt__mouseup:function(a){},__evt__touchend:function(a){},__evt__move:function(a,b){},__evt__mousemove:function(a,b){},__evt__touchmove:function(a,b){},__evt__hit:function(a,b,c){},__evt__mousehit:function(a,b,c){},__evt__update:function(){},__evt__boundingbox:function(){},__evt:function(){},createRoulette:function(a,b,c,d,f,g,i){var j=this,k=function(){var k,l=0,m=0,n=0,o=c,p=e.root(function(c){var d=a.X(o),e=a.Y(o),f=b.X(c),g=b.Y(c);return(d-f)*(d-f)+(e-g)*(e-g)},[0,2*Math.PI]),q=0,r=0,s=j.create("transform",[function(){return l}],{type:"rotate"}),t=j.create("transform",[function(){return l},function(){return a.X(o)},function(){return a.Y(o)}],{type:"rotate"}),u=j.create("transform",[function(){return m},function(){return n}],{type:"translate"}),v=function(a,b,c){var d=e.D(a.X)(b),f=e.D(a.Y)(b),g=e.D(a.X)(c),h=e.D(a.Y)(c),i=e.D(a.X)(.5*(b+c)),j=e.D(a.Y)(.5*(b+c)),k=Math.sqrt(d*d+f*f),l=Math.sqrt(g*g+h*h),m=Math.sqrt(i*i+j*j);return(k+4*m+l)*(c-b)/6},w=function(a){return k-v(b,p,a)},x=Math.PI/18,y=9*x,z=null;return this.rolling=function(){var c,g,z,A,B;q=o+f*d,k=v(a,o,q),r=e.root(w,p),c=new h(a.X(q),a.Y(q)),g=new h(b.X(r),b.Y(r)),z=new h(e.D(a.X)(q),e.D(a.Y)(q)),A=new h(e.D(b.X)(r),e.D(b.Y)(r)),B=h.C.div(z,A),l=Math.atan2(B.imaginary,B.real),B.div(h.C.abs(B)),B.mult(g),m=c.real-B.real,n=c.imaginary-B.imaginary,-x>l&&l>-y?(l=-x,t.applyOnce(i)):l>x&&y>l?(l=x,t.applyOnce(i)):(s.applyOnce(i),u.applyOnce(i),o=q,p=r),j.update()},this.start=function(){return g>0&&(z=window.setInterval(this.rolling,g)),this},this.stop=function(){return window.clearInterval(z),this},this};return new k}}),a.Board}),define("renderer/svg",["jxg","options","renderer/abstract","base/constants","utils/type","utils/env","utils/color","math/numerics"],function(a,b,c,d,e,f,g,h){"use strict";return a.SVGRenderer=function(a,c){var d;for(this.type="svg",this.isIE=-1!==navigator.appVersion.indexOf("MSIE")||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=a,this.container.style.MozUserSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.width=c.width+"px",this.svgRoot.style.height=c.height+"px",this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.filter=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),this.filter.setAttributeNS(null,"id",this.container.id+"_f1"),this.filter.setAttributeNS(null,"width","300%"),this.filter.setAttributeNS(null,"height","300%"),this.filter.setAttributeNS(null,"filterUnits","userSpaceOnUse"),this.feOffset=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),this.feOffset.setAttributeNS(null,"result","offOut"),this.feOffset.setAttributeNS(null,"in","SourceAlpha"),this.feOffset.setAttributeNS(null,"dx","5"),this.feOffset.setAttributeNS(null,"dy","5"),this.filter.appendChild(this.feOffset),this.feGaussianBlur=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),this.feGaussianBlur.setAttributeNS(null,"result","blurOut"),this.feGaussianBlur.setAttributeNS(null,"in","offOut"),this.feGaussianBlur.setAttributeNS(null,"stdDeviation","3"),this.filter.appendChild(this.feGaussianBlur),this.feBlend=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),this.feBlend.setAttributeNS(null,"in","SourceGraphic"),this.feBlend.setAttributeNS(null,"in2","blurOut"),this.feBlend.setAttributeNS(null,"mode","normal"),this.filter.appendChild(this.feBlend),this.defs.appendChild(this.filter),this.layer=[],d=0;d<b.layer.numlayers;d++)this.layer[d]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[d]);this.dashArray=["2, 2","5, 5","10, 10","20, 20","20, 10, 10, 10","20, 5, 10, 5"]},a.SVGRenderer.prototype=new c,a.extend(a.SVGRenderer.prototype,{_createArrowHead:function(a,b){var c,d,f,g,h=a.id+"Triangle";return e.exists(b)&&(h+=b),c=this.createPrim("marker",h),c.setAttributeNS(null,"stroke",e.evaluate(a.visProp.strokecolor)),c.setAttributeNS(null,"stroke-opacity",e.evaluate(a.visProp.strokeopacity)),c.setAttributeNS(null,"fill",e.evaluate(a.visProp.strokecolor)),c.setAttributeNS(null,"fill-opacity",e.evaluate(a.visProp.strokeopacity)),c.setAttributeNS(null,"stroke-width",0),c.setAttributeNS(null,"orient","auto"),c.setAttributeNS(null,"markerUnits","strokeWidth"),f=parseInt(a.visProp.strokewidth,10),c.setAttributeNS(null,"viewBox",-f+" "+-f+" "+10*f+" "+10*f),g=Math.max(3*f,10),c.setAttributeNS(null,"markerHeight",g),c.setAttributeNS(null,"markerWidth",g),d=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),"End"===b?(c.setAttributeNS(null,"refY",5),c.setAttributeNS(null,"refX",10),d.setAttributeNS(null,"d","M 10 0 L 0 5 L 10 10 z")):(c.setAttributeNS(null,"refY",5),c.setAttributeNS(null,"refX",0),d.setAttributeNS(null,"d","M 0 0 L 10 5 L 0 10 z")),c.appendChild(d),c},_setArrowAtts:function(a,b,c,d,e){var f,g;a&&(a.setAttributeNS(null,"stroke",b),a.setAttributeNS(null,"stroke-opacity",c),a.setAttributeNS(null,"fill",b),a.setAttributeNS(null,"fill-opacity",c),a.setAttributeNS(null,"stroke-width",0),f=d,a.setAttributeNS(null,"viewBox",-f+" "+-f+" "+10*f+" "+10*f),g=Math.max(3*f,10),a.setAttributeNS(null,"markerHeight",g),a.setAttributeNS(null,"markerWidth",g),this.isIE&&e.parentNode.insertBefore(e,e))},updateTicks:function(a){var b,c,d,f,g,h="",i=a.ticks.length;for(b=0;i>b;b++)c=a.ticks[b],f=c[0],g=c[1],"number"==typeof f[0]&&"number"==typeof f[1]&&(h+="M "+f[0]+" "+g[0]+" L "+f[1]+" "+g[1]+" ");d=a.rendNode,e.exists(d)||(d=this.createPrim("path",a.id),this.appendChildPrim(d,a.visProp.layer),a.rendNode=d),d.setAttributeNS(null,"stroke",a.visProp.strokecolor),d.setAttributeNS(null,"stroke-opacity",a.visProp.strokeopacity),d.setAttributeNS(null,"stroke-width",a.visProp.strokewidth),this.updatePathPrim(d,h,a.board)},displayCopyright:function(a,b){var c,d=this.createPrim("text","licenseText");d.setAttributeNS(null,"x","20px"),d.setAttributeNS(null,"y",2+b+"px"),d.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+b+"px; fill:#356AA0;  opacity:0.3;"),c=this.container.ownerDocument.createTextNode(a),d.appendChild(c),this.appendChildPrim(d,0)},drawInternalText:function(a){var b=this.createPrim("text",a.id);return b.setAttributeNS(null,"class",a.visProp.cssclass),b.setAttributeNS("http://www.w3.org/XML/1998/namespace","space","preserve"),a.rendNodeText=this.container.ownerDocument.createTextNode(""),b.appendChild(a.rendNodeText),this.appendChildPrim(b,a.visProp.layer),b},updateInternalText:function(a){var b,c=a.plaintext;isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])||(b=a.coords.scrCoords[1],a.visPropOld.left!==a.visProp.anchorx+b&&(a.rendNode.setAttributeNS(null,"x",b+"px"),"left"===a.visProp.anchorx?a.rendNode.setAttributeNS(null,"text-anchor","start"):"right"===a.visProp.anchorx?a.rendNode.setAttributeNS(null,"text-anchor","end"):"middle"===a.visProp.anchorx&&a.rendNode.setAttributeNS(null,"text-anchor","middle"),a.visPropOld.left=a.visProp.anchorx+b),b=a.coords.scrCoords[2],a.visPropOld.top!==a.visProp.anchory+b&&(a.rendNode.setAttributeNS(null,"y",b+.5*this.vOffsetText+"px"),"bottom"===a.visProp.anchory?a.rendNode.setAttributeNS(null,"dominant-baseline","text-after-edge"):"top"===a.visProp.anchory?a.rendNode.setAttributeNS(null,"dominant-baseline","text-before-edge"):"middle"===a.visProp.anchory&&a.rendNode.setAttributeNS(null,"dominant-baseline","middle"),a.visPropOld.top=a.visProp.anchory+b)),a.htmlStr!==c&&(a.rendNodeText.data=c,a.htmlStr=c),this.transformImage(a,a.transformations)},updateInternalTextStyle:function(a,b,c){this.setObjectFillColor(a,b,c)},drawImage:function(a){var b=this.createPrim("image",a.id);b.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(b,a.visProp.layer),a.rendNode=b,this.updateImage(a)},transformImage:function(a,b){var c,d,e=a.rendNode,f="",g=b.length;g>0&&(d=this.joinTransforms(a,b),c=[d[1][1],d[2][1],d[1][2],d[2][2],d[1][0],d[2][0]].join(","),f+=" matrix("+c+") ",e.setAttributeNS(null,"transform",f))},updateImageURL:function(a){var b=e.evaluate(a.url);a.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",b)},updateImageStyle:function(a,b){var c=b?a.visProp.highlightcssclass:a.visProp.cssclass;a.rendNode.setAttributeNS(null,"class",c)},appendChildPrim:function(a,c){return e.exists(c)?c>=b.layer.numlayers&&(c=b.layer.numlayers-1):c=0,this.layer[c].appendChild(a),a},createPrim:function(a,b){var c=this.container.ownerDocument.createElementNS(this.svgNamespace,a);return c.setAttributeNS(null,"id",this.container.id+"_"+b),c.style.position="absolute","path"===a&&(c.setAttributeNS(null,"stroke-linecap","round"),c.setAttributeNS(null,"stroke-linejoin","round")),c},remove:function(a){e.exists(a)&&e.exists(a.parentNode)&&a.parentNode.removeChild(a)},makeArrows:function(a){var b;return a.visPropOld.firstarrow===a.visProp.firstarrow&&a.visPropOld.lastarrow===a.visProp.lastarrow?void(this.isIE&&a.visProp.visible&&(a.visProp.firstarrow||a.visProp.lastarrow)&&a.rendNode.parentNode.insertBefore(a.rendNode,a.rendNode)):(a.visProp.firstarrow?(b=a.rendNodeTriangleStart,e.exists(b)?this.defs.appendChild(b):(b=this._createArrowHead(a,"End"),
this.defs.appendChild(b),a.rendNodeTriangleStart=b,a.rendNode.setAttributeNS(null,"marker-start","url(#"+this.container.id+"_"+a.id+"TriangleEnd)"))):(b=a.rendNodeTriangleStart,e.exists(b)&&this.remove(b)),a.visProp.lastarrow?(b=a.rendNodeTriangleEnd,e.exists(b)?this.defs.appendChild(b):(b=this._createArrowHead(a,"Start"),this.defs.appendChild(b),a.rendNodeTriangleEnd=b,a.rendNode.setAttributeNS(null,"marker-end","url(#"+this.container.id+"_"+a.id+"TriangleStart)"))):(b=a.rendNodeTriangleEnd,e.exists(b)&&this.remove(b)),a.visPropOld.firstarrow=a.visProp.firstarrow,void(a.visPropOld.lastarrow=a.visProp.lastarrow))},updateEllipsePrim:function(a,b,c,d,e){var f=1e6;b=Math.abs(b)<f?b:f*b/Math.abs(b),c=Math.abs(c)<f?c:f*c/Math.abs(c),d=Math.abs(d)<f?d:f*d/Math.abs(d),e=Math.abs(e)<f?e:f*e/Math.abs(e),a.setAttributeNS(null,"cx",b),a.setAttributeNS(null,"cy",c),a.setAttributeNS(null,"rx",Math.abs(d)),a.setAttributeNS(null,"ry",Math.abs(e))},updateLinePrim:function(a,b,c,d,e){var f=1e6;isNaN(b+c+d+e)||(b=Math.abs(b)<f?b:f*b/Math.abs(b),c=Math.abs(c)<f?c:f*c/Math.abs(c),d=Math.abs(d)<f?d:f*d/Math.abs(d),e=Math.abs(e)<f?e:f*e/Math.abs(e),a.setAttributeNS(null,"x1",b),a.setAttributeNS(null,"y1",c),a.setAttributeNS(null,"x2",d),a.setAttributeNS(null,"y2",e))},updatePathPrim:function(a,b){""===b&&(b="M 0 0"),a.setAttributeNS(null,"d",b)},updatePathStringPoint:function(a,b,c){var d="",e=a.coords.scrCoords,f=b*Math.sqrt(3)*.5,g=.5*b;return"x"===c?d=" M "+(e[1]-b)+" "+(e[2]-b)+" L "+(e[1]+b)+" "+(e[2]+b)+" M "+(e[1]+b)+" "+(e[2]-b)+" L "+(e[1]-b)+" "+(e[2]+b):"+"===c?d=" M "+(e[1]-b)+" "+e[2]+" L "+(e[1]+b)+" "+e[2]+" M "+e[1]+" "+(e[2]-b)+" L "+e[1]+" "+(e[2]+b):"<>"===c?d=" M "+(e[1]-b)+" "+e[2]+" L "+e[1]+" "+(e[2]+b)+" L "+(e[1]+b)+" "+e[2]+" L "+e[1]+" "+(e[2]-b)+" Z ":"^"===c?d=" M "+e[1]+" "+(e[2]-b)+" L "+(e[1]-f)+" "+(e[2]+g)+" L "+(e[1]+f)+" "+(e[2]+g)+" Z ":"v"===c?d=" M "+e[1]+" "+(e[2]+b)+" L "+(e[1]-f)+" "+(e[2]-g)+" L "+(e[1]+f)+" "+(e[2]-g)+" Z ":">"===c?d=" M "+(e[1]+b)+" "+e[2]+" L "+(e[1]-g)+" "+(e[2]-f)+" L "+(e[1]-g)+" "+(e[2]+f)+" Z ":"<"===c&&(d=" M "+(e[1]-b)+" "+e[2]+" L "+(e[1]+g)+" "+(e[2]-f)+" L "+(e[1]+g)+" "+(e[2]+f)+" Z "),d},updatePathStringPrim:function(a){var b,c,d,e=" M ",f=" L ",g=" C ",h=e,i=5e3,j="";if(a.numberPoints<=0)return"";if(d=Math.min(a.points.length,a.numberPoints),1===a.bezierDegree)for(b=0;d>b;b++)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?h=e:(c[1]=Math.max(Math.min(c[1],i),-i),c[2]=Math.max(Math.min(c[2],i),-i),j+=h+c[1]+" "+c[2],h=f);else if(3===a.bezierDegree)for(b=0;d>b;)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?h=e:(j+=h+c[1]+" "+c[2],h===g&&(b+=1,c=a.points[b].scrCoords,j+=" "+c[1]+" "+c[2],b+=1,c=a.points[b].scrCoords,j+=" "+c[1]+" "+c[2]),h=g),b+=1;return j},updatePathStringBezierPrim:function(a){var b,c,d,e,f,g,i,j=" M ",k=" C ",l=j,m=5e3,n="",o=a.visProp.strokewidth,p="plot"!==a.visProp.curvetype;if(a.numberPoints<=0)return"";for(p&&a.board.options.curve.RDPsmoothing&&(a.points=h.RamerDouglasPeucker(a.points,.5)),i=Math.min(a.points.length,a.numberPoints),c=1;3>c;c++)for(l=j,b=0;i>b;b++)e=a.points[b].scrCoords,isNaN(e[1])||isNaN(e[2])?l=j:(e[1]=Math.max(Math.min(e[1],m),-m),e[2]=Math.max(Math.min(e[2],m),-m),l===j?n+=l+e[1]+" "+e[2]:(d=2*c,n+=[l,f+.333*(e[1]-f)+o*(d*Math.random()-c)," ",g+.333*(e[2]-g)+o*(d*Math.random()-c)," ",f+.666*(e[1]-f)+o*(d*Math.random()-c)," ",g+.666*(e[2]-g)+o*(d*Math.random()-c)," ",e[1]," ",e[2]].join("")),l=k,f=e[1],g=e[2]);return n},updatePolygonPrim:function(a,b){var c,d,e="",f=b.vertices.length;for(a.setAttributeNS(null,"stroke","none"),c=0;f-1>c;c++){if(!b.vertices[c].isReal)return void a.setAttributeNS(null,"points","");d=b.vertices[c].coords.scrCoords,e=e+d[1]+","+d[2],f-2>c&&(e+=" ")}-1===e.indexOf("NaN")&&a.setAttributeNS(null,"points",e)},updateRectPrim:function(a,b,c,d,e){a.setAttributeNS(null,"x",b),a.setAttributeNS(null,"y",c),a.setAttributeNS(null,"width",d),a.setAttributeNS(null,"height",e)},setPropertyPrim:function(a,b,c){"stroked"!==b&&a.setAttributeNS(null,b,c)},show:function(a){var b;a&&a.rendNode&&(b=a.rendNode,b.setAttributeNS(null,"display","inline"),b.style.visibility="inherit")},hide:function(a){var b;a&&a.rendNode&&(b=a.rendNode,b.setAttributeNS(null,"display","none"),b.style.visibility="hidden")},setBuffering:function(a,b){a.rendNode.setAttribute("buffered-rendering",b)},setDashStyle:function(a){var b=a.visProp.dash,c=a.rendNode;a.visProp.dash>0?c.setAttributeNS(null,"stroke-dasharray",this.dashArray[b-1]):c.hasAttributeNS(null,"stroke-dasharray")&&c.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(a){var b,c,d,f,g,h,i,j,k,l=a.rendNode;c=e.evaluate(a.visProp.fillopacity),c=c>0?c:0,b=e.evaluate(a.visProp.fillcolor),"linear"===a.visProp.gradient?(d=this.createPrim("linearGradient",a.id+"_gradient"),h="0%",i="100%",j="0%",k="0%",d.setAttributeNS(null,"x1",h),d.setAttributeNS(null,"x2",i),d.setAttributeNS(null,"y1",j),d.setAttributeNS(null,"y2",k),f=this.createPrim("stop",a.id+"_gradient1"),f.setAttributeNS(null,"offset","0%"),f.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+c),g=this.createPrim("stop",a.id+"_gradient2"),g.setAttributeNS(null,"offset","100%"),g.setAttributeNS(null,"style","stop-color:"+a.visProp.gradientsecondcolor+";stop-opacity:"+a.visProp.gradientsecondopacity),d.appendChild(f),d.appendChild(g),this.defs.appendChild(d),l.setAttributeNS(null,"style","fill:url(#"+this.container.id+"_"+a.id+"_gradient)"),a.gradNode1=f,a.gradNode2=g):"radial"===a.visProp.gradient?(d=this.createPrim("radialGradient",a.id+"_gradient"),d.setAttributeNS(null,"cx","50%"),d.setAttributeNS(null,"cy","50%"),d.setAttributeNS(null,"r","50%"),d.setAttributeNS(null,"fx",100*a.visProp.gradientpositionx+"%"),d.setAttributeNS(null,"fy",100*a.visProp.gradientpositiony+"%"),f=this.createPrim("stop",a.id+"_gradient1"),f.setAttributeNS(null,"offset","0%"),f.setAttributeNS(null,"style","stop-color:"+a.visProp.gradientsecondcolor+";stop-opacity:"+a.visProp.gradientsecondopacity),g=this.createPrim("stop",a.id+"_gradient2"),g.setAttributeNS(null,"offset","100%"),g.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+c),d.appendChild(f),d.appendChild(g),this.defs.appendChild(d),l.setAttributeNS(null,"style","fill:url(#"+this.container.id+"_"+a.id+"_gradient)"),a.gradNode1=f,a.gradNode2=g):l.removeAttributeNS(null,"style")},updateGradient:function(a){var b,c,d=a.gradNode1,f=a.gradNode2;e.exists(d)&&e.exists(f)&&(c=e.evaluate(a.visProp.fillopacity),c=c>0?c:0,b=e.evaluate(a.visProp.fillcolor),"linear"===a.visProp.gradient?(d.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+c),f.setAttributeNS(null,"style","stop-color:"+a.visProp.gradientsecondcolor+";stop-opacity:"+a.visProp.gradientsecondopacity)):"radial"===a.visProp.gradient&&(d.setAttributeNS(null,"style","stop-color:"+a.visProp.gradientsecondcolor+";stop-opacity:"+a.visProp.gradientsecondopacity),f.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+c)))},setObjectFillColor:function(b,c,d){var f,h,i,j,k=e.evaluate(c),l=e.evaluate(d);l=l>0?l:0,(b.visPropOld.fillcolor!==k||b.visPropOld.fillopacity!==l)&&(e.exists(k)&&k!==!1&&(9!==k.length?(h=k,j=l):(i=g.rgba2rgbo(k),h=i[0],j=l*i[1]),f=b.rendNode,"none"!==h?f.setAttributeNS(null,"fill",h):j=0,b.type===a.OBJECT_TYPE_IMAGE?f.setAttributeNS(null,"opacity",j):f.setAttributeNS(null,"fill-opacity",j),e.exists(b.visProp.gradient)&&this.updateGradient(b)),b.visPropOld.fillcolor=k,b.visPropOld.fillopacity=l)},setObjectStrokeColor:function(a,b,c){var f,h,i,j,k=e.evaluate(b),l=e.evaluate(c);l=l>0?l:0,(a.visPropOld.strokecolor!==k||a.visPropOld.strokeopacity!==l)&&(e.exists(k)&&k!==!1&&(9!==k.length?(f=k,i=l):(h=g.rgba2rgbo(k),f=h[0],i=l*h[1]),j=a.rendNode,a.elementClass===d.OBJECT_CLASS_TEXT?"html"===a.visProp.display?(j.style.color=f,j.style.opacity=i):(j.setAttributeNS(null,"style","fill:"+f),j.setAttributeNS(null,"style","fill-opacity:"+i)):(j.setAttributeNS(null,"stroke",f),j.setAttributeNS(null,"stroke-opacity",i)),a.type===d.OBJECT_TYPE_ARROW?this._setArrowAtts(a.rendNodeTriangle,f,i,a.visProp.strokewidth,a.rendNode):(a.elementClass===d.OBJECT_CLASS_CURVE||a.elementClass===d.OBJECT_CLASS_LINE)&&(a.visProp.firstarrow&&this._setArrowAtts(a.rendNodeTriangleStart,f,i,a.visProp.strokewidth,a.rendNode),a.visProp.lastarrow&&this._setArrowAtts(a.rendNodeTriangleEnd,f,i,a.visProp.strokewidth,a.rendNode))),a.visPropOld.strokecolor=k,a.visPropOld.strokeopacity=l)},setObjectStrokeWidth:function(a,b){var c,f=e.evaluate(b);isNaN(f)||a.visPropOld.strokewidth===f||(c=a.rendNode,this.setPropertyPrim(c,"stroked","true"),e.exists(f)&&(this.setPropertyPrim(c,"stroke-width",f+"px"),a.type===d.OBJECT_TYPE_ARROW?this._setArrowAtts(a.rendNodeTriangle,a.visProp.strokecolor,a.visProp.strokeopacity,f,a.rendNode):(a.elementClass===d.OBJECT_CLASS_CURVE||a.elementClass===d.OBJECT_CLASS_LINE)&&(a.visProp.firstarrow&&this._setArrowAtts(a.rendNodeTriangleStart,a.visProp.strokecolor,a.visProp.strokeopacity,f,a.rendNode),a.visProp.lastarrow&&this._setArrowAtts(a.rendNodeTriangleEnd,a.visProp.strokecolor,a.visProp.strokeopacity,f,a.rendNode))),a.visPropOld.strokewidth=f)},setShadow:function(a){a.visPropOld.shadow!==a.visProp.shadow&&(e.exists(a.rendNode)&&(a.visProp.shadow?a.rendNode.setAttributeNS(null,"filter","url(#"+this.container.id+"_f1)"):a.rendNode.removeAttributeNS(null,"filter")),a.visPropOld.shadow=a.visProp.shadow)},suspendRedraw:function(){},unsuspendRedraw:function(){},resize:function(a,b){this.svgRoot.style.width=parseFloat(a)+"px",this.svgRoot.style.height=parseFloat(b)+"px"},createTouchpoints:function(a){var b,c,d,e;for(this.touchpoints=[],b=0;a>b;b++)c="touchpoint1_"+b,e=this.createPrim("path",c),this.appendChildPrim(e,19),e.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(e),this.setPropertyPrim(e,"stroked","true"),this.setPropertyPrim(e,"stroke-width","1px"),e.setAttributeNS(null,"stroke","#000000"),e.setAttributeNS(null,"stroke-opacity",1),e.setAttributeNS(null,"display","none"),d="touchpoint2_"+b,e=this.createPrim("ellipse",d),this.appendChildPrim(e,19),this.updateEllipsePrim(e,0,0,0,0),this.touchpoints.push(e),this.setPropertyPrim(e,"stroked","true"),this.setPropertyPrim(e,"stroke-width","1px"),e.setAttributeNS(null,"stroke","#000000"),e.setAttributeNS(null,"stroke-opacity",1),e.setAttributeNS(null,"fill","#ffffff"),e.setAttributeNS(null,"fill-opacity",0),e.setAttributeNS(null,"display","none")},showTouchpoint:function(a){this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(this.touchpoints[2*a].setAttributeNS(null,"display","inline"),this.touchpoints[2*a+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(a){this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(this.touchpoints[2*a].setAttributeNS(null,"display","none"),this.touchpoints[2*a+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(a,b){var c,d,e=37;this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(c=b[0],d=b[1],this.touchpoints[2*a].setAttributeNS(null,"d","M "+(c-e)+" "+d+" L "+(c+e)+" "+d+" M "+c+" "+(d-e)+" L "+c+" "+(d+e)),this.updateEllipsePrim(this.touchpoints[2*a+1],b[0],b[1],25,25))}}),a.SVGRenderer}),define("renderer/vml",["jxg","renderer/abstract","base/constants","utils/type","utils/color","math/math","math/numerics"],function(a,b,c,d,e,f,g){"use strict";return a.VMLRenderer=function(b){this.type="vml",this.container=b,this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,d.exists(a.vmlStylesheet)||(b.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),a.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),a.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{b.ownerDocument.namespaces.jxgvml||b.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(a){return b.ownerDocument.createElement("<jxgvml:"+a+' class="jxgvml">')}}catch(c){this.createNode=function(a){return b.ownerDocument.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]},a.VMLRenderer.prototype=new b,a.extend(a.VMLRenderer.prototype,{_setAttr:function(b,c,d,e){try{8===this.container.ownerDocument.documentMode?b[c]=d:b.setAttribute(c,d,e)}catch(f){a.debug("_setAttr: "+c+" "+d+"<br>\n")}},updateTicks:function(a){var b,c,e,f,g,h=this.resolution,i=[];for(c=a.ticks.length,b=0;c>b;b++)e=a.ticks[b],f=e[0],g=e[1],"number"==typeof f[0]&&"number"==typeof f[1]&&i.push(" m "+Math.round(h*f[0])+", "+Math.round(h*g[0])+" l "+Math.round(h*f[1])+", "+Math.round(h*g[1])+" ");d.exists(a.rendNode)||(a.rendNode=this.createPrim("path",a.id),this.appendChildPrim(a.rendNode,a.visProp.layer)),this._setAttr(a.rendNode,"stroked","true"),this._setAttr(a.rendNode,"strokecolor",a.visProp.strokecolor,1),this._setAttr(a.rendNode,"strokeweight",a.visProp.strokewidth),this._setAttr(a.rendNodeStroke,"opacity",100*a.visProp.strokeopacity+"%"),this.updatePathPrim(a.rendNode,i,a.board)},displayCopyright:function(a,b){var c,d;c=this.createNode("textbox"),c.style.position="absolute",this._setAttr(c,"id",this.container.id+"_licenseText"),c.style.left=20,c.style.top=2,c.style.fontSize=b,c.style.color="#356AA0",c.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(c,"opacity","30%"),c.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",d=this.container.ownerDocument.createTextNode(a),c.appendChild(d),this.appendChildPrim(c,0)},drawInternalText:function(a){var b;return b=this.createNode("textbox"),b.style.position="absolute",a.rendNodeText=this.container.ownerDocument.createTextNode(""),b.appendChild(a.rendNodeText),this.appendChildPrim(b,9),b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",b},updateInternalText:function(a){var b,c,d,e,g,h,i=a.plaintext,j=this.joinTransforms(a,a.transformations),k=[0,0],l=a.rendNode,m=[];if(!isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])){for("right"===a.visProp.anchorx?k[0]=1:"middle"===a.visProp.anchorx&&(k[0]=.5),"bottom"===a.visProp.anchory?k[1]=1:"middle"===a.visProp.anchory&&(k[1]=.5),m[0]=f.matVecMult(j,[1,a.coords.scrCoords[1]-k[0]*a.size[0],a.coords.scrCoords[2]+(1-k[1])*a.size[1]+this.vOffsetText]),m[0][1]/=m[0][0],m[0][2]/=m[0][0],m[1]=f.matVecMult(j,[1,a.coords.scrCoords[1]+(1-k[0])*a.size[0],a.coords.scrCoords[2]+(1-k[1])*a.size[1]+this.vOffsetText]),m[1][1]/=m[1][0],m[1][2]/=m[1][0],m[2]=f.matVecMult(j,[1,a.coords.scrCoords[1]+(1-k[0])*a.size[0],a.coords.scrCoords[2]-k[1]*a.size[1]+this.vOffsetText]),m[2][1]/=m[2][0],m[2][2]/=m[2][0],m[3]=f.matVecMult(j,[1,a.coords.scrCoords[1]-k[0]*a.size[0],a.coords.scrCoords[2]-k[1]*a.size[1]+this.vOffsetText]),m[3][1]/=m[3][0],m[3][2]/=m[3][0],c=m[0][1],e=m[0][1],d=m[0][2],g=m[0][2],h=1;4>h;h++)c=Math.max(c,m[h][1]),e=Math.min(e,m[h][1]),d=Math.max(d,m[h][2]),g=Math.min(g,m[h][2]);b=1===k[0]?Math.floor(a.board.canvasWidth-c):Math.floor(e),a.visPropOld.left!==a.visProp.anchorx+b&&(1===k[0]?(a.rendNode.style.right=b+"px",a.rendNode.style.left="auto"):(a.rendNode.style.left=b+"px",a.rendNode.style.right="auto"),a.visPropOld.left=a.visProp.anchorx+b),b=1===k[1]?Math.floor(a.board.canvasHeight-d):Math.floor(g),a.visPropOld.top!==a.visProp.anchory+b&&(1===k[1]?(a.rendNode.style.bottom=b+"px",a.rendNode.style.top="auto"):(a.rendNode.style.top=b+"px",a.rendNode.style.bottom="auto"),a.visPropOld.top=a.visProp.anchory+b)}a.htmlStr!==i&&(a.rendNodeText.data=i,a.htmlStr=i),l.filters.item(0).M11=j[1][1],l.filters.item(0).M12=j[1][2],l.filters.item(0).M21=j[2][1],l.filters.item(0).M22=j[2][2],l.filters.item(0).enabled=!0},drawImage:function(a){var b;b=this.container.ownerDocument.createElement("img"),b.style.position="absolute",this._setAttr(b,"id",this.container.id+"_"+a.id),this.container.appendChild(b),this.appendChildPrim(b,a.visProp.layer),b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",a.rendNode=b,this.updateImage(a)},transformImage:function(a,b){var c,d,e,g,h,i,j=a.rendNode,k=[],l=b.length;if(l>0){for(c=this.joinTransforms(a,b),k[0]=f.matVecMult(c,a.coords.scrCoords),k[0][1]/=k[0][0],k[0][2]/=k[0][0],k[1]=f.matVecMult(c,[1,a.coords.scrCoords[1]+a.size[0],a.coords.scrCoords[2]]),k[1][1]/=k[1][0],k[1][2]/=k[1][0],k[2]=f.matVecMult(c,[1,a.coords.scrCoords[1]+a.size[0],a.coords.scrCoords[2]-a.size[1]]),k[2][1]/=k[2][0],k[2][2]/=k[2][0],k[3]=f.matVecMult(c,[1,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1]]),k[3][1]/=k[3][0],k[3][2]/=k[3][0],d=k[0][1],g=k[0][1],e=k[0][2],h=k[0][2],i=1;4>i;i++)d=Math.max(d,k[i][1]),g=Math.min(g,k[i][1]),e=Math.max(e,k[i][2]),h=Math.min(h,k[i][2]);j.style.left=Math.floor(g)+"px",j.style.top=Math.floor(h)+"px",j.filters.item(0).M11=c[1][1],j.filters.item(0).M12=c[1][2],j.filters.item(0).M21=c[2][1],j.filters.item(0).M22=c[2][2],j.filters.item(0).enabled=!0}},updateImageURL:function(a){var b=d.evaluate(a.url);this._setAttr(a.rendNode,"src",b)},appendChildPrim:function(a,b){return d.exists(b)||(b=0),a.style.zIndex=b,this.container.appendChild(a),a},appendNodesToElement:function(a,b){("shape"===b||"path"===b||"polygon"===b)&&(a.rendNodePath=this.getElementById(a.id+"_path")),a.rendNodeFill=this.getElementById(a.id+"_fill"),a.rendNodeStroke=this.getElementById(a.id+"_stroke"),a.rendNodeShadow=this.getElementById(a.id+"_shadow"),a.rendNode=this.getElementById(a.id)},createPrim:function(a,b){var c,d,e=this.createNode("fill"),f=this.createNode("stroke"),g=this.createNode("shadow");return this._setAttr(e,"id",this.container.id+"_"+b+"_fill"),this._setAttr(f,"id",this.container.id+"_"+b+"_stroke"),this._setAttr(g,"id",this.container.id+"_"+b+"_shadow"),"circle"===a||"ellipse"===a?(c=this.createNode("oval"),c.appendChild(e),c.appendChild(f),c.appendChild(g)):"polygon"===a||"path"===a||"shape"===a||"line"===a?(c=this.createNode("shape"),c.appendChild(e),c.appendChild(f),c.appendChild(g),d=this.createNode("path"),this._setAttr(d,"id",this.container.id+"_"+b+"_path"),c.appendChild(d)):(c=this.createNode(a),c.appendChild(e),c.appendChild(f),c.appendChild(g)),c.style.position="absolute",c.style.left="0px",c.style.top="0px",this._setAttr(c,"id",this.container.id+"_"+b),c},remove:function(a){d.exists(a)&&a.removeNode(!0)},makeArrows:function(a){var b;(a.visPropOld.firstarrow!==a.visProp.firstarrow||a.visPropOld.lastarrow!==a.visProp.lastarrow)&&(a.visProp.firstarrow?(b=a.rendNodeStroke,this._setAttr(b,"startarrow","block"),this._setAttr(b,"startarrowlength","long")):(b=a.rendNodeStroke,d.exists(b)&&this._setAttr(b,"startarrow","none")),a.visProp.lastarrow?(b=a.rendNodeStroke,this._setAttr(b,"id",this.container.id+"_"+a.id+"stroke"),this._setAttr(b,"endarrow","block"),this._setAttr(b,"endarrowlength","long")):(b=a.rendNodeStroke,d.exists(b)&&this._setAttr(b,"endarrow","none")),a.visPropOld.firstarrow=a.visProp.firstarrow,a.visPropOld.lastarrow=a.visProp.lastarrow)},updateEllipsePrim:function(a,b,c,d,e){a.style.left=Math.floor(b-d)+"px",a.style.top=Math.floor(c-e)+"px",a.style.width=Math.floor(2*Math.abs(d))+"px",a.style.height=Math.floor(2*Math.abs(e))+"px"},updateLinePrim:function(a,b,c,d,e,f){var g,h=this.resolution;isNaN(b+c+d+e)||(g=["m ",Math.floor(h*b),", ",Math.floor(h*c)," l ",Math.floor(h*d),", ",Math.floor(h*e)],this.updatePathPrim(a,g,f))},updatePathPrim:function(a,b,c){var d=c.canvasWidth,e=c.canvasHeight;b.length<=0&&(b=["m 0,0"]),a.style.width=d,a.style.height=e,this._setAttr(a,"coordsize",[Math.floor(this.resolution*d),Math.floor(this.resolution*e)].join(",")),this._setAttr(a,"path",b.join(""))},updatePathStringPoint:function(a,b,c){var d=[],e=Math.round,f=a.coords.scrCoords,g=b*Math.sqrt(3)*.5,h=.5*b,i=this.resolution;return"x"===c?d.push([" m ",e(i*(f[1]-b)),", ",e(i*(f[2]-b))," l ",e(i*(f[1]+b)),", ",e(i*(f[2]+b))," m ",e(i*(f[1]+b)),", ",e(i*(f[2]-b))," l ",e(i*(f[1]-b)),", ",e(i*(f[2]+b))].join("")):"+"===c?d.push([" m ",e(i*(f[1]-b)),", ",e(i*f[2])," l ",e(i*(f[1]+b)),", ",e(i*f[2])," m ",e(i*f[1]),", ",e(i*(f[2]-b))," l ",e(i*f[1]),", ",e(i*(f[2]+b))].join("")):"<>"===c?d.push([" m ",e(i*(f[1]-b)),", ",e(i*f[2])," l ",e(i*f[1]),", ",e(i*(f[2]+b))," l ",e(i*(f[1]+b)),", ",e(i*f[2])," l ",e(i*f[1]),", ",e(i*(f[2]-b))," x e "].join("")):"^"===c?d.push([" m ",e(i*f[1]),", ",e(i*(f[2]-b))," l ",e(i*(f[1]-g)),", ",e(i*(f[2]+h))," l ",e(i*(f[1]+g)),", ",e(i*(f[2]+h))," x e "].join("")):"v"===c?d.push([" m ",e(i*f[1]),", ",e(i*(f[2]+b))," l ",e(i*(f[1]-g)),", ",e(i*(f[2]-h))," l ",e(i*(f[1]+g)),", ",e(i*(f[2]-h))," x e "].join("")):">"===c?d.push([" m ",e(i*(f[1]+b)),", ",e(i*f[2])," l ",e(i*(f[1]-h)),", ",e(i*(f[2]-g))," l ",e(i*(f[1]-h)),", ",e(i*(f[2]+g))," l ",e(i*(f[1]+b)),", ",e(i*f[2])].join("")):"<"===c&&d.push([" m ",e(i*(f[1]-b)),", ",e(i*f[2])," l ",e(i*(f[1]+h)),", ",e(i*(f[2]-g))," l ",e(i*(f[1]+h)),", ",e(i*(f[2]+g))," x e "].join("")),d},updatePathStringPrim:function(a){var b,c,d=[],e=this.resolution,f=Math.round,g=" m ",h=" l ",i=" c ",j=g,k=Math.min(a.numberPoints,8192);if(a.numberPoints<=0)return"";if(k=Math.min(k,a.points.length),1===a.bezierDegree)for(b=0;k>b;b++)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?j=g:(c[1]>2e4?c[1]=2e4:c[1]<-2e4&&(c[1]=-2e4),c[2]>2e4?c[2]=2e4:c[2]<-2e4&&(c[2]=-2e4),d.push([j,f(e*c[1]),", ",f(e*c[2])].join("")),j=h);else if(3===a.bezierDegree)for(b=0;k>b;)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?j=g:(d.push([j,f(e*c[1]),", ",f(e*c[2])].join("")),j===i&&(b+=1,c=a.points[b].scrCoords,d.push([" ",f(e*c[1]),", ",f(e*c[2])].join("")),b+=1,c=a.points[b].scrCoords,d.push([" ",f(e*c[1]),", ",f(e*c[2])].join(""))),j=i),b+=1;return d.push(" e"),d},updatePathStringBezierPrim:function(a){var b,c,d,e,f,h,i=[],j=a.visProp.strokewidth,k=this.resolution,l=Math.round,m=" m ",n=" c ",o=m,p="plot"!==a.visProp.curvetype,q=Math.min(a.numberPoints,8192);if(a.numberPoints<=0)return"";for(p&&a.board.options.curve.RDPsmoothing&&(a.points=g.RamerDouglasPeucker(a.points,1)),q=Math.min(q,a.points.length),c=1;3>c;c++)for(o=m,b=0;q>b;b++)e=a.points[b].scrCoords,isNaN(e[1])||isNaN(e[2])?o=m:(e[1]>2e4?e[1]=2e4:e[1]<-2e4&&(e[1]=-2e4),e[2]>2e4?e[2]=2e4:e[2]<-2e4&&(e[2]=-2e4),o===m?i.push([o,l(k*e[1])," ",l(k*e[2])].join("")):(d=2*c,i.push([o,l(k*(f+.333*(e[1]-f)+j*(d*Math.random()-c)))," ",l(k*(h+.333*(e[2]-h)+j*(d*Math.random()-c)))," ",l(k*(f+.666*(e[1]-f)+j*(d*Math.random()-c)))," ",l(k*(h+.666*(e[2]-h)+j*(d*Math.random()-c)))," ",l(k*e[1])," ",l(k*e[2])].join(""))),o=n,f=e[1],h=e[2]);return i.push(" e"),i},updatePolygonPrim:function(a,b){var c,d,e=b.vertices.length,f=this.resolution,g=[];if(this._setAttr(a,"stroked","false"),d=b.vertices[0].coords.scrCoords,!isNaN(d[1]+d[2])){for(g.push(["m ",Math.floor(f*d[1]),",",Math.floor(f*d[2])," l "].join("")),c=1;e-1>c;c++){if(!b.vertices[c].isReal)return void this.updatePathPrim(a,"",b.board);if(d=b.vertices[c].coords.scrCoords,isNaN(d[1]+d[2]))return;g.push(Math.floor(f*d[1])+","+Math.floor(f*d[2])),e-2>c&&g.push(", ")}g.push(" x e"),this.updatePathPrim(a,g,b.board)}},updateRectPrim:function(a,b,c,d,e){a.style.left=Math.floor(b)+"px",a.style.top=Math.floor(c)+"px",d>=0&&(a.style.width=d+"px"),e>=0&&(a.style.height=e+"px")},setPropertyPrim:function(a,b,c){var e,f="";switch(b){case"stroke":f="strokecolor";break;case"stroke-width":f="strokeweight";break;case"stroke-dasharray":f="dashstyle"}""!==f&&(e=d.evaluate(c),this._setAttr(a,f,e))},show:function(a){a&&a.rendNode&&(a.rendNode.style.visibility="inherit")},hide:function(a){a&&a.rendNode&&(a.rendNode.style.visibility="hidden")},setDashStyle:function(a,b){var c;b.dash>=0&&(c=a.rendNodeStroke,this._setAttr(c,"dashstyle",this.dashArray[b.dash]))},setGradient:function(a){var b=a.rendNodeFill;"linear"===a.visProp.gradient?(this._setAttr(b,"type","gradient"),this._setAttr(b,"color2",a.visProp.gradientsecondcolor),this._setAttr(b,"opacity2",a.visProp.gradientsecondopacity),this._setAttr(b,"angle",a.visProp.gradientangle)):"radial"===a.visProp.gradient?(this._setAttr(b,"type","gradientradial"),this._setAttr(b,"color2",a.visProp.gradientsecondcolor),this._setAttr(b,"opacity2",a.visProp.gradientsecondopacity),this._setAttr(b,"focusposition",100*a.visProp.gradientpositionx+"%,"+100*a.visProp.gradientpositiony+"%"),this._setAttr(b,"focussize","0,0")):this._setAttr(b,"type","solid")},setObjectFillColor:function(a,b,f){var g,h,i,j=d.evaluate(b),k=d.evaluate(f),l=a.rendNode;k=k>0?k:0,(a.visPropOld.fillcolor!==j||a.visPropOld.fillopacity!==k)&&(d.exists(j)&&j!==!1&&(9!==j.length?(g=j,i=k):(h=e.rgba2rgbo(j),g=h[0],i=k*h[1]),"none"===g||g===!1?this._setAttr(a.rendNode,"filled","false"):(this._setAttr(a.rendNode,"filled","true"),this._setAttr(a.rendNode,"fillcolor",g),d.exists(i)&&a.rendNodeFill&&this._setAttr(a.rendNodeFill,"opacity",100*i+"%")),a.type===c.OBJECT_TYPE_IMAGE&&l.filters.length>1&&(l.filters.item(1).opacity=Math.round(100*i),l.filters.item(1).enabled=!0)),a.visPropOld.fillcolor=j,a.visPropOld.fillopacity=k)},setObjectStrokeColor:function(a,b,e){var f,g,h,i,j=d.evaluate(b),k=d.evaluate(e),l=a.rendNode;k=k>0?k:0,(a.visPropOld.strokecolor!==j||a.visPropOld.strokeopacity!==k)&&(d.exists(j)&&j!==!1&&(9!==j.length?(f=j,h=k):(g=b.rgba2rgbo(j),f=g[0],h=k*g[1]),a.elementClass===c.OBJECT_CLASS_TEXT?(l.filters.length>1&&(l.filters.item(1).opacity=Math.round(100*h),l.filters.item(1).enabled=!0),l.style.color=f):(f!==!1&&(this._setAttr(l,"stroked","true"),this._setAttr(l,"strokecolor",f)),i=a.rendNodeStroke,d.exists(h)&&a.type!==c.OBJECT_TYPE_IMAGE&&this._setAttr(i,"opacity",100*h+"%"))),a.visPropOld.strokecolor=j,a.visPropOld.strokeopacity=k)},setObjectStrokeWidth:function(a,b){var c,e=d.evaluate(b);isNaN(e)||a.visPropOld.strokewidth===e||(c=a.rendNode,this.setPropertyPrim(c,"stroked","true"),d.exists(e)&&(this.setPropertyPrim(c,"stroke-width",e),0===e&&d.exists(a.rendNodeStroke)&&this._setAttr(c,"stroked","false")),a.visPropOld.strokewidth=e)},setShadow:function(a){var b=a.rendNodeShadow;b&&a.visPropOld.shadow!==a.visProp.shadow&&(a.visProp.shadow?(this._setAttr(b,"On","True"),this._setAttr(b,"Offset","3pt,3pt"),this._setAttr(b,"Opacity","60%"),this._setAttr(b,"Color","#aaaaaa")):this._setAttr(b,"On","False"),a.visPropOld.shadow=a.visProp.shadow)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}}),a.VMLRenderer}),define("renderer/canvas",["jxg","renderer/abstract","base/constants","utils/env","utils/type","utils/uuid","utils/color","base/coords","math/math","math/geometry","math/numerics"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";return a.CanvasRenderer=function(a,b){this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=f.genUUID(),this.canvasNamespace=null,d.isBrowser?(this.container=a,this.container.style.MozUserSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',b.width,'px" height="',b.height,'px"><',"/canvas>"].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.context=this.canvasRoot.getContext("2d")):d.isNode()&&(this.canvasId="object"==typeof module?module.require("canvas"):require("canvas"),this.canvasRoot=new this.canvasId(500,500),this.context=this.canvasRoot.getContext("2d")),this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5]]},a.CanvasRenderer.prototype=new b,a.extend(a.CanvasRenderer.prototype,{_drawFilledPolygon:function(a){var b,c=a.length,d=this.context;if(c>0){for(d.beginPath(),d.moveTo(a[0][0],a[0][1]),b=0;c>b;b++)b>0&&d.lineTo(a[b][0],a[b][1]);d.lineTo(a[0][0],a[0][1]),d.fill()}},_fill:function(a){var b=this.context;b.save(),this._setColor(a,"fill")&&b.fill(),b.restore()},_rotatePoint:function(a,b,c){return[b*Math.cos(a)-c*Math.sin(a),b*Math.sin(a)+c*Math.cos(a)]},_rotateShape:function(a,b){var c,d=[],e=a.length;if(0>=e)return a;for(c=0;e>c;c++)d.push(this._rotatePoint(b,a[c][0],a[c][1]));return d},_setColor:function(a,b,c){var d,f,h,i,j,k,l=!0,m=!1,n=a.visProp;return b=b||"stroke",c=c||b,e.exists(a.board)&&e.exists(a.board.highlightedObjects)||(m=!0),d=!m&&e.exists(a.board.highlightedObjects[a.id])?"highlight":"",f=e.evaluate(n[d+b+"color"]),"none"!==f&&f!==!1?(j=e.evaluate(n[d+b+"opacity"]),j=j>0?j:0,9!==f.length?(i=f,k=j):(h=g.rgba2rgbo(f),i=h[0],k=j*h[1]),this.context.globalAlpha=k,this.context[c+"Style"]=i):l=!1,"stroke"!==b||isNaN(parseFloat(n.strokewidth))||(0===parseFloat(n.strokewidth)?this.context.globalAlpha=0:this.context.lineWidth=parseFloat(n.strokewidth)),l},_stroke:function(a){var b=this.context;b.save(),a.visProp.dash>0?b.setLineDash&&b.setLineDash(this.dashArray[a.visProp.dash]):this.context.lineDashArray=[],this._setColor(a,"stroke")&&b.stroke(),b.restore()},_translateShape:function(a,b,c){var d,e=[],f=a.length;if(0>=f)return a;for(d=0;f>d;d++)e.push([a[d][0]+b,a[d][1]+c]);return e},drawPoint:function(a){var b=a.visProp.face,c=a.visProp.size,d=a.coords.scrCoords,e=c*Math.sqrt(3)*.5,f=.5*c,g=parseFloat(a.visProp.strokewidth)/2,h=this.context;if(a.visProp.visible)switch(b){case"cross":case"x":h.beginPath(),h.moveTo(d[1]-c,d[2]-c),h.lineTo(d[1]+c,d[2]+c),h.moveTo(d[1]+c,d[2]-c),h.lineTo(d[1]-c,d[2]+c),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"circle":case"o":h.beginPath(),h.arc(d[1],d[2],c+1+g,0,2*Math.PI,!1),h.closePath(),this._fill(a),this._stroke(a);break;case"square":case"[]":if(0>=c)break;h.save(),this._setColor(a,"stroke","fill")&&h.fillRect(d[1]-c-g,d[2]-c-g,2*c+3*g,2*c+3*g),h.restore(),h.save(),this._setColor(a,"fill"),h.fillRect(d[1]-c+g,d[2]-c+g,2*c-g,2*c-g),h.restore();break;case"plus":case"+":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1]+c,d[2]),h.moveTo(d[1],d[2]-c),h.lineTo(d[1],d[2]+c),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"diamond":case"<>":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1],d[2]+c),h.lineTo(d[1]+c,d[2]),h.lineTo(d[1],d[2]-c),h.closePath(),this._fill(a),this._stroke(a);break;case"triangleup":case"a":case"^":h.beginPath(),h.moveTo(d[1],d[2]-c),h.lineTo(d[1]-e,d[2]+f),h.lineTo(d[1]+e,d[2]+f),h.closePath(),this._fill(a),this._stroke(a);break;case"triangledown":case"v":h.beginPath(),h.moveTo(d[1],d[2]+c),h.lineTo(d[1]-e,d[2]-f),h.lineTo(d[1]+e,d[2]-f),h.closePath(),this._fill(a),this._stroke(a);break;case"triangleleft":case"<":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1]+f,d[2]-e),h.lineTo(d[1]+f,d[2]+e),h.closePath(),this.fill(a),this._stroke(a);break;case"triangleright":case">":h.beginPath(),h.moveTo(d[1]+c,d[2]),h.lineTo(d[1]-f,d[2]-e),h.lineTo(d[1]-f,d[2]+e),h.closePath(),this._fill(a),this._stroke(a)}},updatePoint:function(a){this.drawPoint(a)},drawLine:function(a){var b,d,e,f,g,k,l=new h(c.COORDS_BY_USER,a.point1.coords.usrCoords,a.board),m=new h(c.COORDS_BY_USER,a.point2.coords.usrCoords,a.board),n=null;a.visProp.visible&&((a.visProp.firstarrow||a.visProp.lastarrow)&&(n=-4),j.calcStraight(a,l,m,n),e=f=g=k=0,b=Math.max(3*parseInt(a.visProp.strokewidth,10),10),a.visProp.lastarrow&&(d=l.distance(c.COORDS_BY_SCREEN,m),d>i.eps&&(g=(m.scrCoords[1]-l.scrCoords[1])*b/d,k=(m.scrCoords[2]-l.scrCoords[2])*b/d)),a.visProp.firstarrow&&(d=l.distance(c.COORDS_BY_SCREEN,m),d>i.eps&&(e=(m.scrCoords[1]-l.scrCoords[1])*b/d,f=(m.scrCoords[2]-l.scrCoords[2])*b/d)),this.context.beginPath(),this.context.moveTo(l.scrCoords[1]+e,l.scrCoords[2]+f),this.context.lineTo(m.scrCoords[1]-g,m.scrCoords[2]-k),this._stroke(a),this.makeArrows(a,l,m))},updateLine:function(a){this.drawLine(a)},drawTicks:function(){},updateTicks:function(a){var b,c,d,e,f=a.ticks.length,g=this.context;
for(g.beginPath(),b=0;f>b;b++)c=a.ticks[b],d=c[0],e=c[1],g.moveTo(d[0],e[0]),g.lineTo(d[1],e[1]);for(b=0;f>b;b++)c=a.ticks[b].scrCoords,a.ticks[b].major&&(a.board.needsFullUpdate||a.needsRegularUpdate)&&a.labels[b]&&a.labels[b].visProp.visible&&this.updateText(a.labels[b]);g.lineCap="round",this._stroke(a)},drawCurve:function(a){a.visProp.handdrawing?this.updatePathStringBezierPrim(a):this.updatePathStringPrim(a)},updateCurve:function(a){this.drawCurve(a)},drawEllipse:function(a){var b=a.center.coords.scrCoords[1],c=a.center.coords.scrCoords[2],d=a.board.unitX,e=a.board.unitY,f=2*a.Radius(),g=2*a.Radius(),h=f*d,i=g*e,j=b-h/2,k=c-i/2,l=h/2*.5522848,m=i/2*.5522848,n=j+h,o=k+i,p=j+h/2,q=k+i/2,r=this.context;f>0&&g>0&&!isNaN(b+c)&&(r.beginPath(),r.moveTo(j,q),r.bezierCurveTo(j,q-m,p-l,k,p,k),r.bezierCurveTo(p+l,k,n,q-m,n,q),r.bezierCurveTo(n,q+m,p+l,o,p,o),r.bezierCurveTo(p-l,o,j,q+m,j,q),r.closePath(),this._fill(a),this._stroke(a))},updateEllipse:function(a){return this.drawEllipse(a)},displayCopyright:function(a,b){var c=this.context;c.save(),c.font=b+"px Arial",c.fillStyle="#aaa",c.lineWidth=.5,c.fillText(a,10,2+b),c.restore()},drawInternalText:function(a){var b,c=this.context;return c.save(),this._setColor(a,"stroke","fill")&&!isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])&&(a.visProp.fontsize&&("function"==typeof a.visProp.fontsize?(b=a.visProp.fontsize(),c.font=(b>0?b:0)+"px Arial"):c.font=a.visProp.fontsize+"px Arial"),this.transformImage(a,a.transformations),"left"===a.visProp.anchorx?c.textAlign="left":"right"===a.visProp.anchorx?c.textAlign="right":"middle"===a.visProp.anchorx&&(c.textAlign="center"),"bottom"===a.visProp.anchory?c.textBaseline="bottom":"top"===a.visProp.anchory?c.textBaseline="top":"middle"===a.visProp.anchory&&(c.textBaseline="middle"),c.fillText(a.plaintext,a.coords.scrCoords[1],a.coords.scrCoords[2])),c.restore(),null},updateInternalText:function(a){this.drawInternalText(a)},setObjectStrokeColor:function(a,b,d){var f,h,i,j,k=e.evaluate(b),l=e.evaluate(d);l=l>0?l:0,(a.visPropOld.strokecolor!==k||a.visPropOld.strokeopacity!==l)&&(e.exists(k)&&k!==!1&&(9!==k.length?(f=k,i=l):(h=g.rgba2rgbo(k),f=h[0],i=l*h[1]),j=a.rendNode,a.elementClass===c.OBJECT_CLASS_TEXT&&"html"===a.visProp.display&&(j.style.color=f,j.style.opacity=i)),a.visPropOld.strokecolor=k,a.visPropOld.strokeopacity=l)},drawImage:function(a){a.rendNode=new Image,a._src="",this.updateImage(a)},updateImage:function(a){var b=this.context,c=e.evaluate(a.visProp.fillopacity),d=e.bind(function(){a.imgIsLoaded=!0,a.size[0]<=0||a.size[1]<=0||(b.save(),b.globalAlpha=c,this.transformImage(a,a.transformations),b.drawImage(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1],a.size[0],a.size[1]),b.restore())},this);this.updateImageURL(a)?a.rendNode.onload=d:a.imgIsLoaded&&d()},transformImage:function(a,b){var c,d=b.length,e=this.context;d>0&&(c=this.joinTransforms(a,b),Math.abs(k.det(c))>=i.eps&&e.transform(c[1][1],c[2][1],c[1][2],c[2][2],c[1][0],c[2][0]))},updateImageURL:function(a){var b;return b=e.evaluate(a.url),a._src!==b?(a.imgIsLoaded=!1,a.rendNode.src=b,a._src=b,!0):!1},remove:function(a){e.exists(a)&&e.exists(a.parentNode)&&a.parentNode.removeChild(a)},makeArrows:function(a,b,d){var e,f,g,h,i,j=Math.max(3*a.visProp.strokewidth,10),k=[[-j,.5*-j],[0,0],[-j,.5*j]],l=[[j,.5*-j],[0,0],[j,.5*j]],m=this.context;if("none"!==a.visProp.strokecolor&&(a.visProp.lastarrow||a.visProp.firstarrow)){if(a.elementClass!==c.OBJECT_CLASS_LINE)return;e=b.scrCoords[1],f=b.scrCoords[2],g=d.scrCoords[1],h=d.scrCoords[2],m.save(),this._setColor(a,"stroke","fill")&&(i=Math.atan2(h-f,g-e),a.visProp.lastarrow&&this._drawFilledPolygon(this._translateShape(this._rotateShape(k,i),g,h)),a.visProp.firstarrow&&this._drawFilledPolygon(this._translateShape(this._rotateShape(l,i),e,f))),m.restore()}},updatePathStringPrim:function(a){var b,c,d,e,f,g="M",h="L",i="C",j=g,k=5e3,l=this.context;if(!(a.numberPoints<=0)){if(f=Math.min(a.points.length,a.numberPoints),l.beginPath(),1===a.bezierDegree)for(b=0;f>b;b++)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?j=g:(c[1]>k?c[1]=k:c[1]<-k&&(c[1]=-k),c[2]>k?c[2]=k:c[2]<-k&&(c[2]=-k),j===g?l.moveTo(c[1],c[2]):l.lineTo(c[1],c[2]),j=h);else if(3===a.bezierDegree)for(b=0;f>b;)c=a.points[b].scrCoords,isNaN(c[1])||isNaN(c[2])?j=g:(j===g?l.moveTo(c[1],c[2]):(b+=1,d=a.points[b].scrCoords,b+=1,e=a.points[b].scrCoords,l.bezierCurveTo(c[1],c[2],d[1],d[2],e[1],e[2])),j=i),b+=1;l.lineCap="round",this._fill(a),this._stroke(a)}},updatePathStringBezierPrim:function(a){var b,c,d,e,f,g,h,i="M",j="C",l=i,m=5e3,n=a.visProp.strokewidth,o="plot"!==a.visProp.curvetype,p=this.context;if(!(a.numberPoints<=0)){for(o&&a.board.options.curve.RDPsmoothing&&(a.points=k.RamerDouglasPeucker(a.points,.5)),h=Math.min(a.points.length,a.numberPoints),p.beginPath(),c=1;3>c;c++)for(l=i,b=0;h>b;b++)e=a.points[b].scrCoords,isNaN(e[1])||isNaN(e[2])?l=i:(e[1]>m?e[1]=m:e[1]<-m&&(e[1]=-m),e[2]>m?e[2]=m:e[2]<-m&&(e[2]=-m),l===i?p.moveTo(e[1],e[2]):(d=2*c,p.bezierCurveTo(f+.333*(e[1]-f)+n*(d*Math.random()-c),g+.333*(e[2]-g)+n*(d*Math.random()-c),f+.666*(e[1]-f)+n*(d*Math.random()-c),g+.666*(e[2]-g)+n*(d*Math.random()-c),e[1],e[2])),l=j,f=e[1],g=e[2]);p.lineCap="round",this._fill(a),this._stroke(a)}},updatePolygonPrim:function(a,b){var c,d,e,f=b.vertices.length,g=this.context,h=!0;if(!(0>=f)&&b.visProp.visible){for(g.beginPath(),d=0;!b.vertices[d].isReal&&f-1>d;)d++,h=!1;for(c=b.vertices[d].coords.scrCoords,g.moveTo(c[1],c[2]),e=d;f-1>e;e++)b.vertices[e].isReal||(h=!1),c=b.vertices[e].coords.scrCoords,g.lineTo(c[1],c[2]);g.closePath(),h&&this._fill(b)}},show:function(a){e.exists(a.rendNode)&&(a.rendNode.style.visibility="inherit")},hide:function(a){e.exists(a.rendNode)&&(a.rendNode.style.visibility="hidden")},setGradient:function(a){var b,c;c=e.evaluate(a.visProp.fillopacity),c=c>0?c:0,b=e.evaluate(a.visProp.fillcolor)},setShadow:function(a){a.visPropOld.shadow!==a.visProp.shadow&&(a.visPropOld.shadow=a.visProp.shadow)},highlight:function(a){return a.elementClass===c.OBJECT_CLASS_TEXT&&"html"===a.visProp.display?this.updateTextStyle(a,!0):(a.board.prepareUpdate(),a.board.renderer.suspendRedraw(a.board),a.board.updateRenderer(),a.board.renderer.unsuspendRedraw()),this},noHighlight:function(a){return a.elementClass===c.OBJECT_CLASS_TEXT&&"html"===a.visProp.display?this.updateTextStyle(a,!1):(a.board.prepareUpdate(),a.board.renderer.suspendRedraw(a.board),a.board.updateRenderer(),a.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(b){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),b&&b.showCopyright&&this.displayCopyright(a.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(a,b){this.container?(this.canvasRoot.style.width=parseFloat(a)+"px",this.canvasRoot.style.height=parseFloat(b)+"px",this.canvasRoot.setAttribute("width",parseFloat(a)+"px"),this.canvasRoot.setAttribute("height",parseFloat(b)+"px")):(this.canvasRoot.width=parseFloat(a),this.canvasRoot.height=parseFloat(b))},removeToInsertLater:function(){return function(){}}}),a.CanvasRenderer}),define("jsxgraph",["jxg","utils/env","utils/type","base/board","reader/file","options","renderer/svg","renderer/vml","renderer/canvas","renderer/no"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return a.JSXGraph={rendererType:function(){return f.renderer="no",b.supportsVML()&&(f.renderer="vml",document.onmousemove=function(){var a;return document.body&&(a=document.body.scrollLeft,a+=document.body.scrollTop),a}),b.supportsCanvas()&&(f.renderer="canvas"),b.supportsSVG()&&(f.renderer="svg"),b.isNode()&&b.supportsCanvas()&&(f.renderer="canvas"),(b.isNode()||"no"===f.renderer)&&(f.text.display="internal",f.infobox.display="internal"),f.renderer}(),initRenderer:function(a,b,d){var e,k;if(c.exists(d)&&d!==!1||"object"!=typeof document||(d=document),"object"==typeof d&&null!==a)for(e=d.getElementById(a);e.firstChild;)e.removeChild(e.firstChild);else e=a;return k="svg"===f.renderer?new g(e,b):"vml"===f.renderer?new h(e):"canvas"===f.renderer?new i(e,b):new j},initBoard:function(e,g){var h,i,j,k,l,m,n,o,p,q,r,s;return g=g||{},q=c.copyAttributes(g,f,"board"),q.zoom=c.copyAttributes(q,f,"board","zoom"),q.pan=c.copyAttributes(q,f,"board","pan"),o=b.getDimensions(e,q.document),q.unitx||q.unity?(h=c.def(q.originx,150),i=c.def(q.originy,150),j=c.def(q.unitx,50),k=c.def(q.unity,50)):(p=q.boundingbox,m=parseInt(o.width,10),n=parseInt(o.height,10),c.exists(p)&&q.keepaspectratio?(j=m/(p[2]-p[0]),k=n/(p[1]-p[3]),Math.abs(j)<Math.abs(k)?k=Math.abs(j)*k/Math.abs(k):j=Math.abs(k)*j/Math.abs(j)):(j=m/(p[2]-p[0]),k=n/(p[1]-p[3])),h=-j*p[0],i=k*p[1]),l=this.initRenderer(e,o,q.document),s=new d(e,l,q.id,[h,i],q.zoomfactor*q.zoomx,q.zoomfactor*q.zoomy,j,k,o.width,o.height,q),a.boards[s.id]=s,s.keepaspectratio=q.keepaspectratio,s.resizeContainer(o.width,o.height,!0,!0),s.suspendUpdate(),s.initInfobox(),q.axis&&(r="object"==typeof q.axis?q.axis:{ticks:{drawZero:!0}},s.defaultAxes={},s.defaultAxes.x=s.create("axis",[[0,0],[1,0]],r),s.defaultAxes.y=s.create("axis",[[0,0],[0,1]],r)),q.grid&&s.create("grid",[],"object"==typeof q.grid?q.grid:{}),s.renderer.drawZoomBar(s),s.unsuspendUpdate(),s},loadBoardFromFile:function(g,h,i,j,k){var l,m,n,o;return j=j||{},l=c.copyAttributes(j,f,"board"),l.zoom=c.copyAttributes(j,f,"board","zoom"),l.pan=c.copyAttributes(j,f,"board","pan"),o=b.getDimensions(g,l.document),m=this.initRenderer(g,o,l.document),n=new d(g,m,"",[150,150],1,1,50,50,o.width,o.height,l),n.initInfobox(),n.resizeContainer(o.width,o.height,!0,!0),e.parseFileContent(h,n,i,!0,k),n.renderer.drawZoomBar(n),a.boards[n.id]=n,n},loadBoardFromString:function(g,h,i,j,k){var l,m,n,o;return j=j||{},l=c.copyAttributes(j,f,"board"),l.zoom=c.copyAttributes(j,f,"board","zoom"),l.pan=c.copyAttributes(j,f,"board","pan"),n=b.getDimensions(g,l.document),m=this.initRenderer(g,n,l.document),o=new d(g,m,"",[150,150],1,1,50,50,n.width,n.height,l),o.initInfobox(),o.resizeContainer(n.width,n.height,!0,!0),e.parseString(h,o,i,!0,k),o.renderer.drawZoomBar(o),a.boards[o.id]=o,o},freeBoard:function(b){var c;"string"==typeof b&&(b=a.boards[b]),b.removeEventHandlers(),b.suspendUpdate();for(c in b.objects)b.objects.hasOwnProperty(c)&&b.objects[c].remove();for(;b.containerObj.firstChild;)b.containerObj.removeChild(b.containerObj.firstChild);for(c in b.objects)b.objects.hasOwnProperty(c)&&delete b.objects[c];delete b.renderer,b.jc.creator.clearCache(),delete b.jc,delete a.boards[b.id]},registerElement:function(b,c){a.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),a.registerElement(b,c)}},b.isBrowser&&"object"==typeof window&&"object"==typeof document&&b.addEvent(window,"load",function(){var b,d,e,f,g,h,i,j,k,l,m,n,o=document.getElementsByTagName("script"),p=function(b,c,d){var e=a.JSXGraph.initBoard(g,{boundingbox:d,keepaspectratio:!0,grid:m,axis:l,showReload:!0});if(c.toLowerCase().indexOf("script")>-1)e.construct(b);else try{e.jc.parse(b)}catch(f){a.debug(f)}return e},q=function(b,c,d,e){return function(){var f;a.JSXGraph.freeBoard(b),f=p(c,d,e),f.reload=q(f,c,d,e)}};for(d=0;d<o.length;d++)if(b=o[d].getAttribute("type",!1),c.exists(b)&&("text/jessiescript"===b.toLowerCase()||"jessiescript"===b.toLowerCase()||"text/jessiecode"===b.toLowerCase()||"jessiecode"===b.toLowerCase())){if(i=o[d].getAttribute("width",!1)||"500px",j=o[d].getAttribute("height",!1)||"500px",k=o[d].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",g=o[d].getAttribute("container",!1),k=k.split(","),4!==k.length)k=[-5,5,5,-5];else for(e=0;e<k.length;e++)k[e]=parseFloat(k[e]);if(l=c.str2Bool(o[d].getAttribute("axis",!1)||"false"),m=c.str2Bool(o[d].getAttribute("grid",!1)||"false"),c.exists(g))f=document.getElementById(g);else{g="jessiescript_autgen_jxg_"+d,f=document.createElement("div"),f.setAttribute("id",g),f.setAttribute("style","width:"+i+"; height:"+j+"; float:left"),f.setAttribute("class","jxgbox");try{document.body.insertBefore(f,o[d])}catch(r){"object"==typeof jQuery&&jQuery(f).insertBefore(o[d])}}document.getElementById(g)?(n=o[d].innerHTML,n=n.replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),o[d].innerHTML=n,h=p(n,b,k),h.reload=q(h,n,b,k)):a.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}},window),a.JSXGraph}),define("base/group",["jxg","base/constants","base/element","math/math","math/geometry","utils/type"],function(a,b,c,d,e,f){"use strict";return a.Group=function(a,c,d,e,g){var h,i,j,k;for(this.board=a,this.objects={},h=this.board.numObjects,this.board.numObjects+=1,""!==c&&f.exists(c)?this.id=c:this.id=this.board.id+"Group"+h,this.board.groups[this.id]=this,this.type=b.OBJECT_TYPE_POINT,this.elementClass=b.OBJECT_CLASS_POINT,""!==d&&f.exists(d)?this.name=d:this.name="group_"+this.board.generateName(this),delete this.type,this.coords={},this.needsRegularUpdate=g.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],i=f.isArray(e)?e:Array.prototype.slice.call(arguments,3),j=0;j<i.length;j++)k=this.board.select(i[j]),!k.visProp.fixed&&f.exists(k.coords)&&this.addPoint(k);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}},a.extend(a.Group.prototype,{ungroup:function(){var a,b,c;for(a in this.objects)this.objects.hasOwnProperty(a)&&(b=this.objects[a].point,f.isArray(b.groups)&&(c=f.indexOf(b.groups,this.id),c>=0&&delete b.groups[c]));return this.objects={},this},addParents:function(a){var b,c,d;for(d=f.isArray(a)?a:arguments,c=d.length,b=0;c>b;++b)f.isId(this.board,d[b])?this.parents.push(d[b]):f.exists(d[b].id)&&this.parents.push(d[b].id);this.parents=f.uniqueArray(this.parents)},setParents:function(a){this.parents=[],this.addParents(a)},getParents:function(){return f.isArray(this.parents)?this.parents:[]},update:function(a){var b,c,g,h,i,j,k,l,m,n=null;if(!this.needsUpdate)return this;if(a=this._update_find_drag_type(),"nothing"===a.action)return this;if(n=this.objects[a.id].point,"translation"===a.action)l=[n.coords.usrCoords[1]-this.coords[a.id].usrCoords[1],n.coords.usrCoords[2]-this.coords[a.id].usrCoords[2]];else if("rotation"===a.action||"scaling"===a.action){if(c="rotation"===a.action?"rotationCenter":"scaleCenter",f.isPoint(this[c]))m=this[c].coords.usrCoords.slice(1);else if("centroid"===this[c])m=this._update_centroid_center();else if(f.isArray(this[c]))m=this[c];else{if(!f.isFunction(this[c]))return this;m=this[c]()}if("rotation"===a.action)k=e.rad(this.coords[a.id].usrCoords.slice(1),m,this.objects[a.id].point),l=this.board.create("transform",[k,m[0],m[1]],{type:"rotate"}),l.update();else{if("scaling"!==a.action)return this;if(h=e.distance(this.coords[a.id].usrCoords.slice(1),m),Math.abs(h)<d.eps)return this;h=e.distance(n.coords.usrCoords.slice(1),m)/h,i=this.scaleDirections[a.id].indexOf("x")>=0?h:1,j=this.scaleDirections[a.id].indexOf("y")>=0?h:1,l=this.board.create("transform",[1,0,0,m[0]*(1-i),i,0,m[1]*(1-j),0,j],{type:"generic"}),l.update()}}this._update_apply_transformation(a,l),this.needsUpdate=!1;for(b in this.objects)if(this.objects.hasOwnProperty(b))for(g in this.objects[b].descendants)this.objects[b].descendants.hasOwnProperty(g)&&(this.objects[b].descendants.needsUpdate=this.objects[b].descendants.needsRegularUpdate||this.board.needsFullUpdate);this.board.updateElements(a);for(b in this.objects)this.objects.hasOwnProperty(b)&&(n=this.objects[b].point,this.coords[n.id]={usrCoords:n.coords.usrCoords.slice(0)});return this},_update_find_drag_type:function(){var a,c,e,g="nothing",h=[];for(a in this.objects)this.objects.hasOwnProperty(a)&&(c=this.objects[a].point,c.coords.distance(b.COORDS_BY_USER,this.coords[a])>d.eps&&h.push(c.id));return 0===h.length?{action:g,id:"",changed:h}:(e=h[0],c=this.objects[e].point,h.length>1?g="translation":f.isInArray(this.rotationPoints,c)&&f.exists(this.rotationCenter)?g="rotation":f.isInArray(this.scalePoints,c)&&f.exists(this.scaleCenter)?g="scaling":f.isInArray(this.translationPoints,c)&&(g="translation"),{action:g,id:e,changed:h})},_update_centroid_center:function(){var a,b,c;a=[0,0],b=0;for(c in this.coords)this.coords.hasOwnProperty(c)&&(a[0]+=this.coords[c].usrCoords[1],a[1]+=this.coords[c].usrCoords[2],++b);return b>0&&(a[0]/=b,a[1]/=b),a},_update_apply_transformation:function(a,c){var e,g;for(e in this.objects)this.objects.hasOwnProperty(e)&&(f.exists(this.board.objects[e])?(g=this.objects[e].point,g.id!==a.id?"translation"===a.action?f.isInArray(a.changed,g.id)||g.coords.setCoordinates(b.COORDS_BY_USER,[this.coords[e].usrCoords[1]+c[0],this.coords[e].usrCoords[2]+c[1]]):("rotation"===a.action||"scaling"===a.action)&&c.applyOnce([g]):("rotation"===a.action||"scaling"===a.action)&&g.coords.setCoordinates(b.COORDS_BY_USER,d.matVecMult(c.matrix,this.coords[g.id].usrCoords))):delete this.objects[e])},addPoint:function(a){return this.objects[a.id]={point:this.board.select(a)},this.coords[a.id]={usrCoords:a.coords.usrCoords.slice(0)},this.translationPoints.push(a),a.groups.push(this.id),a.groups=f.uniqueArray(a.groups),this},addPoints:function(a){var b;for(b=0;b<a.length;b++)this.addPoint(a[b]);return this},addGroup:function(a){var b;for(b in a.objects)a.objects.hasOwnProperty(b)&&this.addPoint(a.objects[b].point);return this},removePoint:function(a){return delete this.objects[a.id],this},setRotationCenter:function(a){return this.rotationCenter=a,this},setRotationPoints:function(a){return this._setActionPoints("rotation",a)},addRotationPoint:function(a){return this._addActionPoint("rotation",a)},removeRotationPoint:function(a){return this._removeActionPoint("rotation",a)},setTranslationPoints:function(a){return this._setActionPoints("translation",a)},addTranslationPoint:function(a){return this._addActionPoint("translation",a)},removeTranslationPoint:function(a){return this._removeActionPoint("translation",a)},setScaleCenter:function(a){return this.scaleCenter=a,this},setScalePoints:function(a,b){var c,d,e;for(c=f.isArray(a)?a:arguments,e=c.length,d=0;e>d;++d)this.scaleDirections[this.board.select(c[d]).id]=b||"xy";return this._setActionPoints("scale",a)},addScalePoint:function(a,b){return this._addActionPoint("scale",a),this.scaleDirections[this.board.select(a).id]=b||"xy",this},removeScalePoint:function(a){return this._removeActionPoint("scale",a)},_setActionPoints:function(a,b){var c,d,e;for(c=f.isArray(b)?b:arguments,e=c.length,this[a+"Points"]=[],d=0;e>d;++d)this._addActionPoint(a,c[d]);return this},_addActionPoint:function(a,b){return this[a+"Points"].push(this.board.select(b)),this},_removeActionPoint:function(a,b){var c=this[a+"Points"].indexOf(this.board.select(b));return c>-1&&this[a+"Points"].splice(c,1),this},setProperty:function(){a.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var a;for(a in this.objects)this.objects.hasOwnProperty(a)&&this.objects[a].point.setAttribute.apply(this.objects[a].point,arguments);return this}}),a.createGroup=function(b,c,d){var e=f.copyAttributes(d,b.options,"group"),g=new a.Group(b,e.id,e.name,c,e);return g.elType="group",g.setParents(c),g},a.registerElement("group",a.createGroup),{Group:a.Group,createGroup:a.createGroup}}),define("element/conic",["jxg","base/constants","base/coords","math/math","math/numerics","math/geometry","utils/type","base/point","base/curve"],function(a,b,c,d,e,f,g,h,i){"use strict";return a.createEllipse=function(a,d,e){var f,h,i,j,k,l,m,n=[],o=g.copyAttributes(e,a.options,"conic","foci"),p=g.copyAttributes(e,a.options,"conic");for(l=0;2>l;l++)if(d[l].length>1)n[l]=a.create("point",d[l],o);else if(g.isPoint(d[l]))n[l]=a.select(d[l]);else if("function"==typeof d[l]&&g.isPoint(d[l]()))n[l]=d[l]();else{if(!g.isString(d[l]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof d[0]+"' and '"+typeof d[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");n[l]=a.select(d[l])}if(g.isNumber(d[2]))k=g.createFunction(d[2],a);else if("function"==typeof d[2]&&g.isNumber(d[2]()))k=d[2];else{if(g.isPoint(d[2]))j=a.select(d[2]);else if(d[2].length>1)j=a.create("point",d[2],o);else if("function"==typeof d[2]&&g.isPoint(d[2]()))j=d[2]();else{if(!g.isString(d[2]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof d[0]+"' and '"+typeof d[1]+"' and '"+typeof d[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");j=a.select(d[2])}k=function(){return j.Dist(n[0])+j.Dist(n[1])}}for(g.exists(d[4])||(d[4]=2*Math.PI),g.exists(d[3])||(d[3]=0),i=a.create("point",[function(){return.5*(n[0].X()+n[1].X())},function(){return.5*(n[0].Y()+n[1].Y())}],o),h=a.create("curve",[function(a){return 0},function(a){return 0},d[3],d[4]],p),h.majorAxis=k,m=h.hasPoint,f=function(a,b){var c,d,e,f,g,i,j,l,m;b||(c=k(),d=c*c,e=n[0].X(),f=n[0].Y(),g=n[1].X(),i=n[1].Y(),j=e-g,l=f-i,m=(d-e*e-f*f+g*g+i*i)/(2*c),h.quadraticform=[[m*m-g*g-i*i,m*j/c+g,m*l/c+i],[m*j/c+g,j*j/d-1,j*l/d],[m*l/c+i,j*l/d,l*l/d-1]])},h.X=function(a,b){var c=k(),d=n[1].Dist(n[0]),e=.5*(d*d-c*c)/(d*Math.cos(a)-c),g=Math.atan2(n[1].Y()-n[0].Y(),n[1].X()-n[0].X());return b||f(a,b),n[0].X()+Math.cos(g+a)*e},h.Y=function(a,b){var c=k(),d=n[1].Dist(n[0]),e=.5*(d*d-c*c)/(d*Math.cos(a)-c),f=Math.atan2(n[1].Y()-n[0].Y(),n[1].X()-n[0].X());return n[0].Y()+Math.sin(f+a)*e},h.midpoint=i,h.type=b.OBJECT_TYPE_CONIC,h.hasPoint=function(a,d){var e,f,g,h,i;return this.visProp.hasinnerpoints?(e=n[0].coords,f=n[1].coords,g=this.majorAxis(),h=new c(b.COORDS_BY_SCREEN,[a,d],this.board),i=h.distance(b.COORDS_BY_USER,e)+h.distance(b.COORDS_BY_USER,f),g>=i):m.apply(this,arguments)},i.addChild(h),l=0;2>l;l++)g.isPoint(n[l])&&n[l].addChild(h);return g.isPoint(j)&&j.addChild(h),h.setParents(d),h},a.createHyperbola=function(a,c,d){var e,f,h,i,j,k,l=[],m=g.copyAttributes(d,a.options,"conic","foci"),n=g.copyAttributes(d,a.options,"conic");for(k=0;2>k;k++)if(c[k].length>1)l[k]=a.create("point",c[k],m);else if(g.isPoint(c[k]))l[k]=a.select(c[k]);else if("function"==typeof c[k]&&g.isPoint(c[k]()))l[k]=c[k]();else{if(!g.isString(c[k]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");l[k]=a.select(c[k])}if(g.isNumber(c[2]))j=g.createFunction(c[2],a);else if("function"==typeof c[2]&&g.isNumber(c[2]()))j=c[2];else{if(g.isPoint(c[2]))i=a.select(c[2]);else if(c[2].length>1)i=a.create("point",c[2],m);else if("function"==typeof c[2]&&g.isPoint(c[2]()))i=c[2]();else{if(!g.isString(c[2]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"' and '"+typeof c[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");i=a.select(c[2])}j=function(){return i.Dist(l[0])-i.Dist(l[1])}}for(g.exists(c[4])||(c[4]=1.0001*Math.PI),g.exists(c[3])||(c[3]=-1.0001*Math.PI),h=a.create("point",[function(){return.5*(l[0].X()+l[1].X())},function(){return.5*(l[0].Y()+l[1].Y())}],m),f=a.create("curve",[function(a){return 0},function(a){return 0},c[3],c[4]],n),f.majorAxis=j,e=function(a,b){var c,d,e,g,h,i,k,m,n;b||(c=j(),d=c*c,e=l[0].X(),g=l[0].Y(),h=l[1].X(),i=l[1].Y(),k=e-h,m=g-i,n=(d-e*e-g*g+h*h+i*i)/(2*c),f.quadraticform=[[n*n-h*h-i*i,n*k/c+h,n*m/c+i],[n*k/c+h,k*k/d-1,k*m/d],[n*m/c+i,k*m/d,m*m/d-1]])},f.X=function(a,b){var c=j(),d=l[1].Dist(l[0]),f=.5*(d*d-c*c)/(d*Math.cos(a)+c),g=Math.atan2(l[1].Y()-l[0].Y(),l[1].X()-l[0].X());return b||e(a,b),l[0].X()+Math.cos(g+a)*f},f.Y=function(a,b){var c=j(),d=l[1].Dist(l[0]),e=.5*(d*d-c*c)/(d*Math.cos(a)+c),f=Math.atan2(l[1].Y()-l[0].Y(),l[1].X()-l[0].X());return l[0].Y()+Math.sin(f+a)*e},f.midpoint=h,f.type=b.OBJECT_TYPE_CONIC,h.addChild(f),k=0;2>k;k++)g.isPoint(l[k])&&l[k].addChild(f);return g.isPoint(i)&&i.addChild(f),f.setParents(c),f},a.createParabola=function(a,c,d){var e,h,i,j=c[0],k=c[1],l=g.copyAttributes(d,a.options,"conic","foci"),m=g.copyAttributes(d,a.options,"conic");if(c[0].length>1)j=a.create("point",c[0],l);else if(g.isPoint(c[0]))j=a.select(c[0]);else if("function"==typeof c[0]&&g.isPoint(c[0]()))j=c[0]();else{if(!g.isString(c[0]))throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [point,line]");j=a.select(c[0])}return g.exists(c[3])||(c[3]=10),g.exists(c[2])||(c[2]=-10),i=a.create("point",[function(){return f.projectPointToLine(j,k,a).usrCoords}],l),h=a.create("curve",[function(a){return 0},function(a){return 0},c[2],c[3]],m),e=function(a,b){var c,d,e,f,g,i;b||(c=k.stdform[1],d=k.stdform[2],e=k.stdform[0],f=c*c+d*d,g=j.X(),i=j.Y(),h.quadraticform=[[e*e-f*(g*g+i*i),e*c+f*g,e*d+f*i],[e*c+f*g,-d*d,c*d],[e*d+f*i,c*d,-c*c]])},h.X=function(a,b){var c,d,g=k.getAngle(),h=f.distPointLine(j.coords.usrCoords,k.stdform),i=k.point1.coords.usrCoords,l=k.point2.coords.usrCoords,m=j.coords.usrCoords;return 0===i[0]?i=[1,l[1]+k.stdform[2],l[2]-k.stdform[1]]:0===l[0]&&(l=[1,i[1]+k.stdform[2],i[2]-k.stdform[1]]),d=(l[1]-i[1])*(m[2]-i[2])-(l[2]-i[2])*(m[1]-i[1])>=0?1:-1,c=d*h/(1-Math.sin(a)),b||e(a,b),j.X()+Math.cos(a+g)*c},h.Y=function(a,b){var c,d,e=k.getAngle(),g=f.distPointLine(j.coords.usrCoords,k.stdform),h=k.point1.coords.usrCoords,i=k.point2.coords.usrCoords,l=j.coords.usrCoords;return 0===h[0]?h=[1,i[1]+k.stdform[2],i[2]-k.stdform[1]]:0===i[0]&&(i=[1,h[1]+k.stdform[2],h[2]-k.stdform[1]]),d=(i[1]-h[1])*(l[2]-h[2])-(i[2]-h[2])*(l[1]-h[1])>=0?1:-1,c=d*g/(1-Math.sin(a)),j.Y()+Math.sin(a+e)*c},h.type=b.OBJECT_TYPE_CONIC,i.addChild(h),g.isPoint(j)&&j.addChild(h),k.addChild(h),h.setParents(c),h},a.createConic=function(c,f,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=[[1,0,0],[0,1,0],[0,0,1]],x=[[1,0,0],[0,1,0],[0,0,1]],y=[],z=[],A=g.copyAttributes(h,c.options,"conic","foci"),B=g.copyAttributes(h,c.options,"conic");if(5===f.length)v=!0;else{if(6!==f.length)throw new Error("JSXGraph: Can't create generic Conic with "+f.length+" parameters.");v=!1}if(v)for(t=0;5>t;t++)if(f[t].length>1)y[t]=c.create("point",f[t],A);else if(g.isPoint(f[t]))y[t]=c.select(f[t]);else if("function"==typeof f[t]&&g.isPoint(f[t]()))y[t]=f[t]();else{if(!g.isString(f[t]))throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof f[t]+"'.\nPossible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]");y[t]=c.select(f[t])}else u=[[0,0,0],[0,0,0],[0,0,0]],u[0][0]=g.isFunction(f[2])?function(){return f[2]()}:function(){return f[2]},u[0][1]=g.isFunction(f[4])?function(){return f[4]()}:function(){return f[4]},u[0][2]=g.isFunction(f[5])?function(){return f[5]()}:function(){return f[5]},u[1][1]=g.isFunction(f[0])?function(){return f[0]()}:function(){return f[0]},u[1][2]=g.isFunction(f[3])?function(){return f[3]()}:function(){return f[3]},u[2][2]=g.isFunction(f[1])?function(){return f[1]()}:function(){return f[1]};if(m=function(a){var b,c;for(b=0;3>b;b++)for(c=b;3>c;c++)a[b][c]+=a[c][b];for(b=0;3>b;b++)for(c=0;b>c;c++)a[b][c]=a[c][b];return a},l=function(a,b){var c,d,e=[[0,0,0],[0,0,0],[0,0,0]];for(c=0;3>c;c++)for(d=0;3>d;d++)e[c][d]=a[c]*b[d];return m(e)},k=function(a,b,c){var e,f,g,h,i,j=[[0,0,0],[0,0,0],[0,0,0]];for(i=d.matVecMult(b,c),g=d.innerProduct(c,i),i=d.matVecMult(a,c),h=d.innerProduct(c,i),e=0;3>e;e++)for(f=0;3>f;f++)j[e][f]=g*a[e][f]-h*b[e][f];return j},j=c.create("curve",[function(a){return 0},function(a){return 0},0,2*Math.PI],B),i=function(b,c){var f,g,h,i;if(!c){if(v){for(f=0;5>f;f++)z[f]=y[f].coords.usrCoords;r=l(d.crossProduct(z[0],z[1]),d.crossProduct(z[2],z[3])),s=l(d.crossProduct(z[0],z[2]),d.crossProduct(z[1],z[3])),x=k(r,s,z[4])}else for(f=0;3>f;f++)for(g=f;3>g;g++)x[f][g]=u[f][g](),g>f&&(x[g][f]=x[f][g]);for(j.quadraticform=x,n=e.Jacobi(x),n[0][0][0]<0&&(n[0][0][0]*=-1,n[0][1][1]*=-1,n[0][2][2]*=-1),f=0;3>f;f++){for(h=0,g=0;3>g;g++)h+=n[1][g][f]*n[1][g][f];h=Math.sqrt(h)}w=n[1],q=Math.sqrt(Math.abs(n[0][0][0])),o=Math.sqrt(Math.abs(n[0][1][1])),p=Math.sqrt(Math.abs(n[0][2][2]))}return n[0][1][1]<=0&&n[0][2][2]<=0?i=d.matVecMult(w,[1/q,Math.cos(b)/o,Math.sin(b)/p]):n[0][1][1]<=0&&n[0][2][2]>0?i=d.matVecMult(w,[Math.cos(b)/q,1/o,Math.sin(b)/p]):n[0][2][2]<0&&(i=d.matVecMult(w,[Math.sin(b)/q,Math.cos(b)/o,1/p])),a.exists(i)?(i[1]/=i[0],i[2]/=i[0],i[0]=1):i=[1,NaN,NaN],i},j.X=function(a,b){return i(a,b)[1]},j.Y=function(a,b){return i(a,b)[2]},j.midpoint=c.create("point",[function(){var a=j.quadraticform;return[a[1][1]*a[2][2]-a[1][2]*a[1][2],a[1][2]*a[0][2]-a[2][2]*a[0][1],a[0][1]*a[1][2]-a[1][1]*a[0][2]]}],A),j.type=b.OBJECT_TYPE_CONIC,v){for(t=0;5>t;t++)g.isPoint(y[t])&&y[t].addChild(j);j.setParents(f)}return j.addChild(j.midpoint),j},a.registerElement("ellipse",a.createEllipse),a.registerElement("hyperbola",a.createHyperbola),a.registerElement("parabola",a.createParabola),a.registerElement("conic",a.createConic),{createEllipse:a.createEllipse,createHyperbola:a.createHyperbola,createParabola:a.createParabola,createConic:a.createConic}}),define("base/polygon",["jxg","base/constants","base/coords","math/statistics","math/geometry","utils/type","base/element","base/line","base/transformation"],function(a,b,c,d,e,f,g,h,i){"use strict";return a.Polygon=function(c,d,e){this.constructor(c,e,b.OBJECT_TYPE_POLYGON,b.OBJECT_CLASS_AREA);var g,h,i,j,k,l=f.copyAttributes(e,c.options,"polygon","borders");for(this.withLines=e.withlines,this.attr_line=l,this.vertices=[],g=0;g<d.length;g++)h=this.board.select(d[g]),this.vertices[g]=h;if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(j=this.vertices.length-1,k=0;j>k;k++)g=(k+1)%j,l.id=l.ids&&l.ids[g],l.name=l.names&&l.names[g],l.strokecolor=f.isArray(l.colors)&&l.colors[g%l.colors.length]||l.strokecolor,l.visible=f.exists(e.borders.visible)?e.borders.visible:e.visible,l.strokecolor===!1&&(l.strokecolor="none"),i=c.create("segment",[this.vertices[g],this.vertices[g+1]],l),i.dump=!1,this.borders[g]=i,i.parentPolygon=this;for(this.id=this.board.setId(this,"Py"),g=0;g<this.vertices.length-1;g++)h=this.board.select(this.vertices[g]),h.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=a.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",boundingBox:"boundingBox",bounds:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints"})},a.Polygon.prototype=new g,a.extend(a.Polygon.prototype,{hasPoint:function(a,b){var c,d,e,f=!1;if(this.visProp.hasinnerpoints)for(e=this.vertices.length,c=0,d=e-2;e-1>c;d=c++)this.vertices[c].coords.scrCoords[2]>b!=this.vertices[d].coords.scrCoords[2]>b&&a<(this.vertices[d].coords.scrCoords[1]-this.vertices[c].coords.scrCoords[1])*(b-this.vertices[c].coords.scrCoords[2])/(this.vertices[d].coords.scrCoords[2]-this.vertices[c].coords.scrCoords[2])+this.vertices[c].coords.scrCoords[1]&&(f=!f);else for(e=this.borders.length,c=0;e>c;c++)if(this.borders[c].hasPoint(a,b)){f=!0;break}return f},updateRenderer:function(){return this.needsUpdate&&this.visProp.visible&&(this.board.renderer.updatePolygon(this),this.needsUpdate=!1),this.hasLabel&&this.label.visProp.visible&&(this.label.update(),this.board.renderer.updateText(this.label)),this},getTextAnchor:function(){var a,d,e,f,g;if(0===this.vertices.length)return new c(b.COORDS_BY_USER,[1,0,0],this.board);for(a=this.vertices[0].X(),d=this.vertices[0].Y(),e=a,f=d,g=0;g<this.vertices.length;g++)this.vertices[g].X()<a&&(a=this.vertices[g].X()),this.vertices[g].X()>e&&(e=this.vertices[g].X()),this.vertices[g].Y()>d&&(d=this.vertices[g].Y()),this.vertices[g].Y()<f&&(f=this.vertices[g].Y());return new c(b.COORDS_BY_USER,[.5*(a+e),.5*(d+f)],this.board)},getLabelAnchor:a.shortcut(a.Polygon.prototype,"getTextAnchor"),
cloneToBackground:function(){var a,b={};return b.id=this.id+"T"+this.numTraces,this.numTraces++,b.vertices=this.vertices,b.visProp=f.deepCopy(this.visProp,this.visProp.traceattributes,!0),b.visProp.layer=this.board.options.layer.trace,b.board=this.board,f.clearVisPropOld(b),a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(b),this.board.renderer.enhancedRendering=a,this.traces[b.id]=b.rendNode,this},hideElement:function(a){var b;if(this.visProp.visible=!1,this.board.renderer.hide(this),!a)for(b=0;b<this.borders.length;b++)this.borders[b].hideElement();this.hasLabel&&f.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visProp.visible&&this.label.hideElement())},showElement:function(a){var b;if(this.visProp.visible=!0,this.board.renderer.show(this),!a)for(b=0;b<this.borders.length;b++)this.borders[b].showElement(),this.borders[b].updateRenderer();f.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visProp.visible||this.label.showElement().updateRenderer())},Area:function(){return Math.abs(e.signedPolygon(this.vertices,!0))},boundingBox:function(){var a,b,c=[0,0,0,0],d=this.vertices.length-1;if(0===d)return c;for(c[0]=this.vertices[0].X(),c[2]=c[0],c[1]=this.vertices[0].Y(),c[3]=c[1],a=1;d>a;++a)b=this.vertices[a].X(),b<c[0]?c[0]=b:b>c[2]&&(c[2]=b),b=this.vertices[a].Y(),b>c[1]?c[1]=b:b<c[3]&&(c[3]=b);return c},bounds:function(){return this.boundingBox()},remove:function(){var a;for(a=0;a<this.borders.length;a++)this.board.removeObject(this.borders[a]);g.prototype.remove.call(this)},findPoint:function(a){var b;if(!f.isPoint(a))return-1;for(b=0;b<this.vertices.length;b++)if(this.vertices[b].id===a.id)return b;return-1},addPoints:function(a){var b=Array.prototype.slice.call(arguments);return this.insertPoints.apply(this,[this.vertices.length-2].concat(b))},insertPoints:function(a,b){var c,d,e=[];if(0===arguments.length)return this;if(0>a||a>this.vertices.length-2)return this;for(c=1;c<arguments.length;c++)f.isPoint(arguments[c])&&e.push(arguments[c]);if(d=this.vertices.slice(0,a+1).concat(e),this.vertices=d.concat(this.vertices.slice(a+1)),this.withLines){for(d=this.borders.slice(0,a),this.board.removeObject(this.borders[a]),c=0;c<e.length;c++)d.push(this.board.create("segment",[this.vertices[a+c],this.vertices[a+c+1]],this.attr_line));d.push(this.board.create("segment",[this.vertices[a+e.length],this.vertices[a+e.length+1]],this.attr_line)),this.borders=d.concat(this.borders.slice(a))}return this.board.update(),this},removePoints:function(a){var b,c,d,e=[],g=[],h=[],i=[];for(this.vertices=this.vertices.slice(0,this.vertices.length-1),b=0;b<arguments.length;b++)f.isPoint(arguments[b])&&(d=this.findPoint(arguments[b])),f.isNumber(d)&&d>-1&&d<this.vertices.length&&-1===f.indexOf(h,d)&&h.push(d);for(h=h.sort(),e=this.vertices.slice(),g=this.borders.slice(),this.withLines&&i.push([h[h.length-1]]),b=h.length-1;b>-1;b--)e[h[b]]=-1,this.withLines&&h[b]-1>h[b-1]&&(i[i.length-1][1]=h[b],i.push([h[b-1]]));for(this.withLines&&(i[i.length-1][1]=h[0]),this.vertices=[],b=0;b<e.length;b++)f.isPoint(e[b])&&this.vertices.push(e[b]);if(this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(b=0;b<i.length;b++){for(c=i[b][1]-1;c<i[b][0]+1;c++)0>c?(c=0,this.board.removeObject(this.borders[g.length-1]),g[g.length-1]=-1):c>g.length-1&&(c=g.length-1),this.board.removeObject(this.borders[c]),g[c]=-1;0!==i[b][1]&&i[b][0]!==e.length-1&&(g[i[b][0]-1]=this.board.create("segment",[e[Math.max(i[b][1]-1,0)],e[Math.min(i[b][0]+1,this.vertices.length-1)]],this.attr_line))}for(this.borders=[],b=0;b<g.length;b++)-1!==g[b]&&this.borders.push(g[b]);(5===i[0][1]||0===i[i.length-1][1])&&this.borders.push(this.board.create("segment",[this.vertices[0],this.vertices[this.vertices.length-2]],this.attr_line))}return this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var a,b=g.prototype.getAttributes.call(this);if(this.withLines)for(b.lines=b.lines||{},b.lines.ids=[],b.lines.colors=[],a=0;a<this.borders.length;a++)b.lines.ids.push(this.borders[a].id),b.lines.colors.push(this.borders[a].visProp.strokecolor);return b},snapToGrid:function(){var a;for(a=0;a<this.vertices.length;a++)this.vertices[a].snapToGrid()},setPositionDirectly:function(a,b,e){var f,g,h,i,j=new c(a,b,this.board),k=new c(a,e,this.board);for(i=this.vertices.length-1,h=0;i>h;h++)if(!this.vertices[h].draggable())return this;return f=d.subtract(j.usrCoords,k.usrCoords),g=this.board.create("transform",f.slice(1),{type:"translate"}),g.applyOnce(this.vertices.slice(0,-1)),this}}),a.createPolygon=function(b,c,d){var e,g,h=[];if(h=f.providePoints(b,c,d,"polygon",["vertices"]),h===!1)throw new Error("JSXGraph: Can't create polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");return g=f.copyAttributes(d,b.options,"polygon"),e=new a.Polygon(b,h,g),e.isDraggable=!0,e},a.createRegularPolygon=function(a,c,d){var e,g,h,i,j,k,l,m=[];if(j=c.length,h=c[j-1],f.isNumber(h)&&(3!==c.length||3>h))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(f.isNumber(a.select(h))?(j--,k=!1):(h=j,k=!0),m=f.providePoints(a,c.slice(0,j),d,"regularpolygon",["vertices"]),m===!1)throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(l=f.copyAttributes(d,a.options,"regularpolygon","vertices"),g=2;h>g;g++)i=a.create("transform",[Math.PI*(2-(h-2)/h),m[g-1]],{type:"rotate"}),k?(m[g].addTransform(m[g-2],i),m[g].prepareUpdate().update().updateRenderer()):(f.isArray(l.ids)&&l.ids.length>=h-2&&(l.id=l.ids[g-2]),m[g]=a.create("point",[m[g-2],i],l),m[g].type=b.OBJECT_TYPE_CAS,m[g].isDraggable=!0,m[g].visProp.fixed=!1);return l=f.copyAttributes(d,a.options,"polygon"),e=a.create("polygon",m,l),e.elType="regularpolygon",e},a.registerElement("polygon",a.createPolygon),a.registerElement("regularpolygon",a.createRegularPolygon),{Polygon:a.Polygon,createPolygon:a.createPolygon,createRegularPolygon:a.createRegularPolygon}}),define("element/arc",["jxg","math/geometry","math/math","base/coords","base/circle","utils/type","base/constants","base/curve","element/composition"],function(a,b,c,d,e,f,g,h,i){"use strict";return a.createArc=function(h,i,j){var k,l,m;if(m=f.providePoints(h,i,j,"point"),m===!1||m.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]");return l=f.copyAttributes(j,h.options,"arc"),k=h.create("curve",[[0],[0]],l),k.elType="arc",k.setParents(m),k.type=g.OBJECT_TYPE_ARC,k.center=m[0],k.radiuspoint=m[1],k.point2=k.radiuspoint,k.anglepoint=m[2],k.point3=k.anglepoint,k.center.addChild(k),k.radiuspoint.addChild(k),k.anglepoint.addChild(k),k.useDirection=l.usedirection,k.updateDataArray=function(){var a,c,d,e,f,g,h=1,i=this.radiuspoint,j=this.center,k=this.anglepoint;c=b.rad(i,j,k),("minor"===this.visProp.selection&&c>Math.PI||"major"===this.visProp.selection&&c<Math.PI)&&(h=-1),this.useDirection&&(e=m[1].coords.usrCoords,f=m[3].coords.usrCoords,g=m[2].coords.usrCoords,d=(e[1]-g[1])*(e[2]-f[2])-(e[2]-g[2])*(e[1]-f[1]),0>d?(this.radiuspoint=m[1],this.anglepoint=m[2]):(this.radiuspoint=m[2],this.anglepoint=m[1])),i=i.coords.usrCoords,j=j.coords.usrCoords,k=k.coords.usrCoords,a=b.bezierArc(i,j,k,!1,h),this.dataX=a[0],this.dataY=a[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},k.Radius=function(){return this.radiuspoint.Dist(this.center)},k.getRadius=function(){return a.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},k.Value=function(){return this.Radius()*b.rad(this.radiuspoint,this.center,this.anglepoint)},k.hasPoint=function(a,e){var f,h,i,j,k,l,m,n,o=this.board.options.precision.hasPoint/this.board.unitX,p=this.Radius();return h=new d(g.COORDS_BY_SCREEN,[a,e],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),m=c.inverse(this.transformMat),n=c.matVecMult(m,h.usrCoords),h=new d(g.COORDS_BY_USER,n,this.board)),f=this.center.coords.distance(g.COORDS_BY_USER,h),i=Math.abs(f-p)<o,i&&(j=b.rad(this.radiuspoint,this.center,h.usrCoords.slice(1)),k=0,l=b.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===this.visProp.selection&&l>Math.PI||"major"===this.visProp.selection&&l<Math.PI)&&(k=l,l=2*Math.PI),(k>j||j>l)&&(i=!1)),i},k.hasPointSector=function(a,c){var e,f,h,i=new d(g.COORDS_BY_SCREEN,[a,c],this.board),j=this.Radius(),k=this.center.coords.distance(g.COORDS_BY_USER,i),l=j>k;return l&&(e=b.rad(this.radiuspoint,this.center,i.usrCoords.slice(1)),f=0,h=b.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===this.visProp.selection&&h>Math.PI||"major"===this.visProp.selection&&h<Math.PI)&&(f=h,h=2*Math.PI),(f>e||e>h)&&(l=!1)),l},k.getTextAnchor=function(){return this.center.coords},k.getLabelAnchor=function(){var a,c,e,f,h=b.rad(this.radiuspoint,this.center,this.anglepoint),i=10/this.board.unitX,j=10/this.board.unitY,k=this.point2.coords.usrCoords,l=this.center.coords.usrCoords,m=k[1]-l[1],n=k[2]-l[2];return("minor"===this.visProp.selection&&h>Math.PI||"major"===this.visProp.selection&&h<Math.PI)&&(h=-(2*Math.PI-h)),a=new d(g.COORDS_BY_USER,[l[1]+Math.cos(.5*h)*m-Math.sin(.5*h)*n,l[2]+Math.sin(.5*h)*m+Math.cos(.5*h)*n],this.board),c=a.usrCoords[1]-l[1],e=a.usrCoords[2]-l[2],f=Math.sqrt(c*c+e*e),c=c*(f+i)/f,e=e*(f+j)/f,new d(g.COORDS_BY_USER,[l[1]+c,l[2]+e],this.board)},k.updateQuadraticform=e.Circle.prototype.updateQuadraticform,k.updateStdform=e.Circle.prototype.updateStdform,k.methodMap=a.deepCopy(k.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint"}),k.prepareUpdate().update(),k},a.registerElement("arc",a.createArc),a.createSemicircle=function(a,b,c){var d,e,g,h;if(h=f.providePoints(a,b,c,"point"),h===!1||2!==h.length)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point]");return g=f.copyAttributes(c,a.options,"semicircle","midpoint"),e=a.create("midpoint",h,g),e.dump=!1,g=f.copyAttributes(c,a.options,"semicircle"),d=a.create("arc",[e,h[1],h[0]],g),d.elType="semicircle",d.setParents([h[0].id,h[1].id]),d.subs={midpoint:e},d.midpoint=d.center=e,d},a.registerElement("semicircle",a.createSemicircle),a.createCircumcircleArc=function(a,b,c){var d,e,g,h;if(h=f.providePoints(a,b,c,"point"),h===!1||3!==h.length)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");return g=f.copyAttributes(c,a.options,"circumcirclearc","center"),e=a.create("circumcenter",h,g),e.dump=!1,g=f.copyAttributes(c,a.options,"circumcirclearc"),g.usedirection=!0,d=a.create("arc",[e,h[0],h[2],h[1]],g),d.elType="circumcirclearc",d.setParents([h[0].id,h[1].id,h[2].id]),d.subs={center:e},d.center=e,d},a.registerElement("circumcirclearc",a.createCircumcircleArc),a.createMinorArc=function(b,c,d){return d.selection="minor",a.createArc(b,c,d)},a.registerElement("minorarc",a.createMinorArc),a.createMajorArc=function(b,c,d){return d.selection="major",a.createArc(b,c,d)},a.registerElement("majorarc",a.createMajorArc),{createArc:a.createArc,createSemicircle:a.createSemicircle,createCircumcircleArc:a.createCircumcircleArc,createMinorArc:a.createMinorArc,createMajorArc:a.createMajorArc}}),define("element/sector",["jxg","math/geometry","math/math","math/statistics","base/coords","base/constants","utils/type","base/point","base/curve","base/transformation","element/composition"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";return a.createSector=function(h,i,j){var k,l,m,n,o,p="invalid",q=["center","radiuspoint","anglepoint"];if(i[0].elementClass===f.OBJECT_CLASS_LINE&&i[1].elementClass===f.OBJECT_CLASS_LINE&&(g.isArray(i[2])||g.isNumber(i[2]))&&(g.isArray(i[3])||g.isNumber(i[3]))&&(g.isNumber(i[4])||g.isFunction(i[4])))p="2lines";else{if(o=g.providePoints(h,i,j,"sector",q),o===!1)throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.");p="3points"}return l=g.copyAttributes(j,h.options,"sector"),k=h.create("curve",[[0],[0]],l),k.type=f.OBJECT_TYPE_SECTOR,k.elType="sector","2lines"===p?(k.Radius=function(){return g.evaluate(i[4])},k.line1=h.select(i[0]),k.line2=h.select(i[1]),k.line1.addChild(k),k.line2.addChild(k),k.setParents(i),k.point1={visProp:{}},k.point2={visProp:{}},k.point3={visProp:{}},m=b.meetLineLine(k.line1.stdform,k.line2.stdform,0,h),g.isArray(i[2])?(2===i[2].length&&(i[2]=[1].concat(i[2])),n=b.projectPointToLine({coords:{usrCoords:i[2]}},k.line1,h),n=d.subtract(n.usrCoords,m.usrCoords),k.direction1=c.innerProduct(n,[0,k.line1.stdform[2],-k.line1.stdform[1]],3)>=0?1:-1):k.direction1=i[2]>=0?1:-1,g.isArray(i[3])?(2===i[3].length&&(i[3]=[1].concat(i[3])),n=b.projectPointToLine({coords:{usrCoords:i[3]}},k.line2,h),n=d.subtract(n.usrCoords,m.usrCoords),k.direction2=c.innerProduct(n,[0,k.line2.stdform[2],-k.line2.stdform[1]],3)>=0?1:-1):k.direction2=i[3]>=0?1:-1,k.updateDataArray=function(){var a,g,h,i,j=[0,0,0],l=[0,0,0],m=[0,0,0];return g=this.line1,h=this.line2,l=c.crossProduct(g.stdform,h.stdform),Math.abs(l[0])>c.eps*c.eps&&(l[1]/=l[0],l[2]/=l[0],l[0]/=l[0]),a=this.direction1*this.Radius(),j=d.add(l,[0,a*g.stdform[2],-a*g.stdform[1]]),a=this.direction2*this.Radius(),m=d.add(l,[0,a*h.stdform[2],-a*h.stdform[1]]),this.point2.coords=new e(f.COORDS_BY_USER,j,k.board),this.point1.coords=new e(f.COORDS_BY_USER,l,k.board),this.point3.coords=new e(f.COORDS_BY_USER,m,k.board),Math.abs(j[0])<c.eps||Math.abs(l[0])<c.eps||Math.abs(m[0])<c.eps?(this.dataX=[NaN],void(this.dataY=[NaN])):(i=b.bezierArc(j,l,m,!0,1),this.dataX=i[0],this.dataY=i[1],void(this.bezierDegree=3))},k.methodMap=a.deepCopy(k.methodMap,{radius:"getRadius",getRadius:"getRadius",setRadius:"setRadius"}),k.prepareUpdate().update()):"3points"===p&&(k.point1=o[0],k.point2=o[1],k.point3=o[2],k.point1.addChild(k),k.point2.addChild(k),k.point3.addChild(k),k.useDirection=j.usedirection,k.setParents(o),g.exists(o[3])&&(k.point4=o[3],k.point4.addChild(k)),k.methodMap=a.deepCopy(k.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",radius:"getRadius",getRadius:"getRadius",setRadius:"setRadius"}),k.updateDataArray=function(){var a,c,d,e,f,h,i=this.point2,j=this.point1,k=this.point3,l=1;return i.isReal&&j.isReal&&k.isReal?(h=b.rad(i,j,k),("minor"===this.visProp.selection&&h>Math.PI||"major"===this.visProp.selection&&h<Math.PI)&&(l=-1),this.useDirection&&g.exists(this.point4)&&(d=this.point2.coords.usrCoords,e=this.point4.coords.usrCoords,f=this.point3.coords.usrCoords,c=(d[1]-f[1])*(d[2]-e[2])-(d[2]-f[2])*(d[1]-e[1]),c>=0&&(k=this.point2,i=this.point3)),i=i.coords.usrCoords,j=j.coords.usrCoords,k=k.coords.usrCoords,a=b.bezierArc(i,j,k,!0,l),this.dataX=a[0],this.dataY=a[1],void(this.bezierDegree=3)):(this.dataX=[NaN],void(this.dataY=[NaN]))},k.Radius=function(){return this.point2.Dist(this.point1)},l=g.copyAttributes(j,h.options,"sector","arc"),l.withLabel=!1,l.name+="_arc",k.arc=h.create("arc",[k.point1,k.point2,k.point3],l),k.addChild(k.arc)),k.center=k.point1,k.radiuspoint=k.point2,k.anglepoint=k.point3,k.hasPointCurve=function(a,c){var d,g,h,i=this.board.options.precision.hasPoint/this.board.unitX,j=new e(f.COORDS_BY_SCREEN,[a,c],this.board),k=this.Radius(),l=this.center.coords.distance(f.COORDS_BY_USER,j),m=Math.abs(l-k)<i;return m&&(d=b.rad(this.point2,this.center,j.usrCoords.slice(1)),g=0,h=b.rad(this.point2,this.center,this.point3),(g>d||d>h)&&(m=!1)),m},k.hasPointSector=function(a,c){var d,g,h,i=new e(f.COORDS_BY_SCREEN,[a,c],this.board),j=this.Radius(),k=this.point1.coords.distance(f.COORDS_BY_USER,i),l=j>k;return l&&(d=b.rad(this.radiuspoint,this.center,i.usrCoords.slice(1)),g=0,h=b.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===this.visProp.selection&&h>Math.PI||"major"===this.visProp.selection&&h<Math.PI)&&(g=h,h=2*Math.PI),(g>d||d>h)&&(l=!1)),l},k.hasPoint=function(a,b){return this.visProp.highlightonsector||this.visProp.hasinnerpoints?this.hasPointSector(a,b):this.hasPointCurve(a,b)},k.getTextAnchor=function(){return this.point1.coords},k.getLabelAnchor=function(){var a,c,d,g,h=b.rad(this.point2,this.point1,this.point3),i=13/this.board.unitX,j=13/this.board.unitY,k=this.point2.coords.usrCoords,l=this.point1.coords.usrCoords,m=k[1]-l[1],n=k[2]-l[2];return("minor"===this.visProp.selection&&h>Math.PI||"major"===this.visProp.selection&&h<Math.PI)&&(h=-(2*Math.PI-h)),a=new e(f.COORDS_BY_USER,[l[1]+Math.cos(.5*h)*m-Math.sin(.5*h)*n,l[2]+Math.sin(.5*h)*m+Math.cos(.5*h)*n],this.board),c=a.usrCoords[1]-l[1],d=a.usrCoords[2]-l[2],g=Math.sqrt(c*c+d*d),c=c*(g+i)/g,d=d*(g+j)/g,new e(f.COORDS_BY_USER,[l[1]+c,l[2]+d],this.board)},k.setRadius=function(a){k.Radius=function(){return g.evaluate(a)}},k.getRadius=function(){return a.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},"3points"===p&&(k.setPositionDirectly=function(a,b,c){var f,g,h=new e(a,b,this.board),i=new e(a,c,this.board);return k.point1.draggable()&&k.point2.draggable()&&k.point3.draggable()?(f=d.subtract(h.usrCoords,i.usrCoords),g=this.board.create("transform",f.slice(1),{type:"translate"}),g.applyOnce([k.point1,k.point2,k.point3]),this):this}),k.prepareUpdate().update(),k},a.registerElement("sector",a.createSector),a.createCircumcircleSector=function(a,b,c){var d,e,f,h;if(h=g.providePoints(a,b,c,"point"),h===!1)throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.");return e=a.create("circumcenter",h.slice(0,3),f),e.dump=!1,f=g.copyAttributes(c,a.options,"circumcirclesector"),d=a.create("sector",[e,h[0],h[2],h[1]],f),d.elType="circumcirclesector",d.setParents(h),d.center=e,d.subs={center:e},d},a.registerElement("circumcirclesector",a.createCircumcircleSector),a.createMinorSector=function(b,c,d){return d.selection="minor",a.createSector(b,c,d)},a.registerElement("minorsector",a.createMinorSector),a.createMajorSector=function(b,c,d){return d.selection="major",a.createSector(b,c,d)},a.registerElement("majorsector",a.createMajorSector),a.createAngle=function(d,h,i){var j,k,l,m,n,o,p="invalid";if(h[0].elementClass===f.OBJECT_CLASS_LINE&&h[1].elementClass===f.OBJECT_CLASS_LINE&&(g.isArray(h[2])||g.isNumber(h[2]))&&(g.isArray(h[3])||g.isNumber(h[3])))p="2lines";else{if(o=g.providePoints(d,h,i,"point"),o===!1)throw new Error("JSXGraph: Can't create angle with parent types '"+typeof h[0]+"' and '"+typeof h[1]+"' and '"+typeof h[2]+"'.");p="3points"}if(l=g.copyAttributes(i,d.options,"angle"),g.exists(l.name)&&""!==l.name||(l.name=d.generateName({type:f.OBJECT_TYPE_ANGLE})),k=g.exists(l.radius)?l.radius:0,"2lines"===p?(h.push(k),j=d.create("sector",h,l),j.updateDataArraySector=j.updateDataArray,j.setAngle=function(a){},j.free=function(a){}):(j=d.create("sector",[o[1],o[0],o[2]],l),j.arc.visProp.priv=!0,j.point=j.point2=j.radiuspoint=o[0],j.pointsquare=j.point3=j.anglepoint=o[2],j.Radius=function(){return g.evaluate(k)},j.updateDataArraySector=function(){var a,c,d=this.point2,e=this.point1,f=this.point3,g=this.Radius(),h=e.Dist(d),i=1;c=b.rad(d,e,f),("minor"===this.visProp.selection&&c>Math.PI||"major"===this.visProp.selection&&c<Math.PI)&&(i=-1),d=d.coords.usrCoords,e=e.coords.usrCoords,f=f.coords.usrCoords,d=[1,e[1]+(d[1]-e[1])*g/h,e[2]+(d[2]-e[2])*g/h],f=[1,e[1]+(f[1]-e[1])*g/h,e[2]+(f[2]-e[2])*g/h],a=b.bezierArc(d,e,f,!0,i),this.dataX=a[0],this.dataY=a[1],this.bezierDegree=3},j.setAngle=function(a){var b,c=this.anglepoint,d=this.radiuspoint;return c.draggable()&&(b=this.board.create("transform",[a,this.center],{type:"rotate"}),c.addTransform(d,b),c.isDraggable=!1,c.setParents(d)),this},j.free=function(){var a=this.anglepoint;return a.transformations.length>0&&(a.transformations.pop(),a.isDraggable=!0,a.parents=[]),this},j.setParents(o)),a.exists(j.visProp.text)&&j.label.setText(j.visProp.text),j.elType="angle",j.type=f.OBJECT_TYPE_ANGLE,j.subs={},j.updateDataArraySquare=function(){var a,d,e,f,g,h,i,j,k=this.Radius();"2lines"===p&&this.updateDataArraySector(),a=this.point2,d=this.point1,e=this.point3,a=a.coords.usrCoords,d=d.coords.usrCoords,e=e.coords.usrCoords,f=b.distance(a,d,3),g=b.distance(e,d,3),a=[1,d[1]+(a[1]-d[1])*k/f,d[2]+(a[2]-d[2])*k/f],e=[1,d[1]+(e[1]-d[1])*k/g,d[2]+(e[2]-d[2])*k/g],h=c.crossProduct(e,d),i=[-a[1]*h[1]-a[2]*h[2],a[0]*h[1],a[0]*h[2]],h=c.crossProduct(a,d),j=[-e[1]*h[1]-e[2]*h[2],e[0]*h[1],e[0]*h[2]],h=c.crossProduct(i,j),h[1]/=h[0],h[2]/=h[0],this.dataX=[d[1],a[1],h[1],e[1],d[1]],this.dataY=[d[2],a[2],h[2],e[2],d[2]],this.bezierDegree=1},j.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},j.updateDataArray=function(){var a=this.visProp.type,d=b.trueAngle(this.point2,this.point1,this.point3);("minor"===this.visProp.selection&&d>180||"major"===this.visProp.selection&&180>d)&&(d=360-d),Math.abs(d-90)<this.visProp.orthosensitivity+c.eps&&(a=this.visProp.orthotype),"none"===a?this.updateDataArrayNone():"square"===a?this.updateDataArraySquare():"sector"===a?this.updateDataArraySector():"sectordot"===a&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||"sectordot"!==a&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},m=g.copyAttributes(i,d.options,"angle","dot"),j.dot=d.create("point",[function(){var a,d,e,f,h,i,k,l;return g.exists(j.dot)&&!j.dot.visProp.visible?[0,0]:(a=j.point2.coords.usrCoords,d=j.point1.coords.usrCoords,e=j.Radius(),f=b.distance(a,d,3),h=b.rad(j.point2,j.point1,j.point3),("minor"===j.visProp.selection&&h>Math.PI||"major"===j.visProp.selection&&h<Math.PI)&&(h=-(2*Math.PI-h)),h*=.5,i=Math.cos(h),k=Math.sin(h),a=[1,d[1]+(a[1]-d[1])*e/f,d[2]+(a[2]-d[2])*e/f],l=[[1,0,0],[d[1]-.5*d[1]*i+.5*d[2]*k,.5*i,.5*-k],[d[2]-.5*d[1]*k-.5*d[2]*i,.5*k,.5*i]],c.matVecMult(l,a))}],m),j.dot.dump=!1,j.subs.dot=j.dot,"2lines"===p)for(n=0;2>n;n++)d.select(h[n]).addChild(j.dot);else for(n=0;3>n;n++)d.select(o[n]).addChild(j.dot);return j.getLabelAnchor=function(){var a,d,h,i,k,l,m,n,o,p=12,q=12;return g.exists(this.label.visProp.fontSize)&&(p=this.label.visProp.fontSize,q=this.label.visProp.fontSize),p/=this.board.unitX,q/=this.board.unitY,d=j.point2.coords.usrCoords,h=j.point1.coords.usrCoords,i=j.Radius(),k=b.distance(d,h,3),l=b.rad(j.point2,j.point1,j.point3),("minor"===j.visProp.selection&&l>Math.PI||"major"===j.visProp.selection&&l<Math.PI)&&(l=-(2*Math.PI-l)),l*=.5,m=Math.cos(l),n=Math.sin(l),d=[1,h[1]+(d[1]-h[1])*i/k,h[2]+(d[2]-h[2])*i/k],o=[[1,0,0],[h[1]-.5*h[1]*m+.5*h[2]*n,.5*m,.5*-n],[h[2]-.5*h[1]*n-.5*h[2]*m,.5*n,.5*m]],a=c.matVecMult(o,d),a[1]/=a[0],a[2]/=a[0],a[0]/=a[0],k=b.distance(a,h,3),a=[a[0],h[1]+(a[1]-h[1])*(i+p)/k,h[2]+(a[2]-h[2])*(i+p)/k],new e(f.COORDS_BY_USER,a,this.board)},j.Value=function(){return b.rad(this.point2,this.point1,this.point3)},j.methodMap=g.deepCopy(j.methodMap,{Value:"Value",setAngle:"setAngle",free:"free"}),j},a.registerElement("angle",a.createAngle),a.createNonreflexAngle=function(c,d,e){var f;return e.selection="minor",f=a.createAngle(c,d,e),f.Value=function(){var a=b.rad(this.point2,this.point1,this.point3);return a<Math.PI?a:2*Math.PI-a},f},a.registerElement("nonreflexangle",a.createNonreflexAngle),a.createReflexAngle=function(c,d,e){var f;return e.selection="major",f=a.createAngle(c,d,e),f.Value=function(){var a=b.rad(this.point2,this.point1,this.point3);return a>=Math.PI?a:2*Math.PI-a},f},a.registerElement("reflexangle",a.createReflexAngle),{createSector:a.createSector,createCircumcircleSector:a.createCircumcircleSector,createMinorSector:a.createMinorSector,createMajorSector:a.createMajorSector,createAngle:a.createAngle,createReflexAngle:a.createReflexAngle,createNonreflexAngle:a.createNonreflexAngle}}),define("element/locus",["jxg","math/symbolic","utils/type","base/constants","base/curve"],function(a,b,c,d,e){"use strict";return a.createLocus=function(a,d,e){var f,g;if(!c.isArray(d)||1!==d.length||!c.isPoint(d[0]))throw new Error("JSXGraph: Can't create locus with parent of type other than point.\nPossible parent types: [point]");return g=d[0],f=a.create("curve",[[null],[null]],e),f.dontCallServer=!1,f.elType="locus",f.setParents([g.id]),f.updateDataArray=function(){var c,d,e;f.board.mode>0||(c=b.generatePolynomials(a,g,!0).join("|"),c!==f.spe&&(f.spe=c,d=function(a,b,c,d){f.dataX=a,f.dataY=b,f.eq=c,f.ctime=d,f.generatePolynomial=function(a){return function(b){var c,d="("+b.symbolic.x+")",e="("+b.symbolic.y+")",f=[];for(c=0;c<a.length;c++)f[c]=a[c].replace(/\*\*/g,"^").replace(/x/g,d).replace(/y/g,e);return f}}(c)},e=b.geometricLocusByGroebnerBase(a,g,d),d(e.datax,e.datay,e.polynomial,e.exectime)))},f},a.registerElement("locus",a.createLocus),{createLocus:a.createLocus}}),define("base/image",["jxg","base/constants","base/coords","base/element","math/math","math/statistics","utils/type","base/coordselement"],function(a,b,c,d,e,f,g,h){"use strict";return a.Image=function(c,d,e,f,h){this.constructor(c,e,b.OBJECT_TYPE_IMAGE,b.OBJECT_CLASS_OTHER),this.element=this.board.select(e.anchor),this.coordsConstructor(d),this.W=g.createFunction(h[0],this.board,""),this.H=g.createFunction(h[1],this.board,""),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*c.unitX),Math.abs(this.usrSize[1]*c.unitY)],this.url=f,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=a.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},a.Image.prototype=new d,g.copyPrototypeMethods(a.Image,h,"coordsConstructor"),a.extend(a.Image.prototype,{hasPoint:function(a,d){var f,g,h,i,j,k,l,m=this.transformations.length;return 0===m?(f=a-this.coords.scrCoords[1],g=this.coords.scrCoords[2]-d,h=this.board.options.precision.hasPoint,f>=-h&&f-this.size[0]<=h&&g>=-h&&g-this.size[1]<=h):(i=new c(b.COORDS_BY_SCREEN,[a,d],this.board),i=i.usrCoords,j=[i[0]-this.span[0][0],i[1]-this.span[0][1],i[2]-this.span[0][2]],l=e.innerProduct,k=l(j,this.span[1]),k>=0&&k<=l(this.span[1],this.span[1])&&(k=l(j,this.span[2]),k>=0&&k<=l(this.span[2],this.span[2]))?!0:!1)},update:function(a){return this.needsUpdate?(this.updateCoords(a),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){this.coords.setCoordinates(b.COORDS_BY_USER,[this.W(),this.H()])},updateSpan:function(){var a,b,c=this.transformations.length,d=[];if(0===c)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(d[0]=[this.Z(),this.X(),this.Y()],d[1]=[this.Z(),this.X()+this.W(),this.Y()],d[2]=[this.Z(),this.X(),this.Y()+this.H()],a=0;c>a;a++)for(b=0;3>b;b++)d[b]=e.matVecMult(this.transformations[a].matrix,d[b]);for(b=0;3>b;b++)d[b][1]/=d[b][0],d[b][2]/=d[b][0],d[b][0]/=d[b][0];for(b=1;3>b;b++)d[b][0]-=d[0][0],d[b][1]-=d[0][1],d[b][2]-=d[0][2];this.span=d}return this},addTransform:function(a){var b;if(g.isArray(a))for(b=0;b<a.length;b++)this.transformations.push(a[b]);else this.transformations.push(a)}}),a.createImage=function(b,c,d){var e,f,i=c[0],j=c[1],k=c[2];if(e=g.copyAttributes(d,b.options,"image"),f=h.create(a.Image,b,j,e,i,k),!f)throw new Error("JSXGraph: Can't create image with parent types '"+typeof c[0]+"' and '"+typeof c[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==g.evaluate(e.rotate)&&f.addRotation(g.evaluate(e.rotate)),f},a.registerElement("image",a.createImage),{Image:a.Image,createImage:a.createImage}}),define("element/slider",["jxg","math/math","base/constants","utils/type","base/point","base/group","base/element","base/line","base/ticks","base/text"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return a.createSlider=function(a,f,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;B=d.copyAttributes(h,a.options,"slider"),z=B.withticks,y=B.withlabel,A=B.snapwidth,C=B.precision,B=d.copyAttributes(h,a.options,"slider","point1"),o=a.create("point",f[0],B),B=d.copyAttributes(h,a.options,"slider","point2"),p=a.create("point",f[1],B),a.create("group",[o,p]),B=d.copyAttributes(h,a.options,"slider","baseline"),q=a.create("segment",[o,p],B),q.updateStdform(),i=o.coords.usrCoords.slice(1),j=p.coords.usrCoords.slice(1),k=f[2][0],l=f[2][1],m=f[2][2],n=m-k,z&&(B=d.copyAttributes(h,a.options,"slider","ticks"),r=2,s=a.create("ticks",[q,p.Dist(o)/r,function(a){var d=o.Dist(p),e=o.coords.distance(c.COORDS_BY_USER,a);return d<b.eps?0:e/d*n+k}],B)),t=i[0]+(j[0]-i[0])*(l-k)/(m-k),u=i[1]+(j[1]-i[1])*(l-k)/(m-k),B=d.copyAttributes(h,a.options,"slider"),B.withLabel=!1,v=a.create("glider",[t,u,q],B),v.setAttribute({snapwidth:A}),B=d.copyAttributes(h,a.options,"slider","highline"),w=a.create("segment",[o,v],B),v.Value=function(){var a=this._smax-this._smin;return-1===v.visProp.snapwidth?this.position*a+this._smin:Math.round((this.position*a+this._smin)/this.visProp.snapwidth)*this.visProp.snapwidth},v.methodMap=d.deepCopy(v.methodMap,{Value:"Value",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"}),v._smax=m,v._smin=k,v.setMax=function(a){return this._smax=a,this},v.setMin=function(a){return this._smin=a,this},y&&(B=d.copyAttributes(h,a.options,"slider","label"),x=a.create("text",[function(){return.05*(p.X()-o.X())+p.X()},function(){return.05*(p.Y()-o.Y())+p.Y()},function(){var a;return a=v.name&&""!==v.name?v.name+" = ":"",a+v.Value().toFixed(C)}],B),v.label=x,v.visProp.withlabel=!0,v.hasLabel=!0),v.point1=o,v.point2=p,v.baseline=q,v.highline=w,z&&(v.ticks=s),v.remove=function(){y&&a.removeObject(x),a.removeObject(w),a.removeObject(q),a.removeObject(p),a.removeObject(o),e.Point.prototype.remove.call(v)},o.dump=!1,p.dump=!1,q.dump=!1,w.dump=!1,v.elType="slider",v.parents=f,v.subs={point1:o,point2:p,baseLine:q,highLine:w},z&&(s.dump=!1,v.subs.ticks=s);for(D in v.subs)v.subs[D].status={visible:v.subs[D].visProp.visible};return v.hideElement=function(){var a;g.prototype.hideElement.call(this);for(a in this.subs)this.subs[a].status.visible=this.subs[a].visProp.visible,this.subs[a].hideElement()},v.showElement=function(){var a;g.prototype.showElement.call(this);for(a in this.subs)this.subs[a].status.visible&&this.subs[a].showElement()},v},a.registerElement("slider",a.createSlider),{createSlider:a.createSlider}}),define("element/measure",["jxg","utils/type","base/element","base/point","base/line","base/ticks"],function(a,b,c,d,e,f){"use strict";return a.createTapemeasure=function(d,e,f){var g,h,i,j,k,l,m,n,o,p,q;return g=e[0],h=e[1],i=b.copyAttributes(f,d.options,"tapemeasure","point1"),n=d.create("point",g,i),i=b.copyAttributes(f,d.options,"tapemeasure","point2"),o=d.create("point",h,i),n.setAttribute({ignoredSnapToPoints:[o]}),o.setAttribute({ignoredSnapToPoints:[n]}),i=b.copyAttributes(f,d.options,"tapemeasure"),j=i.withticks,k=i.withlabel,l=i.precision,k&&(i.withlabel=!0),m=d.create("segment",[n,o],i),k&&(p=f.name&&""!==f.name?f.name+" = ":"",m.label.setText(function(){return p+n.Dist(o).toFixed(l)})),j&&(i=b.copyAttributes(f,d.options,"tapemeasure","ticks"),q=d.create("ticks",[m,.1],i)),m.remove=function(){j&&m.removeTicks(q),d.removeObject(o),d.removeObject(n),c.prototype.remove.call(this)},m.Value=function(){return n.Dist(o)},n.dump=!1,o.dump=!1,m.elType="tapemeasure",m.getParents=function(){return[[n.X(),n.Y()],[o.X(),o.Y()]]},m.subs={point1:n,point2:o},j&&(q.dump=!1),m.methodMap=a.deepCopy(m.methodMap,{
Value:"Value"}),m},a.registerElement("tapemeasure",a.createTapemeasure),{createTapemeasure:a.createTapemeasure}}),define("parser/datasource",["jxg","utils/type"],function(a,b){"use strict";return a.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this},a.extend(a.DataSource.prototype,{loadFromArray:function(a,c,d){var e,f,g;if(b.isArray(c)&&(this.columnHeaders=c,c=!1),b.isArray(d)&&(this.rowHeaders=d,d=!1),this.data=[],c&&(this.columnHeaders=[]),d&&(this.rowHeaders=[]),b.exists(a)){for(this.data=[],e=0;e<a.length;e++)for(this.data[e]=[],f=0;f<a[e].length;f++)g=a[e][f],parseFloat(g).toString()===g?this.data[e][f]=parseFloat(g):"-"!==g?this.data[e][f]=g:this.data[e][f]=NaN;if(c&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),d)for(this.rowHeaders=[],e=0;e<this.data.length;e++)this.rowHeaders.push(this.data[e][0]),this.data[e]=this.data[e].slice(1)}return this},loadFromTable:function(a,c,d){var e,f,g,h,i;if(b.isArray(c)&&(this.columnHeaders=c,c=!1),b.isArray(d)&&(this.rowHeaders=d,d=!1),this.data=[],c&&(this.columnHeaders=[]),d&&(this.rowHeaders=[]),a=document.getElementById(a),b.exists(a)){for(e=a.getElementsByTagName("tr"),this.data=[],f=0;f<e.length;f++)for(h=e[f].getElementsByTagName("td"),this.data[f]=[],g=0;g<h.length;g++)i=h[g].innerHTML,parseFloat(i).toString()===i?this.data[f][g]=parseFloat(i):"-"!==i?this.data[f][g]=i:this.data[f][g]=NaN;if(c&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),d)for(this.rowHeaders=[],f=0;f<this.data.length;f++)this.rowHeaders.push(this.data[f][0]),this.data[f]=this.data[f].slice(1)}return this},addColumn:function(a,b,c){throw new Error("not implemented")},addRow:function(a,b,c){throw new Error("not implemented")},getColumn:function(a){var b,c=[];if("string"==typeof a)for(b=0;b<this.columnHeaders.length;b++)if(a===this.columnHeaders[b]){a=b;break}for(b=0;b<this.data.length;b++)this.data[b].length>a&&(c[b]=parseFloat(this.data[b][a]));return c},getRow:function(a){var b,c;if("string"==typeof a)for(c=0;c<this.rowHeaders.length;c++)if(a===this.rowHeaders[c]){a=c;break}for(b=[],c=0;c<this.data[a].length;c++)b[c]=this.data[a][c];return b}}),a.DataSource}),define("base/chart",["jxg","math/numerics","math/statistics","base/constants","base/coords","base/element","parser/datasource","utils/color","utils/type","utils/env","base/curve","base/point","base/text","base/polygon","element/sector","base/transformation","base/line","base/circle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";return a.Chart=function(a,b,c){this.constructor(a,c);var d,e,f,g,h,j;if(!i.isArray(b)||0===b.length)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],i.isNumber(b[0]))for(e=b,d=[],f=0;f<e.length;f++)d[f]=f+1;else if(1===b.length&&i.isArray(b[0]))for(e=b[0],d=[],j=i.evaluate(e).length,f=0;j>f;f++)d[f]=f+1;else 2===b.length&&(j=Math.min(b[0].length,b[1].length),d=b[0].slice(0,j),e=b[1].slice(0,j));if(i.isArray(e)&&0===e.length)throw new Error("JSXGraph: Can't create charts without data.");for(h=c.chartstyle.replace(/ /g,"").split(","),f=0;f<h.length;f++){switch(h[f]){case"bar":g=this.drawBar(a,d,e,c);break;case"line":g=this.drawLine(a,d,e,c);break;case"fit":g=this.drawFit(a,d,e,c);break;case"spline":g=this.drawSpline(a,d,e,c);break;case"pie":g=this.drawPie(a,e,c);break;case"point":g=this.drawPoints(a,d,e,c);break;case"radar":g=this.drawRadar(a,b,c)}this.elements.push(g)}return this.id=this.board.setId(this,"Chart"),this.elements},a.Chart.prototype=new f,a.extend(a.Chart.prototype,{drawLine:function(a,b,c,d){return d.fillcolor="none",d.highlightfillcolor="none",a.create("curve",[b,c],d)},drawSpline:function(a,b,c,d){return d.fillColor="none",d.highlightfillcolor="none",a.create("spline",[b,c],d)},drawFit:function(a,c,d,e){var f=e.degree;return f=Math.max(parseInt(f,10),1)||1,e.fillcolor="none",e.highlightfillcolor="none",a.create("functiongraph",[b.regressionPolynomial(f,c,d)],e)},drawBar:function(a,b,c,d){var e,f,g,h,j,k,l,m,n,o,p,q,r=[],s=[],t=function(a,c){return function(){return b[a]()-c*k}},u={fixed:!0,withLabel:!1,visible:!1,name:""};if(i.exists(d.fillopacity)||(d.fillopacity=.6),d&&d.width)k=d.width;else{if(b.length<=1)k=1;else for(k=b[1]-b[0],e=1;e<b.length-1;e++)k=b[e+1]-b[e]<k?b[e+1]-b[e]:k;k*=.8}for(g=d.fillcolor,q=i.copyAttributes(d,a.options,"chart","label"),h=parseFloat(q.fontsize),e=0;e<b.length;e++)i.isFunction(b[e])?(l=t(e,-.5),m=t(e,0),n=t(e,.5)):(l=b[e]-.5*k,m=b[e],n=b[e]+.5*k),o=c[e],"horizontal"===d.dir?(s[0]=a.create("point",[0,l],u),s[1]=a.create("point",[o,l],u),s[2]=a.create("point",[o,n],u),s[3]=a.create("point",[0,n],u),i.exists(d.labels)&&i.exists(d.labels[e])&&(f=d.labels[e].toString().length,f=2*f*h/a.unitX,o>=0?o+=.5*h/a.unitX:o-=h*f/a.unitX,m-=.2*h/a.unitY,j=a.create("text",[o,m,d.labels[e].toString()],q))):(s[0]=a.create("point",[l,0],u),s[1]=a.create("point",[l,o],u),s[2]=a.create("point",[n,o],u),s[3]=a.create("point",[n,0],u),i.exists(d.labels)&&i.exists(d.labels[e])&&(f=d.labels[e].toString().length,f=.6*f*h/a.unitX,o>=0?o+=.5*h/a.unitY:o-=h/a.unitY,j=a.create("text",[m-.5*f,o,d.labels[e].toString()],q))),d.withlines=!1,i.isArray(d.colors)&&(p=d.colors,d.fillcolor=p[e%p.length]),r[e]=a.create("polygon",s,d),i.exists(d.labels)&&i.exists(d.labels[e])&&(r[e].text=j);return r},drawPoints:function(a,b,c,d){var e,f=[],g=d.infoboxarray;for(d.fixed=!0,d.name="",e=0;e<b.length;e++)d.infoboxtext=g?g[e%g.length]:!1,f[e]=a.create("point",[b[e],c[e]],d);return f},drawPie:function(a,b,f){var g,h,j=[],k=[],l=(c.sum(b),f.colors),m=f.highlightcolors,n=f.labels,o=f.radius||4,p=o,q=f.center||[0,0],r=q[0],s=q[1],t=function(a,c,d){return function(){var e,f,g,h=0;for(f=0;a>=f;f++)h+=parseFloat(i.evaluate(b[f]));for(e=h,f=a+1;f<b.length;f++)e+=parseFloat(i.evaluate(b[f]));return g=0!==e?2*Math.PI*h/e:0,p()*Math[c](g)+d}},u=function(a,b){var c=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],f=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];i.exists(this.label)&&(this.label.rendNode.style.fontSize=b*this.label.visProp.fontsize+"px",this.label.prepareUpdate().update().updateRenderer()),this.point2.coords=new e(d.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+c*a,this.point1.coords.usrCoords[2]+f*a],this.board),this.prepareUpdate().update().updateRenderer()},v=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),u.call(this,1.1,2))},w=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),u.call(this,.9090909,1))},x={fixed:!0,withLabel:!1,visible:!1,name:""};if(!i.isArray(n))for(n=[],g=0;g<b.length;g++)n[g]="";for(i.isFunction(o)||(p=function(){return o}),f.highlightonsector=f.highlightonsector||!1,f.straightfirst=!1,f.straightlast=!1,h=a.create("point",[r,s],x),j[0]=a.create("point",[function(){return p()+r},function(){return s}],x),g=0;g<b.length;g++)j[g+1]=a.create("point",[t(g,"cos",r),t(g,"sin",s)],x),f.name=n[g],f.withlabel=""!==f.name,f.fillcolor=l&&l[g%l.length],f.labelcolor=l&&l[g%l.length],f.highlightfillcolor=m&&m[g%m.length],k[g]=a.create("sector",[h,j[g],j[g+1]],f),f.highlightonsector&&(k[g].hasPoint=k[g].hasPointSector),f.highlightbysize&&(k[g].highlight=v,k[g].noHighlight=w);return{sectors:k,points:j,midpoint:h}},drawRadar:function(b,c,f){var g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$=c.length,_=function(){var a,b,c,f,g=this.visProp.label.offset.slice(0);return a=this.point1.X(),b=this.point2.X(),c=this.point1.Y(),f=this.point2.Y(),a>b&&(g[0]=-g[0]),c>f&&(g[1]=-g[1]),this.setLabelRelativeCoords(g),new e(d.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},aa=function(a,c){var d,e,f;return d=b.create("transform",[-(v[c]-t[c]),0],{type:"translate"}),e=b.create("transform",[A/(w[c]+u[c]-(v[c]-t[c])),1],{type:"scale"}),d.melt(e),f=b.create("transform",[a],{type:"rotate"}),d.melt(f),d};if(0>=$)return void a.debug("No data");if(j=f.paramarray,!i.exists(j))return void a.debug("Need paramArray attribute");if(k=j.length,1>=k)return void a.debug("Need more than 1 param");for(g=0;$>g;g++)if(k!==c[g].length)return void a.debug("Use data length equal to number of params ("+c[g].length+" != "+k+")");for(l=[],m=[],h=0;k>h;h++)l[h]=c[0][h],m[h]=l[h];for(g=1;$>g;g++)for(h=0;k>h;h++)c[g][h]>l[h]&&(l[h]=c[g][h]),c[g][h]<m[h]&&(m[h]=c[g][h]);for(n=[],o=[],g=0;$>g;g++)n[g]="",o[g]=[];for(p=[],q=[],r=f.startshiftratio||0,s=f.endshiftratio||0,g=0;k>g;g++)p[g]=(l[g]-m[g])*r,q[g]=(l[g]-m[g])*s;if(t=f.startshiftarray||p,u=f.endshiftarray||q,v=f.startarray||m,i.exists(f.start))for(g=0;k>g;g++)v[g]=f.start;if(w=f.endarray||l,i.exists(f.end))for(g=0;k>g;g++)w[g]=f.end;if(t.length!==k)return void a.debug("Start shifts length is not equal to number of parameters");if(u.length!==k)return void a.debug("End shifts length is not equal to number of parameters");if(v.length!==k)return void a.debug("Starts length is not equal to number of parameters");if(w.length!==k)return void a.debug("Ends length is not equal to number of parameters");for(x=f.labelarray||n,y=f.colors,z=f.highlightcolors,A=f.radius||10,Y=f.strokewidth||1,i.exists(f.highlightonsector)||(f.highlightonsector=!1),B={name:f.name,id:f.id,strokewidth:Y,polystrokewidth:f.polystrokewidth||Y,strokecolor:f.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:f.fillColor||"#FFFF88",fillopacity:f.fillOpacity||.4,highlightfillcolor:f.highlightFillColor||"#FF7400",highlightstrokecolor:f.highlightStrokeColor||"black",gradient:f.gradient||"none"},C=f.center||[0,0],D=C[0],E=C[1],F=b.create("point",[D,E],{name:"",fixed:!0,withlabel:!1,visible:!1}),G=Math.PI/2-Math.PI/k,G=f.startangle||0,H=G,I=[],J=[],g=0;k>g;g++)for(H+=2*Math.PI/k,L=A*Math.cos(H)+D,M=A*Math.sin(H)+E,I[g]=b.create("point",[L,M],{name:"",fixed:!0,withlabel:!1,visible:!1}),J[g]=b.create("line",[F,I[g]],{name:j[g],strokeColor:B.strokecolor,strokeWidth:B.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:B.highlightstrokecolor}),J[g].getLabelAnchor=_,K=aa(H,g),h=0;h<c.length;h++)Z=c[h][g],o[h][g]=b.create("point",[Z,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),o[h][g].addTransform(o[h][g],K);for(N=[],g=0;$>g;g++)for(B.labelcolor=y&&y[g%y.length],B.strokecolor=y&&y[g%y.length],B.fillcolor=y&&y[g%y.length],N[g]=b.create("polygon",o[g],{withLines:!0,withLabel:!1,fillColor:B.fillcolor,fillOpacity:B.fillopacity,highlightFillColor:B.highlightfillcolor}),h=0;k>h;h++)N[g].borders[h].setAttribute("strokecolor:"+y[g%y.length]),N[g].borders[h].setAttribute("strokewidth:"+B.polystrokewidth);switch(O=f.legendposition||"none"){case"right":Q=f.legendleftoffset||2,R=f.legendtopoffset||1,this.legend=b.create("legend",[D+A+Q,E+A-R],{labels:x,colors:y});break;case"none":break;default:a.debug("Unknown legend position")}if(P=[],f.showcircles){for(S=[],g=0;6>g;g++)S[g]=20*g;if(S[0]="0",T=f.circlelabelarray||S,U=T.length,2>U)return void a.debug("Too less circles");for(V=[],W=G+Math.PI/k,K=aa(W,0),B.fillcolor="none",B.highlightfillcolor="none",B.strokecolor=f.strokecolor||"black",B.strokewidth=f.circlestrokewidth||.5,B.layer=0,X=(w[0]-v[0])/(U-1),g=0;U>g;g++)V[g]=b.create("point",[v[0]+g*X,0],{name:T[g],size:0,fixed:!0,withLabel:!0,visible:!0}),V[g].addTransform(V[g],K),P[g]=b.create("circle",[F,V[g]],B)}return this.rendNode=N[0].rendNode,{circles:P,lines:J,points:o,midpoint:F,polygons:N}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){}}),a.createChart=function(b,c,d){var e,f,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=[],z=j.isBrowser?b.document.getElementById(c[0]):null;if(1===c.length&&"string"==typeof c[0]){if(i.exists(z)){if(q=i.copyAttributes(d,b.options,"chart"),z=(new g).loadFromTable(c[0],q.withheaders,q.withheaders),e=z.data,m=z.columnHeaders,f=z.rowHeaders,r=q.width,s=q.name,t=q.strokecolor,u=q.fillcolor,v=q.highlightstrokecolor,w=q.highlightfillcolor,b.suspendUpdate(),x=e.length,p=[],q.rows&&i.isArray(q.rows)){for(k=0;x>k;k++)for(l=0;l<q.rows.length;l++)if(q.rows[l]===k||q.withheaders&&q.rows[l]===f[k]){p.push(e[k]);break}}else p=e;for(x=p.length,k=0;x>k;k++){if(o=[],q.chartstyle&&-1!==q.chartstyle.indexOf("bar")){for(n=r?r:.8,o.push(1-n/2+(k+.5)*n/x),l=1;l<p[k].length;l++)o.push(o[l-1]+1);q.width=n/x}s&&s.length===x?q.name=s[k]:q.withheaders&&(q.name=m[k]),t&&t.length===x?q.strokecolor=t[k]:q.strokecolor=h.hsv2rgb((k+1)/x*360,.9,.6),u&&u.length===x?q.fillcolor=u[k]:q.fillcolor=h.hsv2rgb((k+1)/x*360,.9,1),v&&v.length===x?q.highlightstrokecolor=v[k]:q.highlightstrokecolor=h.hsv2rgb((k+1)/x*360,.9,1),w&&w.length===x?q.highlightfillcolor=w[k]:q.highlightfillcolor=h.hsv2rgb((k+1)/x*360,.9,.6),q.chartstyle&&-1!==q.chartstyle.indexOf("bar")?y.push(new a.Chart(b,[o,p[k]],q)):y.push(new a.Chart(b,[p[k]],q))}b.unsuspendUpdate()}return y}return q=i.copyAttributes(d,b.options,"chart"),new a.Chart(b,c,q)},a.registerElement("chart",a.createChart),a.Legend=function(a,b,c){var f;if(this.constructor(),f=i.copyAttributes(c,a.options,"legend"),this.board=a,this.coords=new e(d.COORDS_BY_USER,b,this.board),this.myAtts={},this.label_array=f.labelarray||f.labels,this.color_array=f.colorarray||f.colors,this.lines=[],this.myAtts.strokewidth=f.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=f.legendstyle||f.style,"vertical"!==this.style)throw new Error("JSXGraph: Unknown legend style: "+this.style);this.drawVerticalLegend(a,f)},a.Legend.prototype=new f,a.Legend.prototype.drawVerticalLegend=function(a,b){var c,f=b.linelength||1,g=(b.rowheight||20)/this.board.unitY,h=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new e(d.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(c=0;c<this.label_array.length;c++)this.myAtts.strokecolor=this.color_array[c],this.myAtts.highlightstrokecolor=this.color_array[c],this.myAtts.name=this.label_array[c],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[c],strokeWidth:this.myAtts.strokewidth},this.lines[c]=a.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-c*g],[this.coords.usrCoords[1]+f,this.coords.usrCoords[2]-c*g]],this.myAtts),this.lines[c].getLabelAnchor=h},a.createLegend=function(b,c,d){var e=[0,0];return i.exists(c)&&2===c.length&&(e=c),new a.Legend(b,e,d)},a.registerElement("legend",a.createLegend),{Chart:a.Chart,Legend:a.Legend,createChart:a.createChart,createLegend:a.createLegend}}),define("base/turtle",["jxg","base/constants","base/element","utils/type","base/curve","base/point","base/line","base/transformation"],function(a,b,c,d,e,f,g,h){"use strict";return a.Turtle=function(a,c,e){var f,g,h;return this.constructor(a,e,b.OBJECT_TYPE_TURTLE,b.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=a,this.visProp.curveType="plot",this._attributes=d.copyAttributes(this.visProp,a.options,"turtle"),delete this._attributes.id,f=0,g=0,h=90,0!==c.length&&(3===c.length?(f=c[0],g=c[1],h=c[2]):2===c.length?d.isArray(c[0])?(f=c[0][0],g=c[0][1],h=c[1]):(f=c[0],g=c[1]):(f=c[0][0],g=c[0][1])),this.init(f,g,h),this.methodMap=d.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",penDown:"penDown",pd:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",penSize:"setPenSize",penColor:"setPenColor",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this},a.Turtle.prototype=new c,a.extend(a.Turtle.prototype,{init:function(a,b,c){var d={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Math.sqrt(this.board.unitX*this.board.unitX+this.board.unitY*this.board.unitY),this.pos=[a,b],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,d),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],d),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.right(90-c),this.board.update()},forward:function(a){if(0===a)return this;var b,c=a*Math.cos(this.dir*Math.PI/180),d=a*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||(b=this.board.create("transform",[c,d],{type:"translate"}),b.applyOnce(this.turtle),b.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=c,this.pos[1]+=d,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(a){return this.forward(-a)},right:function(a){if(this.dir-=a,this.dir%=360,!this.turtleIsHidden){var b=this.board.create("transform",[-a*Math.PI/180,this.turtle],{type:"rotate"});b.applyOnce(this.turtle2)}return this.board.update(),this},left:function(a){return this.right(-a)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var a,c;for(a=0;a<this.objects.length;a++)c=this.objects[a],c.type===b.OBJECT_TYPE_CURVE&&(this.board.removeObject(c),this.objects.splice(a,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var a,b,c=this.objects.length;for(a=0;c>a;a++)b=this.objects[a],this.board.removeObject(b);return this.init(0,0,90),this},setPos:function(a,c){var e;return d.isArray(a)?this.pos=a:this.pos=[a,c],this.turtleIsHidden||(this.turtle.setPositionDirectly(b.COORDS_BY_USER,[a,c]),this.turtle2.setPositionDirectly(b.COORDS_BY_USER,[a,c+this.arrowLen]),e=this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}),e.applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",a)),this.objects.push(this.curve),this},setPenColor:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",a)),this.objects.push(this.curve),this},setHighlightPenColor:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",a)),this.objects.push(this.curve),this},setAttribute:function(a){var c,e,f,g=this.objects.length;for(c=0;g>c;c++)e=this.objects[c],e.type===b.OBJECT_TYPE_CURVE&&e.setAttribute(a);return f=this.visProp.id,this.visProp=d.deepCopy(this.curve.visProp),this.visProp.id=f,this._attributes=d.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(a,b){return this._attributes[a.toLowerCase()]=b,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var a=this.stack.pop();return this.pos[0]=a[0],this.pos[1]=a[1],this.dir=a[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(a){var b,c,e,f,g;return d.isArray(a)?(b=this.pos[0],c=this.pos[1],e=a[0],f=a[1],g=Math.atan2(f-c,e-b),this.right(this.dir-180*g/Math.PI)):d.isNumber(a)&&this.right(this.dir-a),this},moveTo:function(a){var b,c,e;return d.isArray(a)&&(b=a[0]-this.pos[0],c=a[1]-this.pos[1],this.turtleIsHidden||(e=this.board.create("transform",[b,c],{type:"translate"}),e.applyOnce(this.turtle),e.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=a[0],this.pos[1]=a[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(a){return this.forward(a)},bk:function(a){return this.back(a)},lt:function(a){return this.left(a)},rt:function(a){return this.right(a)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(a,c){var d,e,f,g,h=this.objects.length;for(d=0,e=0;h>d;d++)if(f=this.objects[d],f.elementClass===b.OBJECT_CLASS_CURVE){if(a>=e&&a<e+f.numberPoints)return g=a-e,f[c](g);e+=f.numberPoints}return this[c]()},X:function(a){return d.exists(a)?this.evalAt(a,"X"):this.pos[0]},Y:function(a){return d.exists(a)?this.evalAt(a,"Y"):this.pos[1]},Z:function(a){return 1},minX:function(){return 0},maxX:function(){var a,c,d=this.objects.length,e=0;for(a=0;d>a;a++)c=this.objects[a],c.elementClass===b.OBJECT_CLASS_CURVE&&(e+=this.objects[a].numberPoints);return e},hasPoint:function(a,c){var d,e;for(d=0;d<this.objects.length;d++)if(e=this.objects[d],e.type===b.OBJECT_TYPE_CURVE&&e.hasPoint(a,c))return!0;return!1}}),a.createTurtle=function(b,c,e){var f;return c=c||[],f=d.copyAttributes(e,b.options,"turtle"),new a.Turtle(b,c,f)},a.registerElement("turtle",a.createTurtle),{Turtle:a.Turtle,createTurtle:a.createTurtle}}),define("utils/dump",["jxg","utils/type"],function(a,b){"use strict";return a.Dump={addMarkers:function(a,c,d){var e,f,g;b.isArray(c)||(c=[c]),b.isArray(d)||(d=[d]),f=Math.min(c.length,d.length),c.length=f,d.length=f;for(e in a.objects)if(a.objects.hasOwnProperty(e))for(g=0;f>g;g++)a.objects[e][c[g]]=d[g]},deleteMarkers:function(a,c){var d,e,f;b.isArray(c)||(c=[c]),e=c.length,c.length=e;for(d in a.objects)if(a.objects.hasOwnProperty(d))for(f=0;e>f;f++)delete a.objects[d][c[f]]},str:function(a){return"string"==typeof a&&"function"!==a.substr(0,7)&&(a="'"+a+"'"),a},minimizeObject:function(a,c){var d,e,f,g={},h=b.deepCopy(a),i=[];for(f=1;f<arguments.length;f++)i.push(arguments[f]);for(f=i.length;f>0;f--)g=b.deepCopy(g,i[f-1],!0);for(d in g)g.hasOwnProperty(d)&&(e=d.toLowerCase(),"object"!=typeof g[d]&&g[d]===h[e]&&delete h[e]);return h},prepareAttributes:function(b,c){var d,e;d=this.minimizeObject(c.getAttributes(),a.Options[c.elType]);for(e in c.subs)c.subs.hasOwnProperty(e)&&(d[e]=this.minimizeObject(c.subs[e].getAttributes(),a.Options[c.elType][e],a.Options[c.subs[e].elType]),d[e].id=c.subs[e].id,d[e].name=c.subs[e].name);return d.id=c.id,d.name=c.name,d},dump:function(a){var b,c,d,e,f=[],g=[],h=[],i=a.objectsList.length;for(this.addMarkers(a,"dumped",!1),g.push({obj:"$board",method:"setBoundingBox",params:[a.getBoundingBox(),!0]}),b=0;i>b;b++)if(c=a.objectsList[b],d={},!c.dumped&&c.dump){for(d.type=c.getType(),d.parents=c.getParents(),"point"===d.type&&1===d.parents[0]&&(d.parents=d.parents.slice(1)),e=0;e<d.parents.length;e++)"string"==typeof d.parents[e]&&(d.parents[e]="'"+d.parents[e]+"'");d.attributes=this.prepareAttributes(a,c),"glider"===d.type&&c.onPolygon&&f.push({obj:c.id,prop:"onPolygon",val:!0}),h.push(d)}return this.deleteMarkers(a,"dumped"),{elements:h,props:f,methods:g}},arrayToParamStr:function(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push(b.call(this,a[c]));return d.join(", ")},toJCAN:function(a){var c,d,e;switch(typeof a){case"object":if(a){if(d=[],b.isArray(a)){for(c=0;c<a.length;c++)d.push(this.toJCAN(a[c]));return"["+d.join(",")+"]"}for(e in a)a.hasOwnProperty(e)&&d.push(e+": "+this.toJCAN(a[e]));return"<<"+d.join(", ")+">> "}return"null";case"string":return"'"+a.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return a.toString();case"null":return"null"}},toJessie:function(a){var b,c,d=this.dump(a),e=[];for(c=d.elements,b=0;b<c.length;b++)c[b].attributes.name.length>0&&e.push("// "+c[b].attributes.name),e.push("s"+b+" = "+c[b].type+"("+c[b].parents.join(", ")+") "+this.toJCAN(c[b].attributes).replace(/\n/,"\\n")+";"),e.push("");for(b=0;b<d.methods.length;b++)e.push(d.methods[b].obj+"."+d.methods[b].method+"("+this.arrayToParamStr(d.methods[b].params,this.toJCAN)+");"),e.push("");for(b=0;b<d.props.length;b++)e.push(d.props[b].obj+"."+d.props[b].prop+" = "+this.toJCAN(d.props[b].val)+";"),e.push("");return e.join("\n")},toJavaScript:function(a){var c,d,e=this.dump(a),f=[];for(d=e.elements,c=0;c<d.length;c++)f.push('board.create("'+d[c].type+'", ['+d[c].parents.join(", ")+"], "+b.toJSON(d[c].attributes)+");");for(c=0;c<e.methods.length;c++)f.push(e.methods[c].obj+"."+e.methods[c].method+"("+this.arrayToParamStr(e.methods[c].params,b.toJSON)+");"),f.push("");for(c=0;c<e.props.length;c++)f.push(e.props[c].obj+"."+e.props[c].prop+" = "+b.toJSON(e.props[c].val)+";"),f.push("");return f.join("\n")}},a.Dump}),define("element/slopetriangle",["jxg","options","utils/type","base/constants","base/line","base/polygon","base/point","base/element"],function(a,b,c,d,e,f,g,h){"use strict";var i={removeSlopeTriangle:function(){f.Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label)},Value:function(){return this.tangent.getSlope()}};return a.createSlopeTriangle=function(b,e,f){var g,h,j,k,l,m,n,o,p;if(1===e.length&&e[0].type===d.OBJECT_TYPE_TANGENT)h=e[0],j=h.glider;else{if(2!==e.length||e[0].elementClass!==d.OBJECT_CLASS_LINE||!c.isPoint(e[1]))throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof e[0]+"'.");h=e[0],j=e[1]}return p=c.copyAttributes(f,b.options,"slopetriangle","basepoint"),n=b.create("point",[function(){return[j.X()+1,j.Y()]}],p),p=c.copyAttributes(f,b.options,"slopetriangle","baseline"),m=b.create("line",[j,n],p),p=c.copyAttributes(f,b.options,"slopetriangle","glider"),k=b.create("glider",[j.X()+1,j.Y(),m],p),p=c.copyAttributes(f,b.options,"slopetriangle","toppoint"),l=b.create("point",[function(){return[k.X(),k.Y()+(k.X()-j.X())*h.getSlope()]}],p),p=c.copyAttributes(f,b.options,"slopetriangle"),g=b.create("polygon",[j,k,l],p),g.Value=i.Value,g.tangent=h,p=c.copyAttributes(f,b.options,"slopetriangle","label"),o=b.create("text",[function(){return k.X()+.1},function(){return.5*(k.Y()+l.Y())},function(){return""}],p),o._setText(function(){return g.Value().toFixed(o.visProp.digits)}),o.prepareUpdate().update().updateRenderer(),g.glider=k,g.basepoint=n,g.baseline=m,g.toppoint=l,g.label=o,g.methodMap=a.deepCopy(g.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value"}),g.remove=i.removeSlopeTriangle,g},a.registerElement("slopetriangle",a.createSlopeTriangle),{createSlopeTriangle:a.createSlopeTriangle}}),define("element/checkbox",["jxg","utils/env","utils/type"],function(a,b,c){"use strict";var d={CheckboxChangeEventHandler:function(){this._value=this.rendNodeCheckbox.checked,this.board.update()}};return a.createCheckbox=function(e,f,g){var h,i,j=c.copyAttributes(g,e.options,"checkbox");return i=[f[0],f[1],'<form style="display:inline"><input type="checkbox" /><span></span></form>'],h=a.createText(e,i,j),h.type=c.OBJECT_TYPE_CHECKBOX,h.rendNodeForm=h.rendNode.childNodes[0],h.rendNodeForm.id=h.rendNode.id+"_form",h.rendNodeCheckbox=h.rendNodeForm.childNodes[0],h.rendNodeCheckbox.id=h.rendNode.id+"_checkbox",h.rendNodeTag=h.rendNodeCheckbox,h.rendNodeTag.disabled=!!j.disabled,h.rendNodeLabel=h.rendNodeForm.childNodes[1],h.rendNodeLabel.id=h.rendNode.id+"_label",h.rendNodeLabel.innerHTML=f[2],h._value=!1,h.Value=function(){return this._value},h.update=function(){return this.needsUpdate&&(this._value=this.rendNodeCheckbox.checked),this},b.addEvent(h.rendNodeCheckbox,"change",d.CheckboxChangeEventHandler,h),h},a.registerElement("checkbox",a.createCheckbox),{createCheckbox:a.createCheckbox}}),define("element/input",["jxg","utils/env","utils/type"],function(a,b,c){"use strict";var d={InputInputEventHandler:function(){this._value=this.rendNodeInput.value,this.board.update()}};return a.createInput=function(e,f,g){var h,i,j=c.copyAttributes(g,e.options,"input");return i=[f[0],f[1],'<form style="display:inline"><span></span><input type="text" /></form>'],h=a.createText(e,i,j),h.type=c.OBJECT_TYPE_INPUT,h.rendNodeForm=h.rendNode.childNodes[0],h.rendNodeForm.id=h.rendNode.id+"_form",h.rendNodeLabel=h.rendNodeForm.childNodes[0],h.rendNodeLabel.id=h.rendNode.id+"_label",h.rendNodeLabel.innerHTML=f[3],h.rendNodeInput=h.rendNodeForm.childNodes[1],h.rendNodeInput.id=h.rendNode.id+"_input",h.rendNodeInput.value=f[2],h.rendNodeTag=h.rendNodeInput,h.rendNodeTag.disabled=!!j.disabled,h._value=f[2],h.Value=function(){return this._value},h.update=function(){return this.needsUpdate&&(this._value=this.rendNodeInput.value),this},b.addEvent(h.rendNodeInput,"input",d.InputInputEventHandler,h),h},a.registerElement("input",a.createInput),{createInput:a.createInput}}),define("element/button",["jxg","utils/env","utils/type"],function(a,b,c){"use strict";var d={ButtonClickEventHandler:function(){this._handler&&this._handler(),this.board.update()}};return a.createButton=function(e,f,g){var h,i,j=c.copyAttributes(g,e.options,"button");return i=[f[0],f[1],'<button type="button"></button>'],h=a.createText(e,i,j),h.type=c.OBJECT_TYPE_BUTTON,h.rendNodeButton=h.rendNode.childNodes[0],h.rendNodeButton.id=h.rendNode.id+"_button",h.rendNodeButton.innerHTML=f[2],h.rendNodeTag=h.rendNodeButton,h.rendNodeTag.disabled=!!j.disabled,f[3]&&("string"==typeof f[3]?(h._jc=new a.JessieCode,h._jc.use(e),h._handler=function(){h._jc.parse(f[3])}):h._handler=f[3]),b.addEvent(h.rendNodeButton,"click",d.ButtonClickEventHandler,h),h},a.registerElement("button",a.createButton),{createButton:a.createButton}}),define("../build/core.deps.js",["jxg","utils/env","base/constants","utils/type","utils/xml","utils/event","utils/expect","math/math","math/qdt","math/numerics","math/statistics","math/symbolic","math/geometry","math/poly","math/complex","renderer/abstract","renderer/no","reader/file","parser/geonext","base/board","options","jsxgraph","base/element","base/coords","base/point","base/line","base/group","base/circle","element/conic","base/polygon","base/curve","element/arc","element/sector","base/composition","element/composition","element/locus","base/text","base/image","element/slider","element/measure","base/chart","base/transformation","base/turtle","utils/color","base/ticks","utils/zip","utils/base64","utils/uuid","utils/encoding","server/server","parser/datasource","parser/jessiecode","utils/dump","renderer/svg","renderer/vml","renderer/canvas","renderer/no","element/slopetriangle","element/checkbox","element/input","element/button"],function(a,b){"use strict";return b.isBrowser?window.JXG=a:b.isNode()&&"object"==typeof module?module.exports=a:b.isWebWorker()&&(self.JXG=a),a}),require("../build/core.deps.js")}();